{"version":3,"file":"TimelineModal.vue_vue_type_script_setup_true_lang-B4ujNocA.js","sources":["../../src/composables/useModal.ts","../../src/components/common/DetailModal.vue","../../src/composables/useBusinessParser.ts","../../src/shared/business-parsers/utils.ts","../../src/shared/business-parsers/email-parser.ts","../../src/shared/business-parsers/ai-parser.ts","../../src/shared/business-parsers/unified-processor.ts","../../src/components/common/TimelineModal.vue"],"sourcesContent":["import { ref, watch } from 'vue'\nimport { useUIStore } from '../stores/ui'\n\nexport interface ModalState {\n  show: boolean\n  isLoading: boolean\n  error: string | null\n}\n\nexport interface ModalConfig {\n  closeOnEscape?: boolean\n  closeOnClickOutside?: boolean\n  showLoadingSpinner?: boolean\n}\n\nexport function useModal(initialShow = false, config: ModalConfig = {}) {\n  const uiStore = useUIStore()\n  \n  const show = ref(initialShow)\n  const isLoading = ref(false)\n  const error = ref<string | null>(null)\n  \n  const {\n    closeOnEscape = true,\n    closeOnClickOutside = true,\n    showLoadingSpinner = true\n  } = config\n\n  const open = () => {\n    show.value = true\n    error.value = null\n  }\n\n  const close = () => {\n    show.value = false\n    error.value = null\n  }\n\n  const setLoading = (loading: boolean) => {\n    isLoading.value = loading\n  }\n\n  const setError = (err: string | Error | null) => {\n    if (err === null) {\n      error.value = null\n    } else if (typeof err === 'string') {\n      error.value = err\n    } else {\n      error.value = err.message\n    }\n    isLoading.value = false\n  }\n\n  const showToast = (type: 'success' | 'error' | 'warning' | 'info', title: string, message?: string) => {\n    uiStore.showToast(title, message || '', type)\n  }\n\n  const handleKeydown = (event: KeyboardEvent) => {\n    if (closeOnEscape && event.key === 'Escape' && show.value) {\n      close()\n    }\n  }\n\n  const handleClickOutside = () => {\n    if (closeOnClickOutside) {\n      close()\n    }\n  }\n\n  watch(show, (newShow) => {\n    if (newShow && closeOnEscape) {\n      document.addEventListener('keydown', handleKeydown)\n    } else {\n      document.removeEventListener('keydown', handleKeydown)\n    }\n  })\n\n  return {\n    // State\n    show,\n    isLoading,\n    error,\n    \n    // Actions\n    open,\n    close,\n    setLoading,\n    setError,\n    showToast,\n    handleClickOutside,\n    \n    // Computed helpers\n    hasError: () => error.value !== null,\n    canSubmit: () => !isLoading.value && error.value === null\n  }\n}","<template>\n  <Teleport to=\"body\">\n    <div\n      v-if=\"show\"\n      class=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 premium-modal-overlay\"\n      @click.self=\"handleClickOutside\"\n    >\n      <div class=\"w-full max-w-5xl h-[80vh] premium-glass premium-modal-container overflow-hidden flex flex-col premium-float\">\n\n        <!-- Header -->\n        <div class=\"flex items-center justify-between p-6 border-b border-gray-800/50 bg-gradient-to-r from-gray-900/50 to-gray-800/30\">\n          <div class=\"flex items-center gap-4\">\n            <div class=\"p-3 bg-primary/20 border border-primary/40 rounded-lg premium-glow-subtle premium-hover-lift\">\n              <Icon :icon=\"headerIcon\" class=\"h-6 w-6 text-primary premium-text-glow\" />\n            </div>\n            <div>\n              <h2 class=\"text-xl font-bold text-white premium-gradient-text\">{{ title }}</h2>\n              <div v-if=\"subtitle || $slots.subtitle\" class=\"flex items-center gap-3 mt-1\">\n                <slot name=\"subtitle\">\n                  <span class=\"text-sm text-gray-400\">{{ subtitle }}</span>\n                </slot>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"flex items-center gap-2\">\n            <slot name=\"headerActions\" :isLoading=\"isLoading\" :refresh=\"handleRefresh\"></slot>\n\n            <button\n              v-if=\"showRefresh\"\n              @click=\"handleRefresh\"\n              :disabled=\"isLoading\"\n              class=\"p-2 text-gray-400 hover:text-primary disabled:text-gray-600 transition-all duration-200 premium-hover-lift rounded-lg hover:bg-gray-800/50\"\n              :title=\"isLoading ? 'Aggiornamento...' : 'Aggiorna dati'\"\n            >\n              <Icon icon=\"lucide:refresh-cw\" :class=\"['h-4 w-4', { 'animate-spin': isLoading }]\" />\n            </button>\n\n            <button\n              @click=\"$emit('close')\"\n              class=\"p-2 text-gray-400 hover:text-red-400 transition-all duration-200 premium-hover-lift rounded-lg hover:bg-red-900/20\"\n            >\n              <Icon icon=\"lucide:x\" class=\"h-5 w-5\" />\n            </button>\n          </div>\n        </div>\n\n        <!-- Loading State -->\n        <div v-if=\"isLoading && !hasContent\" class=\"flex items-center justify-center p-12 bg-gray-900/30\">\n          <div class=\"text-center\">\n            <div class=\"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary premium-neon-pulse\"></div>\n            <p class=\"mt-4 text-gray-300\">{{ loadingText }}</p>\n          </div>\n        </div>\n\n        <!-- Error State -->\n        <div v-else-if=\"error\" class=\"p-6 bg-red-900/10 border border-red-500/20 m-4 rounded-lg\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h2 class=\"text-lg font-semibold text-red-400 premium-text-glow\">Errore nel caricamento</h2>\n          </div>\n          <p class=\"text-gray-300\">{{ error }}</p>\n          <div class=\"mt-4 flex gap-2\">\n            <button @click=\"$emit('retry')\" class=\"btn-premium\">Riprova</button>\n            <button @click=\"$emit('close')\" class=\"btn-premium-secondary\">Chiudi</button>\n          </div>\n        </div>\n\n        <!-- Content with Tabs -->\n        <div v-else class=\"flex flex-col flex-1\">\n          <!-- Tabs Navigation -->\n          <div v-if=\"tabs.length > 1\" class=\"flex items-center gap-1 p-3 border-b border-gray-800/50 bg-gradient-to-r from-gray-900/30 to-gray-800/20\">\n            <button\n              v-for=\"tab in tabs\"\n              :key=\"tab.id\"\n              @click=\"activeTab = tab.id\"\n              :class=\"[\n                'flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition-all duration-200 premium-hover-lift',\n                activeTab === tab.id\n                  ? 'bg-primary text-white premium-glow-intense premium-text-glow'\n                  : 'text-gray-400 hover:bg-gray-800/50 hover:text-white'\n              ]\"\n            >\n              <component :is=\"tab.icon\" class=\"h-4 w-4\" />\n              {{ tab.label }}\n            </button>\n          </div>\n\n          <!-- Tab Content -->\n          <div class=\"overflow-y-auto flex-1 bg-gray-900/20\" style=\"max-height: calc(70vh - 140px);\">\n            <slot\n              :name=\"activeTab\"\n              :activeTab=\"activeTab\"\n              :isLoading=\"isLoading\"\n              :error=\"error\"\n              :data=\"data\"\n            >\n              <div class=\"p-6\">\n                <slot name=\"default\" :activeTab=\"activeTab\" :data=\"data\"></slot>\n              </div>\n            </slot>\n          </div>\n        </div>\n      </div>\n    </div>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\nimport { Icon } from '@iconify/vue'\nimport { useModal } from '../../composables/useModal'\n\nexport interface Tab {\n  id: string\n  label: string\n  icon: any\n}\n\ninterface Props {\n  show: boolean\n  title: string\n  subtitle?: string\n  headerIcon?: any\n  tabs?: Tab[]\n  defaultTab?: string\n  loadingText?: string\n  showRefresh?: boolean\n  isLoading?: boolean\n  error?: string | null\n  data?: any\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  headerIcon: 'lucide:file-text',\n  tabs: () => [],\n  loadingText: 'Caricamento dati...',\n  showRefresh: true,\n  isLoading: false,\n  error: null,\n  data: null\n})\n\nconst emit = defineEmits<{\n  close: []\n  refresh: []\n  retry: []\n  tabChanged: [tabId: string]\n}>()\n\nconst { handleClickOutside } = useModal(false)\n\nconst activeTab = ref(props.defaultTab || props.tabs[0]?.id || 'default')\n\nconst hasContent = computed(() => {\n  return props.data !== null || props.error !== null\n})\n\nconst modalClickOutside = () => {\n  handleClickOutside()\n  emit('close')\n}\n\nconst handleRefresh = () => {\n  emit('refresh')\n}\n\nconst changeTab = (tabId: string) => {\n  activeTab.value = tabId\n  emit('tabChanged', tabId)\n}\n</script>\n\n<style scoped>\n/* Premium Modal Animations */\n.premium-modal-overlay {\n  animation: modalOverlayFadeIn 0.15s ease-out;\n}\n\n.premium-modal-container {\n  animation: modalSlideIn 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);\n}\n\n@keyframes modalOverlayFadeIn {\n  0% { opacity: 0; }\n  100% { opacity: 1; }\n}\n\n@keyframes modalSlideIn {\n  0% {\n    transform: translateY(-20px) scale(0.95);\n    opacity: 0;\n  }\n  100% {\n    transform: translateY(0) scale(1);\n    opacity: 1;\n  }\n}\n\n/* Enhanced scrollbar for content */\n.overflow-y-auto::-webkit-scrollbar {\n  width: 6px;\n}\n\n.overflow-y-auto::-webkit-scrollbar-track {\n  background: rgba(17, 24, 39, 0.5);\n  border-radius: 3px;\n}\n\n.overflow-y-auto::-webkit-scrollbar-thumb {\n  background: rgba(16, 185, 129, 0.3);\n  border-radius: 3px;\n}\n\n.overflow-y-auto::-webkit-scrollbar-thumb:hover {\n  background: rgba(16, 185, 129, 0.5);\n}\n</style>","export interface ParsedBusinessData {\n  summary: string\n  details: string[]\n  type: 'email' | 'ai' | 'order' | 'vector' | 'parcel' | 'reply' | 'workflow' | 'generic' | 'document' | 'dataset' | 'statistical' | 'error'\n  confidence: 'high' | 'medium' | 'low'\n}\n\nexport interface IntelligentSummary {\n  type: 'document' | 'dataset' | 'statistical' | 'ai_generated' | 'email_batch' | 'api_response' | 'generic' | 'direct' | 'pre-processed'\n  summaryType: 'document' | 'dataset' | 'emails' | 'api' | 'statistics' | 'ai' | 'generic' | 'direct'\n  businessSummary?: {\n    title: string\n    description: string\n    [key: string]: any\n  }\n  metrics?: Record<string, any>\n  preview?: any\n  businessInsight?: string\n  statistics?: any\n  dataQuality?: any\n  visualization?: any\n  recommendations?: string[]\n  actions?: string[]\n  fullDataAvailable?: boolean\n}\n\nexport function useBusinessParser() {\n  \n  const sanitizeNodeType = (nodeType?: string): string => {\n    if (!nodeType) return ''\n    return nodeType\n      .replace(/n8n/gi, 'WFEngine')\n      .replace(/\\.nodes\\./g, '.engine.')\n      .replace(/\\.base\\./g, '.core.')\n  }\n\n  const extractEmailData = (data: any): ParsedBusinessData | null => {\n    if (!data?.json) return null\n\n    const insights: string[] = []\n    \n    // Oggetto email\n    const subject = data.json.oggetto || data.json.subject\n    if (subject) {\n      insights.push(`Oggetto: \"${subject}\"`)\n    }\n    \n    // Mittente\n    const senderFields = [\n      data.json.mittente,\n      data.json.mittente_nome,\n      data.json.sender?.emailAddress?.address,\n      data.sender?.emailAddress?.address\n    ]\n    const sender = senderFields.find(field => field)\n    if (sender) {\n      insights.push(`Da: ${sender}`)\n    }\n    \n    // Contenuto email\n    const emailBodyFields = [\n      data.json.messaggio_cliente,\n      data.json.messaggio,\n      data.json.body?.content,\n      data.json.body,\n      data.json.content\n    ]\n    const emailBody = emailBodyFields.find(field => \n      field && typeof field === 'string' && field.length > 20\n    )\n    \n    if (emailBody) {\n      const cleanContent = emailBody\n        .replace(/<[^>]+>/g, ' ')\n        .replace(/&[a-zA-Z0-9]+;/g, ' ')\n        .replace(/\\s+/g, ' ')\n        .trim()\n      const preview = cleanContent.substring(0, 150)\n      insights.push(`Messaggio: \"${preview}${preview.length >= 150 ? '...' : ''}\"`)\n    }\n\n    return insights.length > 0 ? {\n      summary: 'Email ricevuta',\n      details: insights,\n      type: 'email',\n      confidence: 'high'\n    } : null\n  }\n\n  const extractAIData = (data: any): ParsedBusinessData | null => {\n    if (!data?.json) return null\n\n    const insights: string[] = []\n    \n    // Risposta AI\n    const aiResponseFields = [\n      data.json.output?.risposta_html,\n      data.json.risposta_html,\n      data.json.ai_response,\n      data.json.response,\n      data.json.output\n    ]\n    \n    const aiResponse = aiResponseFields.find(field => \n      field && typeof field === 'string' && field.length > 20\n    )\n    \n    if (aiResponse) {\n      const cleanResponse = aiResponse\n        .replace(/<[^>]+>/g, ' ')\n        .replace(/&[a-zA-Z0-9]+;/g, ' ')\n        .replace(/\\s+/g, ' ')\n        .trim()\n      const preview = cleanResponse.substring(0, 200)\n      insights.push(`Risposta: \"${preview}${preview.length >= 200 ? '...' : ''}\"`)\n    }\n    \n    // Categoria/Classificazione\n    if (data.json.categoria || data.json.classification) {\n      insights.push(`Categoria: ${data.json.categoria || data.json.classification}`)\n    }\n\n    return insights.length > 0 ? {\n      summary: 'Risposta AI generata',\n      details: insights,\n      type: 'ai',\n      confidence: 'high'\n    } : null\n  }\n\n  const extractOrderData = (data: any): ParsedBusinessData | null => {\n    if (!data?.json) return null\n\n    const insights: string[] = []\n    \n    if (data.json.order_reference) {\n      insights.push(`Riferimento: ${data.json.order_reference}`)\n    }\n    if (data.json.customer_full_name) {\n      insights.push(`Cliente: ${data.json.customer_full_name}`)\n    }\n    if (data.json.order_status) {\n      insights.push(`Stato: ${data.json.order_status}`)\n    }\n    if (data.json.order_total_paid) {\n      insights.push(`Totale: ${data.json.order_total_paid}`)\n    }\n    if (data.json.delivery_city) {\n      insights.push(`Città consegna: ${data.json.delivery_city}`)\n    }\n    if (data.json.order_shipping_number) {\n      insights.push(`Tracking: ${data.json.order_shipping_number}`)\n    }\n\n    return insights.length > 0 ? {\n      summary: 'Dati ordine recuperati',\n      details: insights,\n      type: 'order',\n      confidence: 'high'\n    } : null\n  }\n\n  const extractVectorData = (data: any): ParsedBusinessData | null => {\n    if (!data?.json) return null\n\n    const insights: string[] = []\n    \n    if (data.json.matches || data.json.results) {\n      const matches = data.json.matches || data.json.results\n      const count = Array.isArray(matches) ? matches.length : 1\n      insights.push(`Documenti trovati: ${count}`)\n    }\n    \n    if (data.json.score || data.json.similarity) {\n      insights.push(`Similarità: ${data.json.score || data.json.similarity}`)\n    }\n    \n    if (data.json.content || data.json.text) {\n      const content = data.json.content || data.json.text\n      const preview = content.substring(0, 100)\n      insights.push(`Contenuto: \"${preview}${preview.length >= 100 ? '...' : ''}\"`)\n    }\n\n    return insights.length > 0 ? {\n      summary: 'Ricerca vettoriale completata',\n      details: insights,\n      type: 'vector',\n      confidence: 'medium'\n    } : null\n  }\n\n  const extractGenericData = (data: any): ParsedBusinessData => {\n    const dataString = JSON.stringify(data)\n    const insights: string[] = []\n    \n    // Cerca email\n    const emailRegex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}/g\n    const emails = dataString.match(emailRegex)\n    if (emails && emails.length > 0) {\n      insights.push(`Email rilevata: ${emails[0]}`)\n    }\n    \n    // Mostra chiavi principali\n    const processData = Array.isArray(data) ? data[0] : data\n    if (processData && typeof processData === 'object') {\n      const keys = Object.keys(processData.json || processData)\n      if (keys.length > 0) {\n        insights.push(`Campi disponibili: ${keys.slice(0, 4).join(', ')}${keys.length > 4 ? '...' : ''}`)\n      }\n    }\n\n    return {\n      summary: 'Dati di processo',\n      details: insights.length > 0 ? insights : ['Dati complessi disponibili'],\n      type: 'generic',\n      confidence: 'low'\n    }\n  }\n\n  const parseBusinessData = (\n    data: any, \n    dataType: 'input' | 'output', \n    nodeType?: string, \n    nodeName?: string\n  ): ParsedBusinessData => {\n    \n    const sanitizedType = sanitizeNodeType(nodeType)\n    const nodeNameLower = nodeName?.toLowerCase() || ''\n    \n    // Check for trigger nodes\n    const isTriggerNode = sanitizedType?.includes('trigger') || \n                         sanitizedType?.includes('Trigger') ||\n                         nodeNameLower.includes('ricezione') ||\n                         nodeNameLower.includes('trigger')\n    \n    if (isTriggerNode && dataType === 'input') {\n      return {\n        summary: 'In attesa di eventi',\n        details: ['In attesa di nuove email dal server Microsoft Outlook'],\n        type: 'email',\n        confidence: 'high'\n      }\n    }\n    \n    // Handle execution error nodes with complete n8n error details\n    if (sanitizedType === 'execution_error' || nodeNameLower.includes('execution error')) {\n      let errorSummary = 'Errore di Esecuzione';\n      let errorDetails = ['Il workflow ha riscontrato un errore durante l\\'esecuzione'];\n      \n      // Extract comprehensive n8n error details if available\n      if (data && typeof data === 'object') {\n        if (data.n8nErrorDetails || data.errorType) {\n          const errorType = data.errorType || 'Unknown Error';\n          const nodeName = data.failedNode || 'Unknown Node';\n          const message = data.specificErrorMessage || 'Error details not available';\n          const stackTrace = data.stackTrace;\n          const httpCode = data.httpCode;\n          const timestamp = data.errorTimestamp;\n          \n          errorSummary = `${errorType}: ${nodeName}`;\n          \n          errorDetails = [\n            `Errore: ${message}`,\n            `Nodo Fallito: ${nodeName}`,\n            `Tipo Errore: ${errorType}`\n          ];\n          \n          // Add HTTP code if available\n          if (httpCode) {\n            errorDetails.push(`Codice HTTP: ${httpCode}`);\n          }\n          \n          // Add timestamp if available\n          if (timestamp) {\n            const date = new Date(timestamp);\n            errorDetails.push(`Timestamp: ${date.toLocaleString('it-IT')}`);\n          }\n          \n          // Add stack trace info (truncated for UI)\n          if (stackTrace && stackTrace.includes('at ')) {\n            const firstLine = stackTrace.split('\\n')[0];\n            errorDetails.push(`Stack: ${firstLine}`);\n          }\n          \n          // Add resolution hints based on error type\n          if (errorType === 'NodeApiError') {\n            errorDetails.push('Suggerimento: Verificare connessioni API e credenziali');\n          } else if (message.toLowerCase().includes('connection')) {\n            errorDetails.push('Suggerimento: Controllare connettività di rete');\n          } else if (message.toLowerCase().includes('auth')) {\n            errorDetails.push('Suggerimento: Verificare le credenziali di autenticazione');\n          }\n        }\n      }\n      \n      return {\n        summary: errorSummary,\n        details: errorDetails,\n        type: 'error',\n        confidence: 'high'\n      }\n    }\n    \n    if (!data) {\n      return {\n        summary: 'Nessun dato',\n        details: ['Nessun dato disponibile per questo step'],\n        type: 'generic',\n        confidence: 'high'\n      }\n    }\n\n    // Process data\n    const processData = Array.isArray(data) ? data[0] : data\n    \n    if (!processData || typeof processData !== 'object') {\n      return {\n        summary: 'Dato semplice',\n        details: [String(processData) || 'Dato non strutturato'],\n        type: 'generic',\n        confidence: 'medium'\n      }\n    }\n\n    // Try specific parsers based on node type/name\n    const isEmailNode = nodeNameLower.includes('mail') || nodeNameLower.includes('ricezione')\n    const isAINode = nodeNameLower.includes('milena') || nodeNameLower.includes('assistente') || nodeNameLower.includes('ai')\n    const isOrderNode = nodeNameLower.includes('ordini') || nodeNameLower.includes('order')\n    const isVectorNode = nodeNameLower.includes('qdrant') || nodeNameLower.includes('vector')\n\n    if (isEmailNode && dataType === 'output') {\n      const emailData = extractEmailData(processData)\n      if (emailData) return emailData\n    }\n    \n    if (isAINode && dataType === 'output') {\n      const aiData = extractAIData(processData)\n      if (aiData) return aiData\n    }\n    \n    if (isOrderNode) {\n      const orderData = extractOrderData(processData)\n      if (orderData) return orderData\n    }\n    \n    if (isVectorNode && dataType === 'output') {\n      const vectorData = extractVectorData(processData)\n      if (vectorData) return vectorData\n    }\n\n    // Fallback to generic parsing\n    return extractGenericData(processData)\n  }\n\n  const formatBusinessData = (parsedData: ParsedBusinessData): string => {\n    const header = `--- ${parsedData.summary.toUpperCase()} ---`\n    const details = parsedData.details.join('\\n')\n    return `${header}\\n${details}`\n  }\n\n  const formatTimelineStepData = (\n    inputData: any, \n    outputData: any, \n    nodeType?: string, \n    nodeName?: string\n  ): { inputSummary: string; outputSummary: string; businessValue: string } => {\n    \n    const parsedInput = parseBusinessData(inputData, 'input', nodeType, nodeName)\n    const parsedOutput = parseBusinessData(outputData, 'output', nodeType, nodeName)\n    \n    // Create detailed summaries for timeline display with full business content\n    let inputSummary = parsedInput.details.length > 0 \n      ? parsedInput.details.join(' • ')\n      : parsedInput.summary\n    \n    let outputSummary = parsedOutput.details.length > 0 \n      ? parsedOutput.details.join(' • ')\n      : parsedOutput.summary\n    \n    // Extract real business content based on node type from raw data\n    const nodeNameLower = nodeName?.toLowerCase() || ''\n    \n    // EMAIL NODES - Extract email content\n    if (nodeNameLower.includes('mail') || nodeNameLower.includes('ricezione') || parsedOutput.type === 'email') {\n      const emailContent = outputData?.body?.content || \n                          outputData?.json?.body?.content || \n                          outputData?.main?.json?.body?.content ||\n                          inputData?.body?.content || \n                          inputData?.json?.body?.content ||\n                          inputData?.main?.json?.body?.content\n                          \n      if (emailContent && typeof emailContent === 'string') {\n        // Improved HTML cleaning for human readability\n        let cleanContent = emailContent\n          // Remove HTML tags completely\n          .replace(/<script[^>]*>.*?<\\/script>/gi, '')\n          .replace(/<style[^>]*>.*?<\\/style>/gi, '')\n          .replace(/<[^>]+>/g, ' ')\n          // Decode HTML entities\n          .replace(/&nbsp;/g, ' ')\n          .replace(/&amp;/g, '&')\n          .replace(/&lt;/g, '<')\n          .replace(/&gt;/g, '>')\n          .replace(/&quot;/g, '\"')\n          .replace(/&#039;/g, \"'\")\n          .replace(/&[a-zA-Z0-9]+;/g, ' ')\n          // Clean whitespace\n          .replace(/\\r\\n/g, ' ')\n          .replace(/\\n/g, ' ')\n          .replace(/\\t/g, ' ')\n          .replace(/\\s+/g, ' ')\n          .trim()\n        \n        if (cleanContent.length > 20) {\n          // Extract meaningful content, not HTML metadata\n          // Skip if it's just HTML boilerplate\n          if (!cleanContent.toLowerCase().includes('content-type') && \n              !cleanContent.toLowerCase().includes('charset') &&\n              !cleanContent.toLowerCase().includes('viewport')) {\n            const preview = cleanContent.length > 150 ? cleanContent.substring(0, 150) + '...' : cleanContent\n            outputSummary = `Email received: \"${preview}\"`\n          } else {\n            // Try to extract email metadata instead\n            const subject = outputData?.oggetto || outputData?.json?.oggetto || inputData?.oggetto || inputData?.json?.oggetto\n            const sender = outputData?.mittente || outputData?.json?.mittente || inputData?.mittente || inputData?.json?.mittente\n            if (subject && sender) {\n              outputSummary = `Email from ${sender} - Subject: \"${subject}\"`\n            } else if (subject) {\n              outputSummary = `Email received - Subject: \"${subject}\"`\n            } else {\n              outputSummary = `Customer email received and processed`\n            }\n          }\n        }\n      }\n      \n      // Email response nodes - get the sent email content\n      if (nodeNameLower.includes('rispond')) {\n        const responseContent = outputData?.body?.content || outputData?.json?.body?.content\n        if (responseContent && typeof responseContent === 'string') {\n          const cleanResponse = responseContent.replace(/<[^>]*>/g, '').replace(/\\s+/g, ' ').trim()\n          const preview = cleanResponse.length > 200 ? cleanResponse.substring(0, 200) + '...' : cleanResponse\n          outputSummary = `Email sent: \"${preview}\"`\n        }\n      }\n    }\n    \n    // AI AGENT NODES - Extract AI response\n    else if (nodeNameLower.includes('milena') || nodeNameLower.includes('assistente') || nodeType === 'ai_agent') {\n      const aiResponse = outputData?.output?.risposta_html || \n                        outputData?.json?.output?.risposta_html ||\n                        outputData?.response || \n                        outputData?.json?.response ||\n                        outputData?.main?.json?.output?.risposta_html\n                        \n      if (aiResponse && typeof aiResponse === 'string') {\n        const cleanResponse = aiResponse.replace(/<[^>]*>/g, '').replace(/\\s+/g, ' ').trim()\n        const preview = cleanResponse.length > 200 ? cleanResponse.substring(0, 200) + '...' : cleanResponse\n        outputSummary = `AI Response: \"${preview}\"`\n      }\n    }\n    \n    // VECTOR SEARCH NODES - Extract search results\n    else if (nodeNameLower.includes('qdrant') || nodeNameLower.includes('vector') || nodeType === 'vector_search') {\n      const searchResults = outputData?.ai_tool?.json?.response || \n                           outputData?.json?.response ||\n                           outputData?.response ||\n                           outputData?.main?.ai_tool?.json?.response\n                           \n      if (searchResults && Array.isArray(searchResults)) {\n        const resultCount = searchResults.length\n        const firstResult = searchResults[0]\n        if (firstResult && typeof firstResult.text === 'string') {\n          try {\n            const parsedResult = JSON.parse(firstResult.text)\n            const content = parsedResult.pageContent || parsedResult.content\n            if (content) {\n              const preview = content.length > 150 ? content.substring(0, 150) + '...' : content\n              outputSummary = `Found ${resultCount} documents: \"${preview}\"`\n            }\n          } catch (e) {\n            outputSummary = `Found ${resultCount} search results`\n          }\n        } else {\n          outputSummary = `Found ${resultCount} search results`\n        }\n      }\n    }\n    \n    // ORDER/PARCEL LOOKUP NODES - Extract order info\n    else if (nodeNameLower.includes('ordini') || nodeNameLower.includes('parcel') || nodeType === 'order_lookup' || nodeType === 'parcel_tracking') {\n      const orderData = outputData?.json || outputData?.main?.json || outputData\n      \n      if (orderData) {\n        const details = []\n        if (orderData.order_reference) details.push(`Order: ${orderData.order_reference}`)\n        if (orderData.customer_full_name) details.push(`Customer: ${orderData.customer_full_name}`)\n        if (orderData.order_status) details.push(`Status: ${orderData.order_status}`)\n        if (orderData.tracking_number) details.push(`Tracking: ${orderData.tracking_number}`)\n        if (orderData.delivery_status) details.push(`Delivery: ${orderData.delivery_status}`)\n        \n        if (details.length > 0) {\n          outputSummary = details.join(' • ')\n        }\n      }\n    }\n    \n    // SUB-WORKFLOW NODES - Extract workflow execution info\n    else if (nodeNameLower.includes('execute') || nodeNameLower.includes('workflow') || nodeType === 'sub_workflow') {\n      const workflowResult = outputData?.json || outputData?.main?.json || outputData\n      \n      if (workflowResult) {\n        const details = []\n        if (workflowResult.workflow_name) details.push(`Workflow: ${workflowResult.workflow_name}`)\n        if (workflowResult.execution_status) details.push(`Status: ${workflowResult.execution_status}`)\n        if (workflowResult.duration) details.push(`Duration: ${workflowResult.duration}ms`)\n        if (workflowResult.nodes_executed) details.push(`Nodes: ${workflowResult.nodes_executed}`)\n        \n        if (details.length > 0) {\n          outputSummary = details.join(' • ')\n        } else {\n          outputSummary = `Sub-workflow executed successfully`\n        }\n      }\n    }\n    \n    // Limit summary lengths for UI display\n    if (inputSummary.length > 150) {\n      inputSummary = inputSummary.substring(0, 150) + '...'\n    }\n    if (outputSummary.length > 250) {\n      outputSummary = outputSummary.substring(0, 250) + '...'\n    }\n    \n    // Generate business value based on node type and data\n    const businessValue = generateBusinessValue(parsedInput, parsedOutput, nodeType, nodeName)\n    \n    return {\n      inputSummary,\n      outputSummary,\n      businessValue\n    }\n  }\n\n  const generateBusinessValue = (\n    parsedInput: ParsedBusinessData,\n    parsedOutput: ParsedBusinessData,\n    nodeType?: string,\n    nodeName?: string\n  ): string => {\n    \n    const nodeNameLower = nodeName?.toLowerCase() || ''\n    \n    // AI nodes\n    if (nodeNameLower.includes('milena') || nodeNameLower.includes('assistente') || parsedOutput.type === 'ai') {\n      return 'Risposta intelligente generata per il cliente'\n    }\n    \n    // Email nodes\n    if (nodeNameLower.includes('mail') || nodeNameLower.includes('ricezione') || parsedOutput.type === 'email') {\n      if (nodeNameLower.includes('ricezione')) {\n        return 'Email cliente acquisita nel sistema'\n      } else {\n        return 'Comunicazione inviata al cliente'\n      }\n    }\n    \n    // Database/Storage nodes\n    if (nodeNameLower.includes('supabase') || nodeNameLower.includes('database') || parsedOutput.type === 'order') {\n      return 'Dati salvati nel sistema aziendale'\n    }\n    \n    // Processing nodes\n    if (nodeNameLower.includes('extractor') || nodeNameLower.includes('parser')) {\n      return 'Informazioni estratte e processate'\n    }\n    \n    // HTTP/API nodes\n    if (nodeType?.includes('http') || nodeNameLower.includes('api')) {\n      return 'Integrazione esterna completata'\n    }\n    \n    // Generic value\n    return 'Operazione completata con successo'\n  }\n\n  const parseIntelligentSummary = (summary: IntelligentSummary): ParsedBusinessData => {\n    // Convert intelligent summary to parsed business data format\n    const details: string[] = []\n    \n    // Add business summary as primary detail\n    if (summary.businessSummary) {\n      details.push(summary.businessSummary.description)\n      \n      // Add specific details based on summary type\n      if (summary.summaryType === 'document' && summary.businessSummary.pageCount) {\n        details.push(`Pages: ${summary.businessSummary.pageCount}`)\n      }\n      if (summary.summaryType === 'dataset') {\n        if (summary.businessSummary.totalRows) {\n          details.push(`Rows: ${summary.businessSummary.totalRows}`)\n        }\n        if (summary.businessSummary.totalColumns) {\n          details.push(`Columns: ${summary.businessSummary.totalColumns}`)\n        }\n      }\n    }\n    \n    // Add key metrics\n    if (summary.metrics) {\n      Object.entries(summary.metrics).slice(0, 3).forEach(([key, value]) => {\n        details.push(`${key}: ${value}`)\n      })\n    }\n    \n    // Add business insight\n    if (summary.businessInsight) {\n      details.push(`Insight: ${summary.businessInsight}`)\n    }\n    \n    // Map summary type to ParsedBusinessData type\n    let dataType: ParsedBusinessData['type'] = 'generic'\n    switch (summary.summaryType) {\n      case 'document':\n        dataType = 'document'\n        break\n      case 'dataset':\n        dataType = 'dataset'\n        break\n      case 'emails':\n        dataType = 'email'\n        break\n      case 'statistics':\n        dataType = 'statistical'\n        break\n      case 'ai':\n        dataType = 'ai'\n        break\n    }\n    \n    return {\n      summary: summary.businessSummary?.title || 'Process Data',\n      details,\n      type: dataType,\n      confidence: summary.type === 'ai_generated' ? 'medium' : 'high'\n    }\n  }\n\n  const formatIntelligentData = (summary: IntelligentSummary): string => {\n    const parsed = parseIntelligentSummary(summary)\n    return formatBusinessData(parsed)\n  }\n\n  return {\n    parseBusinessData,\n    formatBusinessData,\n    formatTimelineStepData,\n    sanitizeNodeType,\n    parseIntelligentSummary,\n    formatIntelligentData\n  }\n}","/**\n * Shared Utility Functions\n * Common utilities used across all parsers\n */\n\n/**\n * Clean HTML content - Single implementation for all components\n */\nexport function cleanHtmlContent(content: string): string {\n  if (!content) return ''\n\n  return content\n    .replace(/<[^>]+>/g, ' ')           // Remove HTML tags\n    .replace(/&[a-zA-Z0-9]+;/g, ' ')    // Remove HTML entities\n    .replace(/\\s+/g, ' ')                // Normalize whitespace\n    .replace(/\\n{3,}/g, '\\n\\n')          // Limit consecutive newlines\n    .trim()\n}\n\n/**\n * Truncate text intelligently at word boundaries\n */\nexport function truncateText(text: string, maxLength: number = 150): string {\n  if (!text || text.length <= maxLength) return text\n\n  const truncated = text.substring(0, maxLength)\n  const lastSpace = truncated.lastIndexOf(' ')\n\n  return lastSpace > 0\n    ? truncated.substring(0, lastSpace) + '...'\n    : truncated + '...'\n}\n\n/**\n * Extract first meaningful line from text\n */\nexport function extractFirstLine(text: string): string {\n  if (!text) return ''\n\n  const lines = text.split('\\n').filter(line => line.trim().length > 0)\n  return lines[0] || ''\n}\n\n/**\n * Detect data type from content structure\n */\nexport function detectDataType(data: any): 'email' | 'ai' | 'order' | 'vector' | 'generic' {\n  if (!data) return 'generic'\n\n  // Email detection\n  if (data.subject || data.oggetto || data.sender || data.mittente || data.email_body) {\n    return 'email'\n  }\n\n  // AI response detection\n  if (data.ai_response || data.risposta_html || data.output?.risposta_html ||\n      data.chatResponse || data.gpt_response) {\n    return 'ai'\n  }\n\n  // Order detection\n  if (data.orderId || data.order_id || data.items || data.orderDetails) {\n    return 'order'\n  }\n\n  // Vector search detection\n  if (data.vector_results || data.similarity_search || data.embeddings) {\n    return 'vector'\n  }\n\n  return 'generic'\n}\n\n/**\n * Format date consistently across the application\n */\nexport function formatBusinessDate(date: string | Date): string {\n  if (!date) return ''\n\n  const d = new Date(date)\n  if (isNaN(d.getTime())) return ''\n\n  return new Intl.DateTimeFormat('it-IT', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  }).format(d)\n}\n\n/**\n * Calculate confidence based on data completeness\n */\nexport function calculateConfidence(data: any): 'high' | 'medium' | 'low' {\n  if (!data) return 'low'\n\n  const fields = Object.keys(data).filter(key => data[key] !== null && data[key] !== undefined)\n  const fieldCount = fields.length\n\n  if (fieldCount > 5) return 'high'\n  if (fieldCount > 2) return 'medium'\n  return 'low'\n}","/**\n * Unified Email Parser\n * Single source of truth for email parsing logic\n */\n\nimport { BusinessParsingResult, EmailData } from './types'\nimport { cleanHtmlContent, truncateText, calculateConfidence } from './utils'\n\nexport class EmailParser {\n  /**\n   * Parse email data from any source format\n   */\n  static parse(data: any): BusinessParsingResult {\n    const emailData = this.extractEmailData(data)\n    const confidence = calculateConfidence(emailData)\n\n    const details: string[] = []\n    let summary = 'Email received'\n\n    if (emailData.subject) {\n      summary = `Email: ${truncateText(emailData.subject, 100)}`\n      details.push(`Subject: ${emailData.subject}`)\n    }\n\n    if (emailData.sender) {\n      details.push(`From: ${emailData.sender}`)\n    }\n\n    if (emailData.recipient) {\n      details.push(`To: ${emailData.recipient}`)\n    }\n\n    if (emailData.body) {\n      const cleanBody = cleanHtmlContent(emailData.body)\n      const preview = truncateText(cleanBody, 200)\n      if (preview) {\n        details.push(`Content: ${preview}`)\n      }\n    }\n\n    if (emailData.attachments && emailData.attachments.length > 0) {\n      details.push(`Attachments: ${emailData.attachments.length} file(s)`)\n    }\n\n    return {\n      summary,\n      details,\n      type: 'email',\n      confidence,\n      metadata: emailData,\n      businessValue: this.extractBusinessValue(emailData)\n    }\n  }\n\n  /**\n   * Extract email data from various formats\n   */\n  private static extractEmailData(data: any): EmailData {\n    if (!data) return {}\n\n    const result: EmailData = {}\n\n    // Handle nested json structure\n    const jsonData = data.json || data\n\n    // Subject extraction - multiple field names\n    result.subject = jsonData.subject ||\n                    jsonData.oggetto ||\n                    jsonData.email_subject ||\n                    jsonData.Subject ||\n                    jsonData.title\n\n    // Sender extraction\n    result.sender = jsonData.sender ||\n                   jsonData.mittente ||\n                   jsonData.from ||\n                   jsonData.From ||\n                   jsonData.email_from ||\n                   jsonData.sender_email\n\n    // Recipient extraction\n    result.recipient = jsonData.recipient ||\n                      jsonData.destinatario ||\n                      jsonData.to ||\n                      jsonData.To ||\n                      jsonData.email_to\n\n    // Body extraction - check multiple possible fields\n    result.body = jsonData.body ||\n                 jsonData.email_body ||\n                 jsonData.corpo ||\n                 jsonData.message ||\n                 jsonData.content ||\n                 jsonData.text ||\n                 jsonData.html ||\n                 jsonData.email_content\n\n    // Attachments extraction\n    if (jsonData.attachments || jsonData.allegati) {\n      result.attachments = jsonData.attachments || jsonData.allegati\n    }\n\n    // Timestamp extraction\n    result.timestamp = jsonData.timestamp ||\n                      jsonData.date ||\n                      jsonData.received_at ||\n                      jsonData.sent_at\n\n    return result\n  }\n\n  /**\n   * Extract business value from email\n   */\n  private static extractBusinessValue(emailData: EmailData): string {\n    const indicators = []\n\n    // Check for customer communication\n    if (emailData.subject) {\n      const subject = emailData.subject.toLowerCase()\n      if (subject.includes('order') || subject.includes('ordine')) {\n        indicators.push('Order-related')\n      }\n      if (subject.includes('support') || subject.includes('help') || subject.includes('assistenza')) {\n        indicators.push('Support request')\n      }\n      if (subject.includes('urgent') || subject.includes('urgente')) {\n        indicators.push('High priority')\n      }\n      if (subject.includes('invoice') || subject.includes('fattura')) {\n        indicators.push('Financial')\n      }\n    }\n\n    // Check sender domain for importance\n    if (emailData.sender) {\n      const sender = emailData.sender.toLowerCase()\n      if (sender.includes('.com') || sender.includes('.it')) {\n        const domain = sender.split('@')[1]\n        if (domain) {\n          if (domain.includes('google') || domain.includes('microsoft') || domain.includes('amazon')) {\n            indicators.push('Major vendor')\n          }\n        }\n      }\n    }\n\n    return indicators.length > 0\n      ? indicators.join(', ')\n      : 'Standard communication'\n  }\n\n  /**\n   * Generate business-friendly summary\n   */\n  static generateSummary(emailData: EmailData): string {\n    if (emailData.subject) {\n      return `Processed email: \"${truncateText(emailData.subject, 80)}\"`\n    }\n    if (emailData.sender) {\n      return `Email received from ${emailData.sender}`\n    }\n    return 'Email communication processed'\n  }\n}","/**\n * Unified AI Response Parser\n * Single source of truth for AI response parsing logic\n */\n\nimport { BusinessParsingResult, AIResponseData } from './types'\nimport { cleanHtmlContent, truncateText, calculateConfidence } from './utils'\n\nexport class AIResponseParser {\n  /**\n   * Parse AI response data from any source format\n   */\n  static parse(data: any): BusinessParsingResult {\n    const aiData = this.extractAIData(data)\n    const confidence = calculateConfidence(aiData)\n\n    const details: string[] = []\n    let summary = 'AI processing completed'\n\n    // Extract and clean the response\n    if (aiData.response) {\n      const cleanResponse = cleanHtmlContent(aiData.response)\n      summary = `AI: ${truncateText(cleanResponse, 100)}`\n      details.push(`Response: ${truncateText(cleanResponse, 300)}`)\n    }\n\n    // Add prompt if available\n    if (aiData.prompt) {\n      details.push(`Prompt: ${truncateText(aiData.prompt, 150)}`)\n    }\n\n    // Add model info if available\n    if (aiData.model) {\n      details.push(`Model: ${aiData.model}`)\n    }\n\n    // Add token count if available\n    if (aiData.tokens) {\n      details.push(`Tokens used: ${aiData.tokens}`)\n    }\n\n    return {\n      summary,\n      details,\n      type: 'ai',\n      confidence,\n      metadata: aiData,\n      businessValue: this.extractBusinessValue(aiData)\n    }\n  }\n\n  /**\n   * Extract AI data from various formats\n   */\n  private static extractAIData(data: any): AIResponseData {\n    if (!data) return {}\n\n    const result: AIResponseData = {}\n\n    // Handle nested json structure\n    const jsonData = data.json || data\n\n    // Response extraction - check multiple possible fields\n    result.response = jsonData.ai_response ||\n                     jsonData.risposta_html ||\n                     jsonData.output?.risposta_html ||\n                     jsonData.chatResponse ||\n                     jsonData.gpt_response ||\n                     jsonData.response ||\n                     jsonData.answer ||\n                     jsonData.output?.text ||\n                     jsonData.completion ||\n                     jsonData.generated_text ||\n                     jsonData.ai_output\n\n    // Prompt extraction\n    result.prompt = jsonData.prompt ||\n                   jsonData.question ||\n                   jsonData.query ||\n                   jsonData.input ||\n                   jsonData.user_message ||\n                   jsonData.domanda\n\n    // Model extraction\n    result.model = jsonData.model ||\n                  jsonData.model_name ||\n                  jsonData.ai_model ||\n                  jsonData.llm_model ||\n                  this.detectModelFromResponse(result.response)\n\n    // Token count extraction\n    if (jsonData.tokens || jsonData.token_count || jsonData.usage?.total_tokens) {\n      result.tokens = jsonData.tokens ||\n                     jsonData.token_count ||\n                     jsonData.usage?.total_tokens\n    }\n\n    // Timestamp extraction\n    result.timestamp = jsonData.timestamp ||\n                      jsonData.created_at ||\n                      jsonData.generated_at\n\n    return result\n  }\n\n  /**\n   * Detect AI model from response patterns\n   */\n  private static detectModelFromResponse(response: string | undefined): string {\n    if (!response) return 'Unknown AI Model'\n\n    const responseText = response.toLowerCase()\n\n    if (responseText.includes('gpt-4') || responseText.includes('openai')) {\n      return 'GPT-4'\n    }\n    if (responseText.includes('gpt-3')) {\n      return 'GPT-3.5'\n    }\n    if (responseText.includes('claude')) {\n      return 'Claude'\n    }\n    if (responseText.includes('gemini')) {\n      return 'Gemini'\n    }\n    if (responseText.includes('llama')) {\n      return 'LLaMA'\n    }\n\n    return 'AI Assistant'\n  }\n\n  /**\n   * Extract business value from AI interaction\n   */\n  private static extractBusinessValue(aiData: AIResponseData): string {\n    const indicators = []\n\n    // Analyze response content for business indicators\n    if (aiData.response) {\n      const response = aiData.response.toLowerCase()\n\n      if (response.includes('customer') || response.includes('cliente')) {\n        indicators.push('Customer-focused')\n      }\n      if (response.includes('analysis') || response.includes('analisi')) {\n        indicators.push('Data analysis')\n      }\n      if (response.includes('recommendation') || response.includes('suggest') || response.includes('consiglio')) {\n        indicators.push('Strategic advice')\n      }\n      if (response.includes('report') || response.includes('summary') || response.includes('rapporto')) {\n        indicators.push('Report generation')\n      }\n      if (response.includes('translation') || response.includes('traduzione')) {\n        indicators.push('Translation service')\n      }\n    }\n\n    // Check prompt for task type\n    if (aiData.prompt) {\n      const prompt = aiData.prompt.toLowerCase()\n\n      if (prompt.includes('write') || prompt.includes('scrivi')) {\n        indicators.push('Content creation')\n      }\n      if (prompt.includes('analyze') || prompt.includes('analizza')) {\n        indicators.push('Analysis task')\n      }\n      if (prompt.includes('help') || prompt.includes('aiuto')) {\n        indicators.push('Support task')\n      }\n    }\n\n    // Token usage indicator\n    if (aiData.tokens) {\n      if (aiData.tokens > 1000) {\n        indicators.push('Complex processing')\n      } else if (aiData.tokens < 100) {\n        indicators.push('Quick response')\n      }\n    }\n\n    return indicators.length > 0\n      ? indicators.join(', ')\n      : 'AI processing task'\n  }\n\n  /**\n   * Generate business-friendly summary\n   */\n  static generateSummary(aiData: AIResponseData): string {\n    if (aiData.response) {\n      const clean = cleanHtmlContent(aiData.response)\n      return `AI generated: ${truncateText(clean, 80)}`\n    }\n    if (aiData.prompt) {\n      return `AI processed: \"${truncateText(aiData.prompt, 60)}\"`\n    }\n    if (aiData.model) {\n      return `${aiData.model} completed processing`\n    }\n    return 'AI task completed successfully'\n  }\n\n  /**\n   * Check if response contains structured data\n   */\n  static hasStructuredData(aiData: AIResponseData): boolean {\n    if (!aiData.response) return false\n\n    const response = aiData.response\n\n    // Check for JSON structure\n    if (response.includes('{') && response.includes('}')) {\n      try {\n        JSON.parse(response)\n        return true\n      } catch {\n        // Not valid JSON\n      }\n    }\n\n    // Check for list/table structure\n    if (response.includes('|') || response.includes('•') || response.includes('1.')) {\n      return true\n    }\n\n    return false\n  }\n}","/**\n * Unified Business Data Processor\n * Central routing and processing for all business data types\n */\n\nimport { BusinessParsingResult, ProcessingContext } from './types'\nimport { EmailParser } from './email-parser'\nimport { AIResponseParser } from './ai-parser'\nimport { detectDataType, cleanHtmlContent, truncateText } from './utils'\n\nexport class UnifiedBusinessProcessor {\n  private static cache = new Map<string, BusinessParsingResult>()\n\n  /**\n   * Process any business data through appropriate parser\n   */\n  static process(data: any, context?: ProcessingContext): BusinessParsingResult {\n    // Check cache if execution ID is provided\n    if (context?.executionId) {\n      const cacheKey = `${context.executionId}-${JSON.stringify(data).substring(0, 50)}`\n      if (this.cache.has(cacheKey)) {\n        return this.cache.get(cacheKey)!\n      }\n    }\n\n    // Detect data type and route to appropriate parser\n    const dataType = detectDataType(data)\n    let result: BusinessParsingResult\n\n    switch (dataType) {\n      case 'email':\n        result = EmailParser.parse(data)\n        break\n\n      case 'ai':\n        result = AIResponseParser.parse(data)\n        break\n\n      case 'order':\n        result = this.parseOrderData(data)\n        break\n\n      case 'vector':\n        result = this.parseVectorData(data)\n        break\n\n      default:\n        result = this.parseGenericData(data)\n    }\n\n    // Add context information if provided\n    if (context) {\n      result.metadata = {\n        ...result.metadata,\n        source: context.source,\n        nodeType: context.nodeType,\n        workflowId: context.workflowId\n      }\n    }\n\n    // Cache the result\n    if (context?.executionId) {\n      const cacheKey = `${context.executionId}-${JSON.stringify(data).substring(0, 50)}`\n      this.cache.set(cacheKey, result)\n\n      // Limit cache size\n      if (this.cache.size > 100) {\n        const firstKey = this.cache.keys().next().value\n        this.cache.delete(firstKey)\n      }\n    }\n\n    return result\n  }\n\n  /**\n   * Parse order data\n   */\n  private static parseOrderData(data: any): BusinessParsingResult {\n    const jsonData = data.json || data\n    const details: string[] = []\n    let summary = 'Order processed'\n\n    if (jsonData.orderId || jsonData.order_id) {\n      const orderId = jsonData.orderId || jsonData.order_id\n      summary = `Order #${orderId}`\n      details.push(`Order ID: ${orderId}`)\n    }\n\n    if (jsonData.customer || jsonData.customerName) {\n      details.push(`Customer: ${jsonData.customer || jsonData.customerName}`)\n    }\n\n    if (jsonData.items && Array.isArray(jsonData.items)) {\n      details.push(`Items: ${jsonData.items.length} product(s)`)\n\n      // Add first few items\n      jsonData.items.slice(0, 3).forEach((item: any) => {\n        if (item.name || item.product) {\n          details.push(`  • ${item.name || item.product}`)\n        }\n      })\n    }\n\n    if (jsonData.total || jsonData.totalAmount) {\n      const total = jsonData.total || jsonData.totalAmount\n      details.push(`Total: €${total}`)\n    }\n\n    if (jsonData.status || jsonData.orderStatus) {\n      details.push(`Status: ${jsonData.status || jsonData.orderStatus}`)\n    }\n\n    return {\n      summary,\n      details,\n      type: 'order',\n      confidence: 'high',\n      metadata: jsonData,\n      businessValue: 'Customer transaction'\n    }\n  }\n\n  /**\n   * Parse vector/search data\n   */\n  private static parseVectorData(data: any): BusinessParsingResult {\n    const jsonData = data.json || data\n    const details: string[] = []\n    let summary = 'Search completed'\n\n    if (jsonData.query || jsonData.search_query) {\n      const query = jsonData.query || jsonData.search_query\n      summary = `Search: \"${truncateText(query, 50)}\"`\n      details.push(`Query: ${query}`)\n    }\n\n    if (jsonData.results || jsonData.vector_results) {\n      const results = jsonData.results || jsonData.vector_results\n      if (Array.isArray(results)) {\n        details.push(`Found: ${results.length} result(s)`)\n\n        // Add top results\n        results.slice(0, 3).forEach((result: any, index: number) => {\n          const content = result.content || result.text || result.document\n          if (content) {\n            details.push(`  ${index + 1}. ${truncateText(content, 100)}`)\n          }\n        })\n      }\n    }\n\n    if (jsonData.similarity_score || jsonData.score) {\n      details.push(`Match score: ${jsonData.similarity_score || jsonData.score}`)\n    }\n\n    return {\n      summary,\n      details,\n      type: 'vector',\n      confidence: 'medium',\n      metadata: jsonData,\n      businessValue: 'Information retrieval'\n    }\n  }\n\n  /**\n   * Parse generic/unknown data\n   */\n  private static parseGenericData(data: any): BusinessParsingResult {\n    const jsonData = data.json || data\n    const details: string[] = []\n    let summary = 'Data processed'\n\n    // Try to extract meaningful information\n    const keys = Object.keys(jsonData).filter(key =>\n      jsonData[key] !== null &&\n      jsonData[key] !== undefined &&\n      key !== 'json'\n    )\n\n    // Use first non-empty string value as summary\n    for (const key of keys) {\n      const value = jsonData[key]\n      if (typeof value === 'string' && value.length > 0) {\n        summary = truncateText(cleanHtmlContent(value), 100)\n        break\n      }\n    }\n\n    // Add key details\n    keys.slice(0, 5).forEach(key => {\n      const value = jsonData[key]\n      if (value !== null && value !== undefined) {\n        if (typeof value === 'string') {\n          details.push(`${key}: ${truncateText(value, 100)}`)\n        } else if (typeof value === 'number') {\n          details.push(`${key}: ${value}`)\n        } else if (typeof value === 'boolean') {\n          details.push(`${key}: ${value ? 'Yes' : 'No'}`)\n        } else if (Array.isArray(value)) {\n          details.push(`${key}: ${value.length} items`)\n        } else if (typeof value === 'object') {\n          details.push(`${key}: [Complex data]`)\n        }\n      }\n    })\n\n    return {\n      summary,\n      details: details.length > 0 ? details : ['Data processing completed'],\n      type: 'generic',\n      confidence: 'low',\n      metadata: jsonData,\n      businessValue: 'Business operation'\n    }\n  }\n\n  /**\n   * Clear the cache\n   */\n  static clearCache(): void {\n    this.cache.clear()\n  }\n\n  /**\n   * Get cache statistics\n   */\n  static getCacheStats(): { size: number; maxSize: number } {\n    return {\n      size: this.cache.size,\n      maxSize: 100\n    }\n  }\n}","<template>\n  <DetailModal\n    :show=\"show\"\n    :title=\"'Business Process Dashboard'\"\n    :subtitle=\"`${modalTitle} • ${modalSubtitle}`\"\n    :header-icon=\"'lucide:bar-chart-2'\"\n    :tabs=\"tabs\"\n    default-tab=\"overview\"\n    :is-loading=\"isLoading\"\n    :error=\"error\"\n    :data=\"timelineData\"\n    :show-refresh=\"true\"\n    @close=\"$emit('close')\"\n    @refresh=\"handleForceRefresh\"\n    @retry=\"loadTimeline\"\n  >\n    <!-- Header Actions Slot -->\n    <template #headerActions=\"{ isLoading, refresh }\">\n    </template>\n\n    <!-- Process Overview Tab -->\n    <template #overview=\"{ data }\">\n      <div class=\"p-6 space-y-6\">\n        <!-- Process Description from Sticky Notes or Default -->\n        <div class=\"bg-surface-hover rounded-lg p-5 border border-border\">\n          <h3 class=\"text-lg font-semibold text-white mb-3\">Process Description</h3>\n          <div class=\"text-text-muted whitespace-pre-wrap\">\n            {{ workflowInfo?.description || workflowInfo?.purpose ||\n               'This business process automates operations to ensure efficient workflow execution and reliable business outcomes.' }}\n          </div>\n        </div>\n\n        <!-- Key Metrics Grid - Universal for ALL workflows -->\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div class=\"bg-surface-hover rounded-lg p-4 border border-border\">\n            <div class=\"flex items-center justify-between mb-2\">\n              <span class=\"text-sm text-text-muted\">Success Rate</span>\n              <Icon icon=\"lucide:trending-up\" class=\"w-4 h-4 text-green-400\" />\n            </div>\n            <div class=\"text-2xl font-bold text-white\">\n              {{ calculateSuccessRate() }}%\n            </div>\n          </div>\n\n          <div class=\"bg-surface-hover rounded-lg p-4 border border-border\">\n            <div class=\"flex items-center justify-between mb-2\">\n              <span class=\"text-sm text-text-muted\">{{ getBusinessMetricLabel() }}</span>\n              <Icon icon=\"lucide:database\" class=\"w-4 h-4 text-blue-400\" />\n            </div>\n            <div class=\"text-2xl font-bold text-white\">\n              {{ formatBusinessMetric() }}\n            </div>\n          </div>\n\n          <div class=\"bg-surface-hover rounded-lg p-4 border border-border\">\n            <div class=\"flex items-center justify-between mb-2\">\n              <span class=\"text-sm text-text-muted\">Total Operations</span>\n              <Icon icon=\"lucide:layers\" class=\"w-4 h-4 text-purple-400\" />\n            </div>\n            <div class=\"text-2xl font-bold text-white\">\n              {{ workflowStats?.total_executions || executionsHistory.length || 0 }}\n            </div>\n          </div>\n        </div>\n\n        <!-- Business Capabilities - Dynamic from workflow nodes -->\n        <div class=\"bg-surface-hover rounded-lg p-5 border border-border\">\n          <h3 class=\"text-lg font-semibold text-white mb-3\">Process Capabilities</h3>\n          <ul v-if=\"workflowInfo?.capabilities?.length > 0\" class=\"space-y-2\">\n            <li v-for=\"(capability, index) in workflowInfo.capabilities\" :key=\"index\" class=\"flex items-start gap-2\">\n              <Icon icon=\"lucide:check-circle\" class=\"w-5 h-5 text-green-400 mt-0.5\" />\n              <span class=\"text-text-muted\">{{ capability }}</span>\n            </li>\n          </ul>\n          <!-- Fallback if no capabilities detected -->\n          <ul v-else class=\"space-y-2\">\n            <li class=\"flex items-start gap-2\">\n              <Icon icon=\"lucide:check-circle\" class=\"w-5 h-5 text-green-400 mt-0.5\" />\n              <span class=\"text-text-muted\">Automated workflow processing</span>\n            </li>\n            <li class=\"flex items-start gap-2\">\n              <Icon icon=\"lucide:check-circle\" class=\"w-5 h-5 text-green-400 mt-0.5\" />\n              <span class=\"text-text-muted\">Data transformation and routing</span>\n            </li>\n            <li class=\"flex items-start gap-2\">\n              <Icon icon=\"lucide:check-circle\" class=\"w-5 h-5 text-green-400 mt-0.5\" />\n              <span class=\"text-text-muted\">Business process optimization</span>\n            </li>\n          </ul>\n        </div>\n\n        <!-- Business Value Statement - Dynamic from execution metrics -->\n        <div class=\"bg-gradient-to-r from-primary/20 to-primary/10 rounded-lg p-5 border border-primary/30\">\n          <div class=\"flex items-start gap-3\">\n            <Icon icon=\"lucide:target\" class=\"w-6 h-6 text-primary mt-0.5\" />\n            <div>\n              <h3 class=\"text-lg font-semibold text-white mb-2\">Business Value</h3>\n              <p class=\"text-text-muted\">\n                {{ workflowInfo?.businessValue?.summary ||\n                   'This automated process optimizes business operations, reduces manual workload, and ensures consistent service delivery. All operations are tracked for continuous improvement.' }}\n              </p>\n\n              <!-- Dynamic metrics grid if available -->\n              <div v-if=\"workflowInfo?.businessValue\" class=\"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4\">\n                <div v-if=\"workflowInfo.businessValue.automationRate\" class=\"text-center\">\n                  <div class=\"text-xl font-bold text-primary\">{{ workflowInfo.businessValue.automationRate }}</div>\n                  <div class=\"text-xs text-text-muted\">Automation</div>\n                </div>\n                <div v-if=\"workflowInfo.businessValue.timeSaved\" class=\"text-center\">\n                  <div class=\"text-xl font-bold text-green-400\">{{ workflowInfo.businessValue.timeSaved }}</div>\n                  <div class=\"text-xs text-text-muted\">Time Saved</div>\n                </div>\n                <div v-if=\"workflowInfo.businessValue.avgResponseTime\" class=\"text-center\">\n                  <div class=\"text-xl font-bold text-blue-400\">{{ workflowInfo.businessValue.avgResponseTime }}</div>\n                  <div class=\"text-xs text-text-muted\">Avg Response</div>\n                </div>\n                <div v-if=\"workflowInfo.businessValue.dataProcessed\" class=\"text-center\">\n                  <div class=\"text-xl font-bold text-purple-400\">{{ workflowInfo.businessValue.dataProcessed }}</div>\n                  <div class=\"text-xs text-text-muted\">Items Processed</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n\n    <!-- Latest Activity Tab - Shows recent operations -->\n    <template #executions=\"{ data }\">\n      <div class=\"p-6\">\n        <!-- Recent Activity from Dashboard API -->\n        <div v-if=\"recentActivity?.length > 0\" class=\"space-y-4 mb-6\">\n          <h3 class=\"text-lg font-semibold text-white mb-4\">Recent Business Activity</h3>\n          <div v-for=\"(activity, index) in recentActivity.slice(0, 10)\" :key=\"index\"\n               class=\"bg-surface-hover rounded-lg p-4 border border-border\">\n            <div class=\"flex items-center justify-between\">\n              <div class=\"flex-1\">\n                <div class=\"flex items-center gap-2 mb-2\">\n                  <span :class=\"[\n                    'px-2 py-1 text-xs rounded',\n                    activity.type === 'AI Response' ? 'bg-purple-500/20 text-purple-300' :\n                    activity.type === 'Email' ? 'bg-blue-500/20 text-blue-300' :\n                    activity.type === 'Order' ? 'bg-green-500/20 text-green-300' :\n                    'bg-gray-500/20 text-gray-300'\n                  ]\">{{ activity.type }}</span>\n                  <span class=\"text-xs text-text-muted\">{{ formatRelativeTime(activity.timestamp) }}</span>\n                </div>\n                <p class=\"text-sm text-white\">{{ activity.summary }}</p>\n                <p v-if=\"activity.classification\" class=\"text-xs text-text-muted mt-1\">\n                  Classification: {{ activity.classification }}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Fallback to business nodes if no recent activity -->\n        <div v-else-if=\"data?.businessNodes?.length > 0\" class=\"space-y-6\">\n          <div\n            v-for=\"(step, index) in data.businessNodes\"\n            :key=\"step._nodeId || index\"\n            :class=\"[\n              'rounded-lg p-5 border transition-all',\n              step.status === 'error' || step.showTag === 'error' \n                ? 'bg-red-900/20 border-red-500/30' \n                : 'bg-gray-800/50 border-gray-700',\n              // Highlight if has intelligent summary\n              step.data?.intelligentSummary ? 'ring-1 ring-blue-500/20' : ''\n            ]\"\n          >\n            <!-- Step Header -->\n            <div class=\"flex items-center justify-between mb-4\">\n              <div class=\"flex items-center\">\n                <div :class=\"[\n                  'w-8 h-8 rounded-full flex items-center justify-center mr-3',\n                  step.status === 'error' || step.showTag === 'error'\n                    ? 'bg-red-400/20'\n                    : 'bg-green-400/20'\n                ]\">\n                  <span :class=\"[\n                    'font-medium',\n                    step.status === 'error' || step.showTag === 'error'\n                      ? 'text-red-400'\n                      : 'text-green-400'\n                  ]\">{{ step.showTag === 'error' ? 'ERR' : index + 1 }}</span>\n                </div>\n                <div>\n                  <h4 class=\"text-white font-medium\">{{ step.businessName || step.name || `Process Step ${index + 1}` }}</h4>\n                  <p class=\"text-sm text-gray-400\">{{ formatBusinessStepType(step) }}</p>\n                </div>\n              </div>\n              <div class=\"text-xs text-gray-500\">\n                {{ formatDuration(step.executionTime || 0) }}\n              </div>\n            </div>\n\n            <!-- Business Summary -->\n            <div class=\"mb-4\">\n              <div :class=\"[\n                'text-sm font-medium mb-2',\n                step.status === 'error' || step.showTag === 'error'\n                  ? 'text-red-400'\n                  : 'text-green-400'\n              ]\">\n                {{ step.status === 'error' || step.showTag === 'error' ? 'Error Details:' : 'Business Summary:' }}\n              </div>\n              <div :class=\"[\n                'text-white bg-gray-900/50 p-3 rounded border-l-4',\n                step.status === 'error' || step.showTag === 'error'\n                  ? 'border-red-400'\n                  : 'border-green-400'\n              ]\">\n                {{ \n                  step.status === 'error' || step.showTag === 'error' \n                    ? getBusinessErrorSummary(step)\n                    : generateExecutionDetail(step) \n                }}\n              </div>\n            </div>\n\n            <!-- Input/Output Summary -->\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <!-- What Happened -->\n              <div :class=\"[\n                'rounded p-3 border',\n                step.status === 'error' || step.showTag === 'error'\n                  ? 'bg-orange-400/10 border-orange-400/20'\n                  : 'bg-blue-400/10 border-blue-400/20'\n              ]\">\n                <div :class=\"[\n                  'text-xs font-medium mb-1',\n                  step.status === 'error' || step.showTag === 'error'\n                    ? 'text-orange-400'\n                    : 'text-blue-400'\n                ]\">{{ step.status === 'error' || step.showTag === 'error' ? 'ERROR CONTEXT' : 'WHAT HAPPENED' }}</div>\n                <div class=\"text-sm text-gray-300\">\n                  {{ \n                    step.status === 'error' || step.showTag === 'error' \n                      ? getBusinessErrorContext(step)\n                      : (step.enrichedData?.inputSummary || getBusinessSummary(step))\n                  }}\n                </div>\n              </div>\n              \n              <!-- Result -->\n              <div :class=\"[\n                'rounded p-3 border',\n                step.status === 'error' || step.showTag === 'error'\n                  ? 'bg-red-400/10 border-red-400/20'\n                  : 'bg-green-400/10 border-green-400/20'\n              ]\">\n                <div :class=\"[\n                  'text-xs font-medium mb-1',\n                  step.status === 'error' || step.showTag === 'error'\n                    ? 'text-red-400'\n                    : 'text-green-400'\n                ]\">{{ step.status === 'error' || step.showTag === 'error' ? 'ERROR RESULT' : 'RESULT' }}</div>\n                <div class=\"text-sm text-gray-300\">\n                  {{ \n                    step.status === 'error' || step.showTag === 'error' \n                      ? getBusinessErrorDetails(step)\n                      : (step.enrichedData?.outputSummary || 'Process completed successfully')\n                  }}\n                </div>\n              </div>\n            </div>\n\n            <!-- Business Value -->\n            <div v-if=\"step.enrichedData?.businessValue\" class=\"mt-4 p-3 bg-purple-400/10 rounded border border-purple-400/20\">\n              <div class=\"text-xs text-purple-400 font-medium mb-1\">BUSINESS VALUE</div>\n              <div class=\"text-sm text-white\">{{ step.enrichedData.businessValue }}</div>\n            </div>\n\n            <!-- Intelligent Summary Section (for large data) -->\n            <div v-if=\"step.data?.intelligentSummary\" class=\"mt-4 space-y-3\">\n              <!-- Summary Type Badge -->\n              <div class=\"flex items-center gap-2\">\n                <Icon :icon=\"getIntelligentSummaryIcon(step.data.intelligentSummary.type)\" class=\"w-4 h-4 text-blue-400\" />\n                <span class=\"text-xs font-medium text-blue-400 uppercase\">\n                  {{ getIntelligentSummaryLabel(step.data.intelligentSummary.summaryType) }}\n                </span>\n                <div v-if=\"step.data.intelligentSummary.type === 'ai_generated'\" class=\"ml-auto\">\n                  <span class=\"px-2 py-0.5 text-xs bg-purple-500/20 text-purple-300 rounded\">AI Generated</span>\n                </div>\n              </div>\n\n              <!-- Business Summary Card -->\n              <div v-if=\"step.data.intelligentSummary.businessSummary\" class=\"bg-blue-900/20 border border-blue-500/20 rounded-lg p-4\">\n                <h5 class=\"text-sm font-medium text-blue-300 mb-2\">\n                  {{ step.data.intelligentSummary.businessSummary.title }}\n                </h5>\n                <p class=\"text-sm text-gray-300\">\n                  {{ step.data.intelligentSummary.businessSummary.description }}\n                </p>\n                \n                <!-- Document Type Specific -->\n                <div v-if=\"step.data.intelligentSummary.summaryType === 'document'\" class=\"mt-2 text-xs text-gray-400\">\n                  <span>{{ step.data.intelligentSummary.businessSummary.pageCount }} pages</span>\n                  <span class=\"mx-2\">•</span>\n                  <span>Type: {{ step.data.intelligentSummary.businessSummary.documentType }}</span>\n                </div>\n                \n                <!-- Dataset Type Specific -->\n                <div v-else-if=\"step.data.intelligentSummary.summaryType === 'dataset'\" class=\"mt-2 text-xs text-gray-400\">\n                  <span>{{ step.data.intelligentSummary.businessSummary.totalRows }} rows</span>\n                  <span class=\"mx-2\">•</span>\n                  <span>{{ step.data.intelligentSummary.businessSummary.totalColumns }} columns</span>\n                </div>\n              </div>\n\n              <!-- Metrics Grid -->\n              <div v-if=\"step.data.intelligentSummary.metrics && Object.keys(step.data.intelligentSummary.metrics).length > 0\" \n                   class=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\n                <div v-for=\"(value, key) in step.data.intelligentSummary.metrics\" \n                     :key=\"key\"\n                     class=\"bg-gray-800/50 rounded p-2 text-center\">\n                  <div class=\"text-xs text-gray-500 capitalize\">{{ formatMetricKey(key) }}</div>\n                  <div class=\"text-sm font-medium text-white\">{{ formatMetricValue(value) }}</div>\n                </div>\n              </div>\n\n              <!-- Preview Section -->\n              <div v-if=\"step.data.intelligentSummary.preview && !expandedSteps.has(step._nodeId)\" \n                   class=\"bg-gray-900/50 rounded-lg p-3\">\n                <div class=\"flex items-center justify-between mb-2\">\n                  <span class=\"text-xs font-medium text-gray-400\">DATA PREVIEW</span>\n                  <button @click=\"toggleExpandedStep(step._nodeId)\" \n                          class=\"text-xs text-blue-400 hover:text-blue-300\">\n                    View More →\n                  </button>\n                </div>\n                \n                <!-- Document Preview -->\n                <div v-if=\"step.data.intelligentSummary.summaryType === 'document'\" class=\"text-xs text-gray-300 space-y-1\">\n                  <div v-if=\"step.data.intelligentSummary.preview.keyDates?.length > 0\">\n                    <span class=\"text-gray-500\">Dates:</span> {{ step.data.intelligentSummary.preview.keyDates.join(', ') }}\n                  </div>\n                  <div v-if=\"step.data.intelligentSummary.preview.amounts?.length > 0\">\n                    <span class=\"text-gray-500\">Amounts:</span> {{ step.data.intelligentSummary.preview.amounts.join(', ') }}\n                  </div>\n                </div>\n                \n                <!-- Dataset Preview -->\n                <div v-else-if=\"step.data.intelligentSummary.summaryType === 'dataset' && step.data.intelligentSummary.preview.sampleRows\" \n                     class=\"overflow-x-auto\">\n                  <table class=\"text-xs w-full\">\n                    <thead>\n                      <tr class=\"text-gray-500\">\n                        <th v-for=\"header in step.data.intelligentSummary.preview.headers?.slice(0, 4)\" \n                            :key=\"header\" \n                            class=\"px-2 py-1 text-left\">\n                          {{ header }}\n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr v-for=\"(row, idx) in step.data.intelligentSummary.preview.sampleRows?.slice(0, 3)\" \n                          :key=\"idx\"\n                          class=\"text-gray-300 border-t border-gray-800\">\n                        <td v-for=\"header in step.data.intelligentSummary.preview.headers?.slice(0, 4)\" \n                            :key=\"header\"\n                            class=\"px-2 py-1\">\n                          {{ row[header] }}\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n\n              <!-- Business Insight -->\n              <div v-if=\"step.data.intelligentSummary.businessInsight\" \n                   class=\"bg-green-900/20 border border-green-500/20 rounded-lg p-3\">\n                <div class=\"flex items-start gap-2\">\n                  <Icon icon=\"lucide:lightbulb\" class=\"w-4 h-4 text-green-400 mt-0.5\" />\n                  <div>\n                    <div class=\"text-xs font-medium text-green-400 mb-1\">BUSINESS INSIGHT</div>\n                    <div class=\"text-sm text-gray-300\">{{ step.data.intelligentSummary.businessInsight }}</div>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Action Buttons -->\n              <div v-if=\"step.data.intelligentSummary.actions?.length > 0\" class=\"flex flex-wrap gap-2\">\n                <button v-for=\"action in step.data.intelligentSummary.actions\" \n                        :key=\"action\"\n                        @click=\"handleIntelligentAction(action, step)\"\n                        class=\"px-3 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-white rounded-md transition-colors\">\n                  {{ formatActionLabel(action) }}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- No Data -->\n        <div v-else class=\"text-center py-12 text-gray-400\">\n          <Icon icon=\"lucide:list\" class=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n          <h3 class=\"text-lg font-medium mb-2\">Process Not Yet Configured</h3>\n          <p class=\"text-sm mb-2\">This business process doesn't have steps configured for client reporting.</p>\n          <div class=\"bg-blue-400/10 border border-blue-400/20 rounded-lg p-4 mt-4 max-w-md mx-auto\">\n            <h4 class=\"text-blue-400 font-medium mb-2\">For Administrators:</h4>\n            <p class=\"text-xs text-blue-300\">\n              Add 'show-1', 'show-2', etc. notes to workflow nodes to make them visible in business reporting.\n            </p>\n          </div>\n        </div>\n      </div>\n    </template>\n\n    <!-- Process History Tab -->\n    <template #history=\"{ data }\">\n      <div class=\"p-6 overflow-y-auto\">\n        <h3 class=\"text-lg font-semibold text-white mb-4\">Process Execution History</h3>\n\n        <!-- History Stats (REAL DATA - Including Canceled) -->\n        <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n          <div class=\"bg-surface-hover rounded-lg p-3 border border-border\">\n            <div class=\"text-xs text-text-muted mb-1\">Total Executions</div>\n            <div class=\"text-xl font-bold text-white\">{{ workflowStats?.kpis?.totalExecutions || 0 }}</div>\n          </div>\n          <div class=\"bg-surface-hover rounded-lg p-3 border border-border\">\n            <div class=\"text-xs text-text-muted mb-1\">Success</div>\n            <div class=\"text-xl font-bold text-green-400\">{{ workflowStats?.kpis?.successfulExecutions || 0 }}</div>\n          </div>\n          <div class=\"bg-surface-hover rounded-lg p-3 border border-border\">\n            <div class=\"text-xs text-text-muted mb-1\">Failed</div>\n            <div class=\"text-xl font-bold text-red-400\">{{ workflowStats?.kpis?.failedExecutions || 0 }}</div>\n            <div v-if=\"workflowStats?.kpis?.canceledExecutions > 0\" class=\"text-xs text-orange-400 mt-1\">\n              +{{ workflowStats.kpis.canceledExecutions }} canceled\n            </div>\n          </div>\n          <div class=\"bg-surface-hover rounded-lg p-3 border border-border\">\n            <div class=\"text-xs text-text-muted mb-1\">Success Rate</div>\n            <div class=\"text-xl font-bold\" :class=\"workflowStats?.kpis?.successRate >= 50 ? 'text-green-400' : 'text-orange-400'\">\n              {{ workflowStats?.kpis?.successRate || 0 }}%\n            </div>\n          </div>\n        </div>\n\n        <!-- Recent History Table (REAL EXECUTIONS DATA) -->\n        <div v-if=\"executionsHistory.length > 0\" class=\"bg-surface-hover rounded-lg border border-border overflow-hidden\">\n          <table class=\"w-full\">\n            <thead class=\"bg-black/20 border-b border-border\">\n              <tr>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase\">Date</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase\">Status</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase\">Duration</th>\n                <th class=\"px-4 py-3 text-left text-xs font-medium text-text-muted uppercase\">Business Outcome</th>\n              </tr>\n            </thead>\n            <tbody class=\"divide-y divide-border/50\">\n              <tr v-for=\"exec in executionsHistory.slice(0, 10)\" :key=\"exec.id\" class=\"hover:bg-surface-hover/50\">\n                <td class=\"px-4 py-3 text-sm text-text-muted\">{{ formatTimestamp(exec.startedAt || exec.createdAt) }}</td>\n                <td class=\"px-4 py-3\">\n                  <span :class=\"[\n                    'px-2 py-1 text-xs rounded',\n                    exec.status === 'success' ? 'bg-green-400/20 text-green-400' :\n                    exec.status === 'error' ? 'bg-red-400/20 text-red-400' :\n                    'bg-yellow-400/20 text-yellow-400'\n                  ]\">\n                    {{ exec.status === 'success' ? 'Success' : exec.status === 'error' ? 'Failed' : 'Running' }}\n                  </span>\n                </td>\n                <td class=\"px-4 py-3 text-sm text-text-muted\">\n                  {{ exec.duration ? formatDuration(exec.duration) : 'N/A' }}\n                </td>\n                <td class=\"px-4 py-3 text-sm text-text-muted\">\n                  {{ exec.status === 'success' ? 'Process completed successfully' :\n                     exec.status === 'error' ? 'Process encountered an error' :\n                     'Process in progress' }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <!-- No Data State -->\n        <div v-else class=\"text-center py-8 text-gray-400\">\n          <Icon icon=\"lucide:history\" class=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n          <p>No execution history available yet</p>\n        </div>\n      </div>\n    </template>\n\n    <!-- Analytics Tab -->\n    <template #analytics=\"{ data }\">\n      <div class=\"p-6 space-y-6 overflow-y-auto\">\n        <h3 class=\"text-lg font-semibold text-white mb-4\">Process Analytics</h3>\n\n        <!-- Performance Metrics Grid - UNIVERSAL DATA -->\n        <div class=\"bg-surface-hover rounded-lg p-5 border border-border\">\n          <h4 class=\"text-md font-medium text-white mb-4\">Performance Metrics</h4>\n\n          <!-- Primary Metrics -->\n          <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n            <div class=\"text-center p-3 bg-surface rounded-lg\">\n              <div class=\"text-3xl font-bold text-primary\">\n                {{ workflowStats?.kpis?.successRate || 0 }}%\n              </div>\n              <div class=\"text-xs text-text-muted mt-1\">Success Rate</div>\n              <div v-if=\"workflowStats?.trends?.successRateTrend\" class=\"text-xs mt-1\"\n                   :class=\"workflowStats.trends.successRateTrend > 0 ? 'text-green-400' : 'text-red-400'\">\n                {{ workflowStats.trends.successRateTrend > 0 ? '↑' : '↓' }} {{ Math.abs(workflowStats.trends.successRateTrend) }}%\n              </div>\n            </div>\n\n            <div class=\"text-center p-3 bg-surface rounded-lg\">\n              <div class=\"text-3xl font-bold text-blue-400\">\n                {{ workflowStats?.kpis?.avgRunTime ? formatDuration(workflowStats.kpis.avgRunTime) : '0ms' }}\n              </div>\n              <div class=\"text-xs text-text-muted mt-1\">Avg Response</div>\n              <div v-if=\"workflowStats?.kpis?.minRunTime\" class=\"text-xs text-gray-500 mt-1\">\n                {{ formatDuration(workflowStats.kpis.minRunTime) }} - {{ formatDuration(workflowStats.kpis.maxRunTime) }}\n              </div>\n            </div>\n\n            <div class=\"text-center p-3 bg-surface rounded-lg\">\n              <div class=\"text-3xl font-bold text-green-400\">\n                {{ workflowStats?.kpis?.efficiencyScore || 0 }}\n              </div>\n              <div class=\"text-xs text-text-muted mt-1\">Efficiency Score</div>\n              <div class=\"text-xs text-gray-500 mt-1\">out of 100</div>\n            </div>\n\n            <div class=\"text-center p-3 bg-surface rounded-lg\">\n              <div class=\"text-3xl font-bold text-purple-400\">\n                {{ workflowStats?.kpis?.reliabilityScore || 0 }}%\n              </div>\n              <div class=\"text-xs text-text-muted mt-1\">Reliability</div>\n              <div class=\"text-xs text-gray-500 mt-1\">last 10 runs</div>\n            </div>\n          </div>\n\n          <!-- Operational Metrics -->\n          <div class=\"grid grid-cols-3 gap-3\">\n            <div class=\"p-3 bg-surface/50 rounded\">\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-xs text-text-muted\">Total Runs</span>\n                <span class=\"text-lg font-bold text-white\">{{ workflowStats?.kpis?.totalExecutions || 0 }}</span>\n              </div>\n            </div>\n            <div class=\"p-3 bg-surface/50 rounded\">\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-xs text-text-muted\">Data Processed</span>\n                <span class=\"text-lg font-bold text-white\">{{ workflowStats?.kpis?.totalDataProcessed || 0 }}</span>\n              </div>\n            </div>\n            <div class=\"p-3 bg-surface/50 rounded\">\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-xs text-text-muted\">Automation Impact</span>\n                <span class=\"text-lg font-bold text-white\">{{ workflowStats?.kpis?.automationImpact || 0 }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Activity Patterns - UNIVERSAL DATA -->\n        <div class=\"bg-surface-hover rounded-lg p-5 border border-border\">\n          <h4 class=\"text-md font-medium text-white mb-4\">Activity Patterns</h4>\n\n          <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div class=\"text-center\">\n              <div class=\"text-2xl font-bold text-white\">\n                {{ workflowStats?.kpis?.last24hExecutions || 0 }}\n              </div>\n              <div class=\"text-xs text-text-muted\">Last 24h</div>\n            </div>\n\n            <div class=\"text-center\">\n              <div class=\"text-2xl font-bold text-white\">\n                {{ workflowStats?.kpis?.last7dExecutions || 0 }}\n              </div>\n              <div class=\"text-xs text-text-muted\">Last 7 days</div>\n            </div>\n\n            <div class=\"text-center\">\n              <div class=\"text-2xl font-bold text-white\">\n                {{ workflowStats?.kpis?.avgExecutionsPerDay || 0 }}\n              </div>\n              <div class=\"text-xs text-text-muted\">Daily Average</div>\n            </div>\n\n            <div class=\"text-center\">\n              <div class=\"text-2xl font-bold text-white\">\n                {{ workflowStats?.kpis?.peakHour !== null ? `${workflowStats.kpis.peakHour}:00` : 'N/A' }}\n              </div>\n              <div class=\"text-xs text-text-muted\">Peak Hour</div>\n            </div>\n          </div>\n\n          <!-- Volume Trend Indicator -->\n          <div v-if=\"workflowStats?.trends?.volumeTrend !== undefined\" class=\"mt-4 p-3 bg-surface/50 rounded\">\n            <div class=\"flex items-center justify-between\">\n              <span class=\"text-sm text-text-muted\">Volume Trend</span>\n              <span class=\"text-sm font-bold\"\n                    :class=\"workflowStats.trends.volumeTrend > 0 ? 'text-green-400' : 'text-orange-400'\">\n                {{ workflowStats.trends.volumeTrend > 0 ? '↑' : workflowStats.trends.volumeTrend < 0 ? '↓' : '→' }}\n                {{ Math.abs(workflowStats.trends.volumeTrend) }}% vs previous period\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Business Insights (REAL DATA DRIVEN) -->\n        <div class=\"bg-surface-hover rounded-lg p-5 border border-border\">\n          <h4 class=\"text-md font-medium text-white mb-3\">Business Insights</h4>\n          <ul class=\"space-y-3\">\n            <li v-if=\"workflowStats?.kpis?.totalExecutions\" class=\"flex items-start gap-2\">\n              <Icon icon=\"lucide:activity\" class=\"w-5 h-5 text-green-400 mt-0.5\" />\n              <div>\n                <div class=\"text-sm text-white\">Process Activity</div>\n                <div class=\"text-xs text-text-muted\">{{ workflowStats.kpis.totalExecutions }} total executions recorded</div>\n              </div>\n            </li>\n            <li v-if=\"workflowStats?.kpis?.successRate\" class=\"flex items-start gap-2\">\n              <Icon icon=\"lucide:check-circle\" class=\"w-5 h-5 text-blue-400 mt-0.5\" />\n              <div>\n                <div class=\"text-sm text-white\">Reliability Score</div>\n                <div class=\"text-xs text-text-muted\">{{ workflowStats.kpis.successRate }}% success rate maintained</div>\n              </div>\n            </li>\n            <li v-if=\"workflowStats?.kpis?.avgRunTime\" class=\"flex items-start gap-2\">\n              <Icon icon=\"lucide:clock\" class=\"w-5 h-5 text-purple-400 mt-0.5\" />\n              <div>\n                <div class=\"text-sm text-white\">Performance Baseline</div>\n                <div class=\"text-xs text-text-muted\">Average completion time: {{ formatDuration(workflowStats.kpis.avgRunTime) }}</div>\n              </div>\n            </li>\n            <li v-if=\"executionsHistory.length > 0\" class=\"flex items-start gap-2\">\n              <Icon icon=\"lucide:trending-up\" class=\"w-5 h-5 text-green-400 mt-0.5\" />\n              <div>\n                <div class=\"text-sm text-white\">Recent Performance</div>\n                <div class=\"text-xs text-text-muted\">\n                  Last {{ Math.min(executionsHistory.length, 10) }} executions:\n                  {{ Math.round((executionsHistory.slice(0, 10).filter(e => e.status === 'success').length / Math.min(executionsHistory.length, 10)) * 100) }}% success rate\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n\n        <!-- Recommendations (DATA-DRIVEN) -->\n        <div class=\"bg-gradient-to-r from-blue-500/20 to-blue-500/10 rounded-lg p-5 border border-blue-500/30\">\n          <h4 class=\"text-md font-medium text-white mb-3\">Recommendations</h4>\n          <ul class=\"space-y-2 text-sm text-text-muted\">\n            <li v-if=\"workflowStats?.kpis?.successRate && workflowStats.kpis.successRate < 95\">\n              • Success rate is {{ workflowStats.kpis.successRate }}% - investigate failed executions for improvement opportunities\n            </li>\n            <li v-if=\"workflowStats?.kpis?.avgRunTime && workflowStats.kpis.avgRunTime > 10000\">\n              • Average runtime exceeds 10 seconds - consider optimizing process steps or enabling parallel execution\n            </li>\n            <li v-if=\"executionsHistory.filter(e => e.status === 'error').length > 0\">\n              • {{ executionsHistory.filter(e => e.status === 'error').length }} failed executions detected - review error patterns for resolution\n            </li>\n            <li v-if=\"!workflowStats?.kpis?.totalExecutions || workflowStats.kpis.totalExecutions === 0\">\n              • No execution data available - run the process to collect performance metrics\n            </li>\n            <li v-else-if=\"workflowStats?.kpis?.successRate >= 95\">\n              • Excellent performance maintained - consider expanding process capabilities\n            </li>\n          </ul>\n        </div>\n      </div>\n    </template>\n\n    <!-- Raw Data Tab (Hidden for clients) -->\n    <template #raw=\"{ data }\">\n      <div class=\"p-6\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <div class=\"flex items-center\">\n            <Icon icon=\"lucide:code\" class=\"w-5 h-5 text-gray-400 mr-2\" />\n            <h3 class=\"text-lg font-medium text-white\">Raw Timeline Data</h3>\n          </div>\n          <div class=\"flex gap-2\">\n            <button\n              @click=\"generateBusinessReport\"\n              class=\"flex items-center px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors\"\n            >\n              <Icon icon=\"lucide:file-text\" class=\"w-4 h-4 mr-1.5\" />\n              Generate Report\n            </button>\n            <button\n              @click=\"showJsonData\"\n              class=\"flex items-center px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm transition-colors\"\n            >\n              <Icon icon=\"lucide:code\" class=\"w-4 h-4 mr-1.5\" />\n              Show JSON\n            </button>\n          </div>\n        </div>\n        \n        <pre \n          id=\"raw-data-content\"\n          class=\"bg-black/50 p-4 rounded-lg border border-gray-800 text-xs text-gray-300 overflow-auto max-h-96 font-mono whitespace-pre premium-scrollbar\"\n        >{{ \n          data ? \n          JSON.stringify(data, null, 2)\n            .replace(/n8n/gi, 'WFEngine')\n            .replace(/\\.nodes\\./g, '.engine.')\n            .replace(/\\.base\\./g, '.core.')\n          : 'No data available' \n        }}</pre>\n      </div>\n    </template>\n  </DetailModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { Icon } from '@iconify/vue'\nimport DetailModal from './DetailModal.vue'\nimport { useModal } from '../../composables/useModal'\nimport { useBusinessParser } from '../../composables/useBusinessParser'\nimport { businessAPI, $fetch } from '../../services/api-client'\nimport { API_BASE_URL } from '../../utils/api-config'\nimport { UnifiedBusinessProcessor, cleanHtmlContent, truncateText } from '../../shared/business-parsers'\n\ninterface Props {\n  workflowId: string\n  executionId?: string\n  tenantId?: string\n  show: boolean\n}\n\nconst props = defineProps<Props>()\n\nconst emit = defineEmits<{\n  close: []\n}>()\n\n// Composables\nconst { isLoading, error, setLoading, setError, showToast } = useModal()\nconst { parseBusinessData: legacyParseBusinessData, formatBusinessData, formatTimelineStepData } = useBusinessParser()\n\n// Use new unified processor with compatibility wrapper\nconst parseBusinessData = (data: any, dataType: string, nodeType?: string, nodeName?: string) => {\n  // Use new unified processor\n  const result = UnifiedBusinessProcessor.process(data, {\n    source: 'frontend',\n    nodeType,\n    workflowId: props.workflowId\n  })\n\n  // Convert to legacy format for compatibility\n  return {\n    summary: result.summary,\n    details: result.details,\n    type: result.type,\n    metadata: result.metadata,\n    businessValue: result.businessValue\n  }\n}\n\n// State\nconst timelineData = ref<any>(null)\nconst expandedStep = ref<string | null>(null)\nconst expandedSteps = ref(new Set<string>())\n\n// Additional data for Business Dashboard tabs\nconst executionsHistory = ref<any[]>([])\nconst workflowStats = ref<any>(null)\nconst recentActivity = ref<any[]>([])\nconst workflowInfo = ref<any>(null)\n\n// Modal configuration\nconst modalTitle = computed(() => {\n  return timelineData.value?.workflow?.name || `Business Process ${props.workflowId}`\n})\n\nconst modalSubtitle = computed(() => {\n  if (!timelineData.value) return ''\n  const workflow = timelineData.value.workflow\n  const execution = timelineData.value.execution\n  const status = workflow?.active ? 'ACTIVE' : 'INACTIVE'\n  return `ID: ${props.workflowId} • Status: ${status}${execution ? ` • Last: ${execution.id}` : ''}`\n})\n\nconst tabs = [\n  { id: 'overview', label: 'Process Overview', icon: 'lucide:info' },\n  { id: 'executions', label: 'Latest Activity', icon: 'lucide:activity' },\n  { id: 'history', label: 'Process History', icon: 'lucide:history' },\n  { id: 'analytics', label: 'Analytics', icon: 'lucide:bar-chart-2' },\n]\n\n// Timeline logic\nconst loadTimeline = async () => {\n  setLoading(true)\n  setError(null)\n\n  const API_BASE = import.meta.env.VITE_API_URL || API_BASE_URL\n\n  try {\n    console.log('🔄 Loading dashboard data for workflow:', props.workflowId)\n\n    // Use new dashboard endpoint that aggregates all data\n    const dashboardResponse = await $fetch(`${API_BASE}/api/business/dashboard/${props.workflowId}`)\n    console.log('✅ Dashboard data loaded:', dashboardResponse)\n\n    // Process workflow info\n    if (dashboardResponse.workflow) {\n      workflowInfo.value = dashboardResponse.workflow\n    }\n\n    // Process executions with business data\n    if (dashboardResponse.executions) {\n      executionsHistory.value = dashboardResponse.executions\n      console.log('✅ Executions with business data:', executionsHistory.value.length)\n    }\n\n    // Process statistics\n    if (dashboardResponse.statistics) {\n      workflowStats.value = dashboardResponse.statistics\n      console.log('✅ Statistics loaded:', workflowStats.value)\n    }\n\n    // Process recent activity (AI responses, emails)\n    if (dashboardResponse.recentActivity) {\n      recentActivity.value = dashboardResponse.recentActivity\n      console.log('✅ Recent activity loaded:', recentActivity.value.length, 'items')\n    }\n  } catch (dashboardError) {\n    console.error('❌ Failed to load dashboard data:', dashboardError)\n    setError('Failed to load dashboard data. Please try again.')\n  }\n\n    // Also load timeline data for timeline tab\n    try {\n      let url = `${API_BASE}/api/business/raw-data-for-modal/${props.workflowId}`\n      if (props.executionId) {\n        url += `?executionId=${props.executionId}`\n      }\n      const data = await businessAPI.getWorkflowDetails(props.workflowId)\n      console.log('✅ Process timeline loaded:', data.data)\n    \n    // Check if no business nodes are configured\n    if (!data.data?.businessNodes || data.data.businessNodes.length === 0) {\n      console.log('ℹ️ No show-n nodes found for this workflow - showing empty state')\n      timelineData.value = { ...data.data, businessNodes: [] }\n      return\n    }\n    \n    // Enrich timeline data with business summaries\n    console.log(`📊 Starting enrichment of ${data.data?.businessNodes?.length || 0} nodes`)\n    if (data.data?.businessNodes) {\n      const originalLength = data.data.businessNodes.length\n      \n      data.data.businessNodes = data.data.businessNodes.map((node: any, index: number) => {\n        console.log(`📊 Processing node ${index + 1}/${originalLength}: \"${node.name}\"`)\n        \n        if (node.data && (node.data.inputJson || node.data.outputJson)) {\n          try {\n            const enrichedData = formatTimelineStepData(\n              node.data.inputJson,\n              node.data.outputJson,\n              node.data.nodeType,\n              node.name\n            )\n            console.log(`✅ Enriched node \"${node.name}\":`, enrichedData)\n            return {\n              ...node,\n              enrichedData\n            }\n          } catch (err) {\n            console.warn(`⚠️ Failed to enrich node \"${node.name}\":`, err)\n            return node\n          }\n        } else {\n          console.log(`ℹ️ Skipping enrichment for node \"${node.name}\" - no input/output data`)\n          return node\n        }\n      })\n      \n      console.log(`📊 Enrichment complete: ${data.data.businessNodes.length}/${originalLength} nodes processed`)\n      \n      if (data.data.businessNodes.length !== originalLength) {\n        console.error(`❌ Node count mismatch! Original: ${originalLength}, Final: ${data.data.businessNodes.length}`)\n      }\n    }\n    \n    timelineData.value = data.data\n    \n  } catch (err: any) {\n    console.error('❌ Failed to load process timeline:', err)\n    \n    // More user-friendly error messages\n    if (err.message.includes('Failed to fetch') || err.message.includes('fetch')) {\n      setError('Process configuration incomplete. This business process needs to be configured with visible steps for reporting.')\n    } else if (err.message.includes('404')) {\n      setError('Process not found or not yet configured for business reporting.')\n    } else {\n      setError('Unable to load process details. Please try again or contact support.')\n    }\n  } finally {\n    setLoading(false)\n  }\n}\n\nconst handleForceRefresh = async () => {\n  try {\n    console.log('🔥 Force refresh: Process timeline for', props.workflowId)\n    \n    // Try force refresh endpoint first  \n    try {\n      await businessAPI.refreshProcess(props.workflowId)\n      console.log('✅ Force refresh succeeded')\n      showToast('success', 'Timeline data refreshed successfully')\n    } catch (refreshError) {\n      console.warn('⚠️ Force refresh endpoint not available:', refreshError)\n    }\n    \n    // Reload timeline data\n    await loadTimeline()\n    \n  } catch (error: any) {\n    showToast('error', 'Failed to refresh', error.message)\n  }\n}\n\n// Step visualization helpers\nconst getStepIcon = (status: string) => {\n  switch (status) {\n    case 'success': return 'lucide:check-circle'\n    case 'error': return 'lucide:x-circle'\n    case 'running': return 'lucide:settings'\n    case 'not-executed': return 'lucide:clock'\n    default: return 'lucide:clock'\n  }\n}\n\nconst getStepColor = (status: string) => {\n  switch (status) {\n    case 'success': return 'border-green-400/30 bg-green-400/5 hover:bg-green-400/10'\n    case 'error': return 'border-red-400/30 bg-red-400/5 hover:bg-red-400/10'\n    case 'running': return 'border-yellow-400/30 bg-yellow-400/5 hover:bg-yellow-400/10'\n    case 'not-executed': return 'border-gray-600/30 bg-gray-800/50 hover:bg-gray-700/50'\n    default: return 'border-gray-400/30 bg-gray-400/5 hover:bg-gray-400/10'\n  }\n}\n\nconst getBusinessSummary = (step: any): string => {\n  const parsedData = parseBusinessData(\n    step.outputData || step.inputData,\n    step.outputData ? 'output' : 'input',\n    step.nodeType,\n    step.nodeName\n  )\n  return parsedData.summary\n}\n\nconst getBusinessErrorSummary = (step: any): string => {\n  // Use the business parser to extract detailed error information\n  const parsedData = parseBusinessData(\n    step.data,\n    'output',\n    step.nodeType,\n    step.name\n  )\n  \n  // If the business parser extracted detailed error information, use it\n  if (parsedData.type === 'error' && parsedData.details.length > 0) {\n    return parsedData.details.join('\\n')\n  }\n  \n  // Fallback to direct n8n error details if available\n  if (step.data?.n8nErrorDetails) {\n    const error = step.data.n8nErrorDetails\n    return `${error.errorType}: ${error.message} (Nodo: ${error.nodeName})`\n  }\n  \n  // Final fallback\n  return 'Process execution failed to complete successfully'\n}\n\nconst getBusinessErrorDetails = (step: any): string => {\n  // Use the business parser to extract detailed error information\n  const parsedData = parseBusinessData(\n    step.data,\n    'output',\n    step.nodeType,\n    step.name\n  )\n  \n  // If the business parser extracted detailed error information, use the first detail\n  if (parsedData.type === 'error' && parsedData.details.length > 0) {\n    // Return the most important detail (usually the first one with the error message)\n    return parsedData.details.find(detail => detail.includes('Errore:')) || parsedData.details[0]\n  }\n  \n  // Fallback to direct n8n error details if available\n  if (step.data?.n8nErrorDetails) {\n    const error = step.data.n8nErrorDetails\n    return error.message || 'Error details not available'\n  }\n  \n  // Final fallback\n  return 'Check raw data for error details'\n}\n\nconst getBusinessErrorContext = (step: any): string => {\n  // Use the business parser to extract detailed error information\n  const parsedData = parseBusinessData(\n    step.data,\n    'output',\n    step.nodeType,\n    step.name\n  )\n  \n  // If the business parser extracted detailed error information, use node info\n  if (parsedData.type === 'error' && parsedData.details.length > 1) {\n    // Return the node context (usually the second detail with node info)\n    return parsedData.details.find(detail => detail.includes('Nodo Fallito:')) || \n           parsedData.details.find(detail => detail.includes('Tipo Errore:')) ||\n           parsedData.details[1]\n  }\n  \n  // Fallback to direct n8n error details if available\n  if (step.data?.n8nErrorDetails) {\n    const error = step.data.n8nErrorDetails\n    return `Errore nel nodo: ${error.nodeName} (${error.errorType})`\n  }\n  \n  // Final fallback\n  return `Errore durante l'esecuzione del nodo: ${step.name}`\n}\n\nconst getBusinessData = (step: any, dataType: 'input' | 'output'): string => {\n  const data = dataType === 'input' ? step.inputData : step.outputData\n  const parsedData = parseBusinessData(data, dataType, step.nodeType, step.nodeName)\n  return formatBusinessData(parsedData)\n}\n\nconst toggleExpanded = (stepId: string | number) => {\n  expandedStep.value = expandedStep.value === stepId ? null : String(stepId)\n}\n\n// Business Data Helper Functions - Universal for ALL workflows\nconst calculateSuccessRate = () => {\n  const successCount = workflowStats.value?.successCount || 0\n  const errorCount = workflowStats.value?.errorCount || 0\n  const total = successCount + errorCount\n  if (total === 0) return 100\n  return Math.round((successCount / total) * 100)\n}\n\nconst getBusinessMetricLabel = () => {\n  // Intelligently determine what metric to show based on available data\n  if (workflowStats.value?.total_orders > 0) return 'Orders Processed'\n  if (workflowStats.value?.ai_responses > 0) return 'AI Responses'\n  if (workflowStats.value?.emails_processed > 0) return 'Emails Handled'\n  if (workflowStats.value?.unique_senders > 0) return 'Unique Customers'\n  return 'Data Points'\n}\n\nconst formatBusinessMetric = () => {\n  // Show the most relevant business metric\n  if (workflowStats.value?.total_orders > 0) return workflowStats.value.total_orders\n  if (workflowStats.value?.ai_responses > 0) return workflowStats.value.ai_responses\n  if (workflowStats.value?.emails_processed > 0) return workflowStats.value.emails_processed\n  if (workflowStats.value?.unique_senders > 0) return workflowStats.value.unique_senders\n  return workflowStats.value?.total_executions || 0\n}\n\nconst formatRelativeTime = (timestamp: string) => {\n  const date = new Date(timestamp)\n  const now = new Date()\n  const diff = now.getTime() - date.getTime()\n\n  const minutes = Math.floor(diff / 60000)\n  const hours = Math.floor(diff / 3600000)\n  const days = Math.floor(diff / 86400000)\n\n  if (minutes < 1) return 'Just now'\n  if (minutes < 60) return `${minutes} minute${minutes > 1 ? 's' : ''} ago`\n  if (hours < 24) return `${hours} hour${hours > 1 ? 's' : ''} ago`\n  return `${days} day${days > 1 ? 's' : ''} ago`\n}\n\n// Utility functions\nconst formatDuration = (ms: number) => {\n  if (ms < 1000) return `${ms}ms`\n  if (ms < 60000) return `${(ms / 1000).toFixed(1)}s`\n  return `${(ms / 60000).toFixed(1)}min`\n}\n\nconst formatTimestamp = (timestamp: string | number) => {\n  // Handle both string ISO dates and Unix timestamps\n  const date = typeof timestamp === 'number' ? new Date(timestamp) : new Date(timestamp)\n  return date.toLocaleString('it-IT', {\n    dateStyle: 'short',\n    timeStyle: 'medium'\n  })\n}\n\n// Actions\nconst replyToCustomer = (context: any) => {\n  const customerEmail = context.customerEmail\n  const subject = context.subject || ''\n  \n  if (customerEmail) {\n    window.open(`mailto:${customerEmail}?subject=Re: ${subject}`, '_blank')\n  }\n}\n\nconst downloadReport = () => {\n  if (!timelineData.value) return\n  \n  const reportContent = generateBusinessReport()\n  const blob = new Blob([reportContent], { type: 'text/plain;charset=utf-8' })\n  const url = URL.createObjectURL(blob)\n  const link = document.createElement('a')\n  link.href = url\n  link.download = `business-process-report-${props.workflowId}-${new Date().toISOString().slice(0, 10)}.txt`\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n}\n\nconst generateBusinessReport = (): string => {\n  if (!timelineData.value) return ''\n  \n  let report = `╔${'═'.repeat(78)}╗\\n`\n  report += `║${' '.repeat(15)}BUSINESS PROCESS EXECUTION REPORT${' '.repeat(16)}║\\n`\n  report += `║${' '.repeat(25)}PilotPro Control Center${' '.repeat(29)}║\\n`\n  report += `╚${'═'.repeat(78)}╝\\n\\n`\n  \n  // Process Information\n  report += `┌─ PROCESS INFORMATION ${'─'.repeat(56)}┐\\n\\n`\n  report += `  Process Name:      ${timelineData.value.workflowName || 'Not specified'}\\n`\n  report += `  Process ID:        ${props.workflowId}\\n`\n  report += `  Status:            ${timelineData.value.status === 'active' ? 'ACTIVE' : 'INACTIVE'}\\n`\n  \n  if (timelineData.value.lastExecution) {\n    report += `\\n  LAST EXECUTION:\\n`\n    report += `  ├─ Execution ID:   ${timelineData.value.lastExecution.id}\\n`\n    report += `  ├─ Date/Time:      ${formatTimestamp(timelineData.value.lastExecution.executedAt)}\\n`\n    report += `  ├─ Total Duration: ${formatDuration(timelineData.value.lastExecution.duration)}\\n`\n    report += `  └─ Status:         ${timelineData.value.lastExecution.status || 'Completed'}\\n`\n  }\n  \n  report += `\\n└${'─'.repeat(78)}┘\\n\\n`\n  \n  // Business Context\n  if (timelineData.value.execution?.businessContext && Object.keys(timelineData.value.execution.businessContext).length > 0) {\n    report += `┌─ BUSINESS CONTEXT ANALYSIS ${'─'.repeat(50)}┐\\n\\n`\n    \n    const context = timelineData.value.execution.businessContext\n    if (context.customerEmail) {\n      report += `  CUSTOMER INFORMATION:\\n`\n      report += `     Email: ${context.customerEmail}\\n\\n`\n    }\n    \n    if (context.subject) {\n      report += `  COMMUNICATION SUBJECT:\\n`\n      report += `     \"${context.subject}\"\\n\\n`\n    }\n    \n    if (context.orderId) {\n      report += `  ORDER REFERENCE:\\n`\n      report += `     Order ID: ${context.orderId}\\n\\n`\n    }\n    \n    if (context.classification) {\n      report += `  AI CLASSIFICATION:\\n`\n      report += `     Category: ${context.classification}\\n`\n      if (context.confidence) {\n        report += `     Confidence: ${context.confidence}%\\n`\n      }\n      report += `\\n`\n    }\n    \n    report += `└${'─'.repeat(78)}┘\\n\\n`\n  }\n  \n  return report\n}\n\nconst showJsonData = () => {\n  const preElement = document.getElementById('raw-data-content')\n  if (preElement && timelineData.value) {\n    const sanitizedJson = JSON.stringify(timelineData.value, null, 2)\n      .replace(/n8n/gi, 'WFEngine')\n      .replace(/\\.nodes\\./g, '.engine.')\n      .replace(/\\.base\\./g, '.core.')\n    preElement.textContent = sanitizedJson\n  }\n}\n\n// Executions Details Helper Functions\nconst formatBusinessStepType = (step: any): string => {\n  const nodeName = step.name?.toLowerCase() || ''\n  \n  if (nodeName.includes('mail') || nodeName.includes('ricezione')) {\n    return 'Customer Communication'\n  }\n  if (nodeName.includes('milena') || nodeName.includes('assistente')) {\n    return 'AI Assistant Processing'\n  }\n  if (nodeName.includes('qdrant') || nodeName.includes('vector')) {\n    return 'Knowledge Base Search'\n  }\n  if (nodeName.includes('ordini') || nodeName.includes('order')) {\n    return 'Order Management'\n  }\n  if (nodeName.includes('supabase') || nodeName.includes('database')) {\n    return 'Data Storage Operation'\n  }\n  if (nodeName.includes('execute') || nodeName.includes('workflow')) {\n    return 'Business Process Execution'\n  }\n  \n  return 'Business Process Step'\n}\n\nconst generateExecutionDetail = (step: any): string => {\n  const nodeName = step.name?.toLowerCase() || ''\n  \n  // Email nodes - focus on communication\n  if (nodeName.includes('ricezione') && step.data?.outputJson) {\n    const email = step.data.outputJson\n    if (email.oggetto && email.mittente) {\n      return `Customer email received from ${email.mittente} regarding \"${email.oggetto}\". Message successfully processed and categorized for business response.`\n    }\n    return 'Customer email received and processed successfully.'\n  }\n  \n  // AI Assistant nodes - focus on intelligence\n  if ((nodeName.includes('milena') || nodeName.includes('assistente')) && step.data?.outputJson?.output) {\n    const aiOutput = step.data.outputJson.output\n    if (aiOutput.categoria) {\n      return `AI Assistant analyzed the customer request and generated an intelligent response. Category: ${aiOutput.categoria}. Response crafted based on business knowledge and customer context.`\n    }\n    return 'AI Assistant processed the request and generated an intelligent, personalized response for the customer.'\n  }\n  \n  // Vector/Knowledge search nodes\n  if (nodeName.includes('qdrant') || nodeName.includes('vector')) {\n    return 'Knowledge base searched to find relevant information and context for providing accurate customer support.'\n  }\n  \n  // Order/Database nodes\n  if (nodeName.includes('ordini') || nodeName.includes('order')) {\n    return 'Order information retrieved and processed to provide customer with accurate status and details.'\n  }\n  \n  // Database storage nodes\n  if (nodeName.includes('supabase') || nodeName.includes('database')) {\n    return 'Customer interaction data saved to business database for future reference and analytics.'\n  }\n  \n  // Sub-workflow execution\n  if (nodeName.includes('execute') || nodeName.includes('workflow')) {\n    return 'Business process sub-routine executed successfully to handle specific customer requirements.'\n  }\n  \n  // Generic business value\n  return 'Business process step completed successfully, contributing to efficient customer service automation.'\n}\n\n// Intelligent Summary Helper Functions\nconst getIntelligentSummaryIcon = (type: string) => {\n  const icons: Record<string, string> = {\n    'document': 'lucide:file-text',\n    'dataset': 'lucide:table',\n    'statistical': 'lucide:bar-chart-2',\n    'ai_generated': 'lucide:sparkles',\n    'email_batch': 'lucide:mail',\n    'api_response': 'lucide:cloud',\n    'generic': 'lucide:file'\n  }\n  return icons[type] || 'lucide:file'\n}\n\nconst getIntelligentSummaryLabel = (summaryType: string) => {\n  const labels: Record<string, string> = {\n    'document': 'Document Analysis',\n    'dataset': 'Data Table',\n    'emails': 'Email Batch',\n    'api': 'API Response',\n    'statistics': 'Statistical Analysis',\n    'ai': 'AI Analysis',\n    'generic': 'Process Data'\n  }\n  return labels[summaryType] || 'Process Data'\n}\n\nconst formatMetricKey = (key: string) => {\n  return key.replace(/_/g, ' ').replace(/([A-Z])/g, ' $1').trim()\n}\n\nconst formatMetricValue = (value: any) => {\n  if (typeof value === 'number') {\n    if (value > 1000000) return `${(value / 1000000).toFixed(1)}M`\n    if (value > 1000) return `${(value / 1000).toFixed(1)}K`\n    if (value % 1 !== 0) return value.toFixed(2)\n    return value.toString()\n  }\n  if (typeof value === 'boolean') return value ? 'Yes' : 'No'\n  if (value === null || value === undefined) return '-'\n  return value.toString()\n}\n\nconst formatActionLabel = (action: string) => {\n  const labels: Record<string, string> = {\n    'download_full': 'Download Full Data',\n    'request_ai_analysis': 'AI Analysis',\n    'extract_data': 'Extract Data',\n    'view_full_table': 'View Full Table',\n    'export_excel': 'Export Excel',\n    'generate_report': 'Generate Report',\n    'analyze_patterns': 'Analyze Patterns',\n    'view_all_emails': 'View All Emails',\n    'export_list': 'Export List',\n    'analyze_sentiment': 'Analyze Sentiment',\n    'view_json': 'View JSON',\n    'export_data': 'Export Data',\n    'analyze_structure': 'Analyze Structure',\n    'view_chart': 'View Chart',\n    'export_stats': 'Export Statistics',\n    'analyze_trends': 'Analyze Trends',\n    'view_raw': 'View Raw',\n    'download': 'Download',\n    'regenerate_analysis': 'Regenerate Analysis'\n  }\n  return labels[action] || action\n}\n\nconst toggleExpandedStep = (stepId: string) => {\n  if (expandedSteps.value.has(stepId)) {\n    expandedSteps.value.delete(stepId)\n  } else {\n    expandedSteps.value.add(stepId)\n  }\n}\n\nconst handleIntelligentAction = async (action: string, step: any) => {\n  console.log('🎯 Handling intelligent action:', action, step)\n  \n  switch(action) {\n    case 'download_full':\n      downloadFullData(step)\n      break\n    case 'request_ai_analysis':\n      await requestAIAnalysis(step)\n      break\n    case 'export_excel':\n      exportToExcel(step)\n      break\n    case 'generate_report':\n      generateStepReport(step)\n      break\n    default:\n      showToast('info', `Action \"${action}\" not yet implemented`)\n  }\n}\n\nconst downloadFullData = (step: any) => {\n  const data = step.data?.rawOutputData || step.data?.outputJson || {}\n  const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' })\n  const url = URL.createObjectURL(blob)\n  const link = document.createElement('a')\n  link.href = url\n  link.download = `${step.name}-data-${new Date().toISOString().slice(0, 10)}.json`\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n  showToast('success', 'Data downloaded successfully')\n}\n\nconst requestAIAnalysis = async (step: any) => {\n  showToast('info', 'Requesting AI analysis...')\n  // TODO: Implement AI analysis request\n  // This would call the backend to process through Ollama\n  setTimeout(() => {\n    showToast('success', 'AI analysis complete')\n  }, 2000)\n}\n\nconst exportToExcel = (step: any) => {\n  // TODO: Implement Excel export using a library like xlsx\n  showToast('info', 'Excel export feature coming soon')\n}\n\nconst generateStepReport = (step: any) => {\n  const report = `\nBusiness Process Step Report\n============================\nStep Name: ${step.name}\nType: ${step.data?.intelligentSummary?.businessSummary?.title || step.type}\nStatus: ${step.status}\nExecution Time: ${formatDuration(step.executionTime || 0)}\n\nBusiness Summary:\n${step.data?.intelligentSummary?.businessSummary?.description || 'No summary available'}\n\nBusiness Insight:\n${step.data?.intelligentSummary?.businessInsight || 'No insights available'}\n\nGenerated: ${new Date().toLocaleString()}\n  `.trim()\n  \n  const blob = new Blob([report], { type: 'text/plain' })\n  const url = URL.createObjectURL(blob)\n  const link = document.createElement('a')\n  link.href = url\n  link.download = `${step.name}-report-${new Date().toISOString().slice(0, 10)}.txt`\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n  showToast('success', 'Report generated successfully')\n}\n\n// Lifecycle\nwatch(() => props.show, (newShow) => {\n  if (newShow) {\n    console.log('📊 Timeline modal opened for process:', props.workflowId)\n    loadTimeline()\n  }\n})\n\nonMounted(() => {\n  if (props.show) {\n    loadTimeline()\n  }\n})\n</script>"],"names":["useModal","initialShow","config","uiStore","useUIStore","show","ref","isLoading","error","closeOnEscape","closeOnClickOutside","showLoadingSpinner","open","close","setLoading","loading","setError","err","showToast","type","title","message","handleKeydown","event","handleClickOutside","watch","newShow","props","__props","emit","__emit","activeTab","hasContent","computed","handleRefresh","_createBlock","_Teleport","_createElementBlock","_cache","_withModifiers","_unref","args","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","Icon","headerIcon","_hoisted_5","_toDisplayString","subtitle","$slots","_openBlock","_hoisted_6","_renderSlot","_ctx","_hoisted_7","_hoisted_8","showRefresh","$emit","_hoisted_10","_hoisted_11","_hoisted_12","loadingText","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","tabs","_hoisted_17","_Fragment","_renderList","tab","$event","_normalizeClass","_resolveDynamicComponent","_hoisted_19","data","_hoisted_20","useBusinessParser","sanitizeNodeType","nodeType","extractEmailData","insights","subject","sender","field","emailBody","preview","extractAIData","aiResponse","extractOrderData","extractVectorData","matches","count","extractGenericData","dataString","emailRegex","emails","processData","keys","parseBusinessData","dataType","nodeName","sanitizedType","nodeNameLower","errorSummary","errorDetails","errorType","stackTrace","httpCode","timestamp","date","firstLine","isEmailNode","isAINode","isOrderNode","isVectorNode","emailData","aiData","orderData","vectorData","formatBusinessData","parsedData","header","details","formatTimelineStepData","inputData","outputData","parsedInput","parsedOutput","inputSummary","outputSummary","emailContent","cleanContent","responseContent","cleanResponse","searchResults","resultCount","firstResult","parsedResult","content","workflowResult","businessValue","generateBusinessValue","parseIntelligentSummary","summary","key","value","parsed","cleanHtmlContent","truncateText","text","maxLength","truncated","lastSpace","detectDataType","calculateConfidence","fieldCount","EmailParser","confidence","cleanBody","result","jsonData","indicators","domain","AIResponseParser","response","responseText","prompt","clean","UnifiedBusinessProcessor","context","cacheKey","firstKey","orderId","item","total","query","results","index","timelineData","expandedSteps","executionsHistory","workflowStats","recentActivity","workflowInfo","modalTitle","modalSubtitle","workflow","execution","status","loadTimeline","API_BASE","API_BASE_URL","dashboardResponse","$fetch","dashboardError","url","businessAPI","originalLength","node","enrichedData","handleForceRefresh","refreshError","getBusinessSummary","step","getBusinessErrorSummary","getBusinessErrorDetails","detail","getBusinessErrorContext","calculateSuccessRate","successCount","errorCount","getBusinessMetricLabel","formatBusinessMetric","formatRelativeTime","diff","minutes","hours","days","formatDuration","ms","formatTimestamp","generateBusinessReport","report","showJsonData","preElement","sanitizedJson","formatBusinessStepType","generateExecutionDetail","email","aiOutput","getIntelligentSummaryIcon","getIntelligentSummaryLabel","summaryType","formatMetricKey","formatMetricValue","formatActionLabel","action","toggleExpandedStep","stepId","handleIntelligentAction","downloadFullData","requestAIAnalysis","exportToExcel","generateStepReport","blob","link","onMounted","DetailModal","_withCtx","refresh","_hoisted_9","capability","_hoisted_18","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","activity","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","row","idx","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","exec","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","_hoisted_120","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129","_hoisted_130","_hoisted_131","_hoisted_132","_hoisted_133","_hoisted_134","_hoisted_135","_hoisted_136","_hoisted_137","_hoisted_138","_hoisted_139","_hoisted_140","_hoisted_141","_hoisted_142","e","_hoisted_143","_hoisted_144","_hoisted_145","_hoisted_147","_hoisted_150","_hoisted_151","_hoisted_152","_hoisted_153","_hoisted_154"],"mappings":"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"}