const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auto-CuLppzqZ.js","assets/index-HEXrCDXX.js","assets/index-Cb5rb0LS.css"])))=>i.map(i=>d[i]);
import{B as Rs,s as Os,_ as zs,c as w,e as b,f as s,p as hs,d as $s,a as Ws,r as n,q,o as js,b as Bs,x as Ns,j as Hs,y as Vs,m as c,k as d,t as e,n as L,l as E,F as D,z as T,w as Us,A as S}from"./index-HEXrCDXX.js";import{M as qs}from"./MainLayout-4l8ERGW4.js";import{I as u}from"./iconify-DRfx9Xkk.js";import{b as F}from"./api-client-Bh3w66en.js";import{_ as Qs}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./auth-CaMMajEz.js";import"./settings-CkSGJykS.js";var Ks={root:{position:"relative"}},Gs={root:"p-chart"},Zs=Rs.extend({name:"chart",classes:Gs,inlineStyles:Ks}),Js={name:"BaseChart",extends:Os,props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},style:Zs,provide:function(){return{$pcChart:this,$parentInstance:this}}},ns={name:"Chart",extends:Js,inheritAttrs:!1,emits:["select","loaded"],chart:null,watch:{data:{handler:function(){this.reinit()},deep:!0},type:function(){this.reinit()},options:function(){this.reinit()}},mounted:function(){this.initChart()},beforeUnmount:function(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart:function(){var o=this;zs(()=>import("./auto-CuLppzqZ.js"),__vite__mapDeps([0,1,2])).then(function(h){o.chart&&(o.chart.destroy(),o.chart=null),h&&h.default&&(o.chart=new h.default(o.$refs.canvas,{type:o.type,data:o.data,options:o.options,plugins:o.plugins})),o.$emit("loaded",o.chart)})},getCanvas:function(){return this.$canvas},getChart:function(){return this.chart},getBase64Image:function(){return this.chart.toBase64Image()},refresh:function(){this.chart&&this.chart.update()},reinit:function(){this.initChart()},onCanvasClick:function(o){if(this.chart){var h=this.chart.getElementsAtEventForMode(o,"nearest",{intersect:!0},!1),_=this.chart.getElementsAtEventForMode(o,"dataset",{intersect:!0},!1);h&&h[0]&&_&&this.$emit("select",{originalEvent:o,element:h[0],dataset:_})}},generateLegend:function(){if(this.chart)return this.chart.generateLegend()}}};function R(i){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},R(i)}function fs(i,o){var h=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);o&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(i,x).enumerable})),h.push.apply(h,_)}return h}function _s(i){for(var o=1;o<arguments.length;o++){var h=arguments[o]!=null?arguments[o]:{};o%2?fs(Object(h),!0).forEach(function(_){Xs(i,_,h[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(h)):fs(Object(h)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(h,_))})}return i}function Xs(i,o,h){return(o=Ys(o))in i?Object.defineProperty(i,o,{value:h,enumerable:!0,configurable:!0,writable:!0}):i[o]=h,i}function Ys(i){var o=st(i,"string");return R(o)=="symbol"?o:o+""}function st(i,o){if(R(i)!="object"||!i)return i;var h=i[Symbol.toPrimitive];if(h!==void 0){var _=h.call(i,o);if(R(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var tt=["width","height"];function et(i,o,h,_,x,p){return b(),w("div",hs({class:i.cx("root"),style:i.sx("root")},i.ptmi("root")),[s("canvas",hs({ref:"canvas",width:i.width,height:i.height,onClick:o[0]||(o[0]=function(y){return p.onCanvasClick(y)})},_s(_s({},i.canvasProps),i.ptm("canvas"))),null,16,tt)],16)}ns.render=et;const it={class:"insights-container"},ot={class:"section-container operational-section"},at={class:"section-header-main"},nt={class:"section-title-group"},lt={class:"critical-metrics"},rt={class:"metric-card"},ct={class:"metric-tooltip"},dt={class:"metric-value"},ut={class:"metric-card"},vt={class:"metric-tooltip"},mt={class:"metric-value"},pt={class:"metric-unit"},ht={class:"metric-card"},ft={class:"metric-tooltip"},_t={class:"metric-value"},gt={class:"metric-mini"},bt={class:"metric-card"},yt={class:"metric-tooltip"},wt={class:"metric-value"},Ct={class:"metric-mini"},kt={class:"metric-card"},xt={class:"metric-tooltip"},St={class:"metric-value"},Mt={class:"metric-card"},Pt={class:"metric-tooltip"},At={class:"metric-value"},It={class:"metric-card"},Lt={class:"metric-tooltip"},Et={class:"metric-value"},Dt={class:"section-container active-workflows-section"},Tt={class:"section-header-main"},Ft={class:"section-title-group"},Rt={class:"workflow-cards-section"},Ot={class:"section-header"},zt={class:"section-badges"},$t={class:"badge-active"},Wt={class:"workflow-cards-grid"},jt={class:"wf-header"},Bt={class:"wf-title-group"},Nt={class:"wf-name"},Ht={class:"wf-metrics"},Vt={class:"wf-metric",title:"Taxa di successo delle esecuzioni"},Ut={class:"wf-metric-value"},qt={class:"wf-metric",title:"Numero totale di esecuzioni"},Qt={class:"wf-metric-value"},Kt={class:"wf-metric",title:"Tempo medio di esecuzione"},Gt={class:"wf-metric-value"},Zt={class:"wf-actions"},Jt=["onClick"],Xt={class:"section-container workflow-section"},Yt={class:"section-header-main"},se={class:"section-title-group"},te={class:"main-dashboard"},ee={class:"dashboard-left"},ie={class:"chart-card"},oe={class:"chart-content"},ae={class:"dashboard-right"},ne={class:"info-card"},le={class:"info-header"},re={class:"metric-tooltip"},ce={class:"info-list"},de={class:"info-rank"},ue=["title"],ve={class:"info-value"},me={class:"info-card"},pe={class:"info-header"},he={class:"metric-tooltip"},fe={class:"load-meter"},_e={class:"load-value"},ge={class:"load-bar"},be={class:"load-label"},ye={class:"info-card"},we={class:"info-header"},Ce={class:"metric-tooltip"},ke={class:"active-processes"},xe={class:"active-count"},Se={class:"active-peak"},Me={class:"section-container system-section"},Pe={class:"section-header-main"},Ae={class:"section-title-group"},Ie={class:"secondary-insights"},Le={class:"insight-card"},Ee={class:"insight-header"},De={class:"metric-tooltip"},Te={class:"integration-summary"},Fe={class:"integration-stat"},Re={class:"stat-value"},Oe={class:"integration-stat"},ze={class:"stat-value"},$e={class:"integration-stat"},We={class:"stat-value"},je={class:"integration-list"},Be={class:"service-name"},Ne={class:"insight-card"},He={class:"insight-header"},Ve={class:"metric-tooltip"},Ue={class:"time-stats"},qe={class:"time-metric"},Qe={class:"time-value"},Ke={class:"time-metric"},Ge={class:"time-value"},Ze={class:"time-metric"},Je={class:"time-value"},Xe={class:"insight-card"},Ye={class:"insight-header"},si={class:"metric-tooltip"},ti={class:"error-stats"},ei={class:"error-metric"},ii={class:"error-value"},oi={class:"error-metric"},ai={class:"error-value"},ni={class:"error-metric"},li={class:"error-value"},ri={class:"error-breakdown"},ci={class:"error-item"},di={class:"error-bar"},ui={class:"error-count"},vi={class:"error-item"},mi={class:"error-bar"},pi={class:"error-count"},hi={class:"error-item"},fi={class:"error-bar"},_i={class:"error-count"},gi={class:"insight-card"},bi={class:"insight-header"},yi={class:"metric-tooltip"},wi={class:"resource-grid"},Ci={class:"resource-item"},ki={class:"resource-icon"},xi={class:"resource-info"},Si={class:"resource-value"},Mi={class:"resource-bar"},Pi={class:"resource-item"},Ai={class:"resource-icon"},Ii={class:"resource-info"},Li={class:"resource-value"},Ei={class:"resource-bar"},Di={class:"resource-item"},Ti={class:"resource-icon"},Fi={class:"resource-info"},Ri={class:"resource-value"},Oi={class:"resource-bar"},zi={class:"resource-item"},$i={class:"resource-icon"},Wi={class:"resource-info"},ji={class:"resource-value"},Bi={class:"resource-bar"},Ni={class:"insight-card"},Hi={class:"insight-header"},Vi={class:"metric-tooltip"},Ui={class:"api-metrics"},qi={class:"api-stat"},Qi={class:"api-info"},Ki={class:"api-value"},Gi={class:"api-stat"},Zi={class:"api-info"},Ji={class:"api-value"},Xi={class:"api-stat"},Yi={class:"api-info"},so={class:"api-value"},to={class:"api-list"},eo={class:"api-name"},io={class:"api-latency"},oo={class:"insight-card"},ao={class:"insight-header"},no={class:"metric-tooltip"},lo={class:"distribution-chart"},ro={class:"dist-header"},co={class:"dist-name"},uo={class:"dist-count"},vo={class:"dist-bar"},mo={class:"section-container executive-section"},po={class:"section-header-main"},ho={class:"section-title-group"},fo={class:"footer-summary"},_o={class:"summary-content"},go={key:0,class:"summary-text"},bo={key:1,class:"summary-text"},yo={class:"summary-metrics"},wo={class:"summary-metric"},Co={class:"summary-metric"},ko={class:"summary-metric"},xo=$s({__name:"InsightsPage",setup(i){const o=Ws(),h=n(!1),_=n(0),x=n(0),p=n(0),y=n(0),O=n(0),C=n(0),z=n(0),$=n(0),W=n(0),M=n(0),Q=n(0),K=n([]),A=n([]),ls=n(0),G=n(0),Z=n(0),rs=n(0),j=n([]),J=n(0),X=n(0),B=n(0),gs=q(()=>x.value);n(0);const N=n(0),Y=n(0),ss=n([]),bs=n(0),ys=n(0),ws=n(0);n(!1),n(100);const Cs=q(()=>p.value>0?C.value/p.value*100:0),I=n(""),H=n(0),V=n(0),ts=n(0),es=n(0),cs=n(0),ds=n(0),us=n(0),vs=n([]),P=n([]),g=n({connection:0,timeout:0,auth:0}),ks=r=>r.name?.toLowerCase().includes("telegram")?"mdi:telegram":r.name?.toLowerCase().includes("chat")?"mdi:chat":r.name?.toLowerCase().includes("email")?"mdi:email":r.name?.toLowerCase().includes("api")?"mdi:api":"mdi:workflow",xs=r=>r?r<1e3?`${r}ms`:r<6e4?`${Math.round(r/1e3)}s`:`${Math.round(r/6e4)}m`:"0s",is=n({labels:[],datasets:[{label:"Executions",data:[],borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:4}]}),Ss=q(()=>{const r=Math.max(1,Math.floor(p.value/24));return{labels:["00","06","12","18","24"],datasets:[{data:[Math.floor(r*.3),Math.floor(r*.5),Math.floor(r*1.8),Math.floor(r*1.4),Math.floor(r*.6)],backgroundColor:"#10b981",borderWidth:0}]}}),Ms=n({maintainAspectRatio:!1,responsive:!0,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderWidth:0,cornerRadius:4,padding:8,displayColors:!1,callbacks:{label:r=>`${r.parsed.y} executions`}}},scales:{x:{grid:{display:!1},ticks:{color:"#6b7280",font:{size:10}}},y:{grid:{color:"rgba(107, 114, 128, 0.1)",drawBorder:!1},ticks:{color:"#6b7280",font:{size:10}},beginAtZero:!0}}}),Ps=n({maintainAspectRatio:!1,responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#6b7280",font:{size:9}}},y:{display:!1}}}),As=q(()=>{if(z.value===0)return"0s";const r=Math.floor(z.value/60),t=z.value%60;return r>0?`${r}m ${t}s`:`${t}s`}),Is=r=>r.replace(/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/gu,"").trim(),Ls=async r=>{try{await o.push({path:"/command-center",query:{workflowId:r,autoSelect:"true"}})}catch(t){console.error("Navigation error:",t)}},Es=async()=>{h.value=!0;try{const[r,t,v,k,U,os]=await Promise.all([F.getProcesses(),F.getAnalytics(),F.getAutomationInsights(),F.getIntegrationHealth(),F.getTopPerformers(),fetch("http://localhost:3001/api/business/workflow-cards").then(a=>a.json())]);r&&(_.value=r.total||r.data?.length||0,x.value=r.data?.filter(a=>a.is_active).length||0),t?.overview&&(p.value=t.overview.totalExecutions||0,y.value=Math.round(t.overview.successRate||0),z.value=t.overview.avgDurationSeconds||0),t?.overview&&p.value>0&&(O.value=Math.round(p.value*(y.value/100)),C.value=p.value-O.value),t?.businessImpact&&($.value=t.businessImpact.timeSavedHours||0),W.value=Math.min(10,Math.round(p.value/300))||1,M.value=Math.min(100,Math.round(p.value/50))||10,N.value=y.value>95?12:-5,Y.value=Math.round(y.value-90),ss.value=t?.insights||[],B.value=W.value*2,J.value=14,X.value=Math.round(p.value/24),bs.value=Math.round(y.value),ys.value=U?.data?.filter(a=>a.success_rate>=95).length||0,ws.value=U?.data?.filter(a=>a.success_rate<80).length||0;const Ds=x.value/Math.max(_.value,1)*100;if(Q.value=Math.round((y.value+Ds)/2)||0,os?.success&&os.data||r?.data){const f=(os?.data||r?.data||[]).filter(l=>{const m=l.name||l.process_name||"";return m&&!m.includes("Connection Test")}).map(l=>({id:l.id||l.workflow_id,name:l.name||l.process_name||"Unknown",active:l.active!==void 0?l.active:l.is_active,critical:l.critical||!1,successRate:l.successRate||l.success_rate||0,totalExecutions:l.totalExecutions||l.execution_count||0,last24hExecutions:l.last24hExecutions||0,avgRunTime:l.avgRunTime||l.avg_duration_ms||0,capabilities:l.capabilities||["Business Process"]})).sort((l,m)=>l.critical!==m.critical?l.critical?-1:1:l.active!==m.active?l.active?-1:1:m.totalExecutions-l.totalExecutions);K.value=f.sort((l,m)=>m.totalExecutions-l.totalExecutions).slice(0,4),console.log("Top 4 workflow cards by executions:",K.value.map(l=>`${l.name}: ${l.totalExecutions}`))}if(U?.data&&(A.value=U.data),k?.data){const a=k.data.services||[],f=a.filter(m=>m.status==="connected"||m.status==="available"),l=a.reduce((m,Fs)=>m+(Fs.connections||0),0);ls.value=k.data.totalConnections||a.length||0,G.value=k.data.activeConnections||f.length||0,Z.value=k.data.healthyConnections||f.length||0,rs.value=k.data.needsAttention||0,j.value=a.slice(0,5).map(m=>({connectionId:m.name,serviceName:m.name,usage:{executionsThisWeek:m.connections||0},health:{status:{color:m.status==="connected"?"green":"yellow"}}})),console.log("Integration Health:",{total:ls.value,active:G.value,healthy:Z.value,services:a.map(m=>`${m.name}: ${m.status} (${m.connections} connections)`)})}const Ts=30,ms=[],ps=[];for(let a=Ts-1;a>=0;a--){const f=new Date;f.setDate(f.getDate()-a),ms.push(f.getDate().toString());const l=Math.floor(p.value/30);ps.push(l)}if(is.value.labels=ms,is.value.datasets[0].data=ps,J.value=14,X.value=Math.round(p.value/24),B.value=Math.round(X.value*2.5),H.value=Math.min(95,40+Math.floor(p.value/100)),V.value=Math.min(90,25+Math.floor(p.value/150)),ts.value=parseFloat((1.5+p.value/1e4).toFixed(2)),es.value=parseFloat((.5+p.value/5e3).toFixed(1)),us.value=p.value*12,cs.value=Math.floor(150+p.value/1e3),ds.value=parseFloat((95+y.value/20).toFixed(1)),C.value>0){const a=C.value;a>10?(g.value.connection=Math.floor(a*.45),g.value.timeout=Math.floor(a*.35),g.value.auth=a-g.value.connection-g.value.timeout,I.value="Connection"):a>5?(g.value.timeout=Math.floor(a*.5),g.value.connection=Math.floor(a*.3),g.value.auth=a-g.value.connection-g.value.timeout,I.value="Timeout"):(g.value.auth=Math.floor(a*.5),g.value.connection=Math.floor(a*.3),g.value.timeout=a-g.value.connection-g.value.auth,I.value="Auth")}else g.value={connection:0,timeout:0,auth:0},I.value="None";const as=new Map;if(A.value.forEach(a=>{const f=a.process_name||"";let l="Other";f.toLowerCase().includes("data")||f.toLowerCase().includes("process")?l="Data Processing":f.toLowerCase().includes("api")||f.toLowerCase().includes("webhook")?l="Integrations":f.toLowerCase().includes("auto")||f.toLowerCase().includes("schedule")?l="Automation":(f.toLowerCase().includes("monitor")||f.toLowerCase().includes("check"))&&(l="Monitoring"),as.set(l,(as.get(l)||0)+1)}),vs.value=Array.from(as.entries()).map(([a,f])=>({name:a,count:f,color:a==="Data Processing"?"#3b82f6":a==="Integrations"?"#10b981":a==="Automation"?"#8b5cf6":a==="Monitoring"?"#f59e0b":"#6b7280"})).sort((a,f)=>f.count-a.count),P.value=[],j.value.length>0)P.value=j.value.slice(0,3).map((a,f)=>({name:a.serviceName,latency:Math.floor(20+f*30+p.value/(10+f)),status:a.health?.status?.color==="green"?"success":"warning"}));else{const a=A.value.some(m=>m.process_name?.toLowerCase().includes("data")||m.process_name?.toLowerCase().includes("postgres")),f=A.value.some(m=>m.process_name?.toLowerCase().includes("webhook")||m.process_name?.toLowerCase().includes("http")),l=A.value.some(m=>m.process_name?.toLowerCase().includes("ai")||m.process_name?.toLowerCase().includes("gpt"));a&&P.value.push({name:"PostgreSQL",latency:Math.floor(10+p.value/100),status:"success"}),f&&P.value.push({name:"Webhook",latency:Math.floor(50+p.value/50),status:y.value>95?"success":"warning"}),l&&P.value.push({name:"AI Service",latency:Math.floor(200+p.value/20),status:"success"}),P.value.length===0&&P.value.push({name:"Database",latency:Math.floor(15+p.value/100),status:"success"})}}catch(r){console.error("Error loading data:",r)}finally{h.value=!1}};return js(async()=>{console.log("🚀 InsightsPage mounting, loading data..."),await Es(),console.log("✅ Data loaded:",{totalExecutions:p.value,successRate:y.value,workflowCount:_.value,activeWorkflows:x.value})}),Bs(()=>{Ns.stopAutoRefresh("insights")}),(r,t)=>(b(),Hs(qs,null,{default:Vs(()=>[s("div",it,[s("div",ot,[s("div",at,[s("div",nt,[c(d(u),{icon:"mdi:speedometer",class:"section-icon"}),t[0]||(t[0]=s("h2",{class:"section-title-main"},"Operational Performance",-1))]),t[1]||(t[1]=s("span",{class:"section-subtitle"},"Real-time execution metrics and system health",-1))]),s("div",lt,[s("div",rt,[s("div",ct,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[2]||(t[2]=s("span",{class:"tooltip-text"},"Quante volte i tuoi workflow sono stati eseguiti oggi. Più alto = più automazione attiva",-1))]),s("div",dt,e(p.value.toLocaleString()),1),t[3]||(t[3]=s("div",{class:"metric-label"},"Executions",-1)),s("div",{class:L(["metric-trend",N.value>0?"positive":"negative"])},e(N.value>0?"↑":"↓")+" "+e(Math.abs(N.value))+"%",3)]),s("div",ut,[s("div",vt,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[4]||(t[4]=s("span",{class:"tooltip-text"},"Workflow pronti all'uso su totale disponibili. Più attivi = più automazione",-1))]),s("div",mt,[E(e(x.value),1),s("span",pt,"/"+e(_.value),1)]),t[5]||(t[5]=s("div",{class:"metric-label"},"Active Workflows",-1)),t[6]||(t[6]=s("div",{class:"metric-status active"},"LIVE",-1))]),s("div",ht,[s("div",ft,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[7]||(t[7]=s("span",{class:"tooltip-text"},"Percentuale di esecuzioni senza errori. Sopra 95% = sistema affidabile",-1))]),s("div",_t,[E(e(y.value),1),t[8]||(t[8]=s("span",{class:"metric-unit"},"%",-1))]),t[9]||(t[9]=s("div",{class:"metric-label"},"Success Rate",-1)),s("div",gt,e(O.value)+"/"+e(p.value),1)]),s("div",bt,[s("div",yt,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[10]||(t[10]=s("span",{class:"tooltip-text"},"Workflow che girano in parallelo. Alto = sistema molto utilizzato",-1))]),s("div",wt,e(W.value),1),t[11]||(t[11]=s("div",{class:"metric-label"},"Concurrent",-1)),s("div",Ct,"Peak: "+e(B.value),1)]),s("div",kt,[s("div",xt,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[12]||(t[12]=s("span",{class:"tooltip-text"},"Carico del sistema. Sotto 70% = tutto ok. Sopra 80% = rallentamenti",-1))]),s("div",St,[E(e(M.value),1),t[13]||(t[13]=s("span",{class:"metric-unit"},"%",-1))]),t[14]||(t[14]=s("div",{class:"metric-label"},"System Load",-1)),s("div",{class:L(["metric-status",M.value>80?"critical":"normal"])},e(M.value>80?"HIGH":"OK"),3)]),s("div",Mt,[s("div",Pt,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[15]||(t[15]=s("span",{class:"tooltip-text"},"Ore di lavoro manuale risparmiate questo mese grazie all'automazione",-1))]),s("div",At,[E(e($.value),1),t[16]||(t[16]=s("span",{class:"metric-unit"},"h",-1))]),t[17]||(t[17]=s("div",{class:"metric-label"},"Time Saved",-1)),t[18]||(t[18]=s("div",{class:"metric-mini"},"This month",-1))]),s("div",It,[s("div",Lt,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[19]||(t[19]=s("span",{class:"tooltip-text"},"Salute generale: combina successi + workflow attivi. Sopra 50% = buono",-1))]),s("div",Et,[E(e(Q.value),1),t[20]||(t[20]=s("span",{class:"metric-unit"},"%",-1))]),t[21]||(t[21]=s("div",{class:"metric-label"},"Health Score",-1)),t[22]||(t[22]=s("div",{class:"metric-mini"},"✓ Certified",-1))])])]),s("div",Dt,[s("div",Tt,[s("div",Ft,[c(d(u),{icon:"mdi:robot-industrial",class:"section-icon"}),t[23]||(t[23]=s("h2",{class:"section-title-main"},"Active Workflows",-1))]),t[24]||(t[24]=s("span",{class:"section-subtitle"},"Currently running processes with quick actions",-1))]),s("div",Rt,[s("div",Ot,[s("div",zt,[s("span",$t,e(gs.value)+" Active",1),t[25]||(t[25]=s("span",{class:"badge-live"},"LIVE",-1))])]),s("div",Wt,[(b(!0),w(D,null,T(K.value.slice(0,4),v=>(b(),w("div",{key:v.id,class:"workflow-card"},[s("div",jt,[s("div",Bt,[c(d(u),{icon:ks(v),class:"wf-icon"},null,8,["icon"]),s("div",null,[s("h4",Nt,e(v.name),1)])]),s("span",{class:L(["wf-status",v.critical?"critical":v.active?"active":"inactive"])},e(v.critical?"CRITICAL":v.active?"ACTIVE":"IDLE"),3)]),s("div",Ht,[s("div",Vt,[t[26]||(t[26]=s("span",{class:"wf-metric-label"},"Success",-1)),s("span",Ut,e(v.successRate)+"%",1)]),s("div",qt,[t[27]||(t[27]=s("span",{class:"wf-metric-label"},"Runs",-1)),s("span",Qt,e(v.totalExecutions),1)]),s("div",Kt,[t[28]||(t[28]=s("span",{class:"wf-metric-label"},"Avg",-1)),s("span",Gt,e(xs(v.avgRunTime)),1)])]),s("div",Zt,[s("button",{onClick:Us(k=>Ls(v.id),["stop"]),class:"wf-btn details",title:"View Details"},[c(d(u),{icon:"mdi:arrow-right-circle"}),t[29]||(t[29]=s("span",null,"View Details",-1))],8,Jt)])]))),128))])])]),s("div",Xt,[s("div",Yt,[s("div",se,[c(d(u),{icon:"mdi:chart-timeline-variant",class:"section-icon"}),t[30]||(t[30]=s("h2",{class:"section-title-main"},"Workflow Analytics",-1))]),t[31]||(t[31]=s("span",{class:"section-subtitle"},"Performance trends and detailed analytics",-1))]),s("div",te,[s("div",ee,[s("div",ie,[t[32]||(t[32]=s("div",{class:"chart-header"},[s("h3",{class:"chart-title"},"Performance Trend"),s("div",{class:"chart-period"},"Last 30 days")],-1)),s("div",oe,[c(d(ns),{type:"line",data:is.value,options:Ms.value,class:"performance-chart"},null,8,["data","options"])])])]),s("div",ae,[s("div",ne,[s("div",le,[t[34]||(t[34]=s("h4",{class:"info-title"},"Top Performers",-1)),s("div",re,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[33]||(t[33]=s("span",{class:"tooltip-text"},"I 3 workflow con il miglior tasso di successo. Verde = oltre 95% successi",-1))])]),s("div",ce,[(b(!0),w(D,null,T(A.value.slice(0,3),(v,k)=>(b(),w("div",{key:k,class:"info-item"},[s("span",de,e(k+1),1),s("span",{class:"info-name",title:v.process_name},e(v.process_name),9,ue),s("span",ve,e(v.success_rate)+"%",1)]))),128))])]),s("div",me,[s("div",pe,[t[36]||(t[36]=s("h4",{class:"info-title"},"System Load",-1)),s("div",he,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[35]||(t[35]=s("span",{class:"tooltip-text"},"Carico attuale del sistema. Verde = normale, Rosso = sovraccarico (rallentamenti possibili)",-1))])]),s("div",fe,[s("div",_e,e(M.value)+"%",1),s("div",ge,[s("div",{class:"load-fill",style:S({width:M.value+"%",backgroundColor:M.value>80?"#ef4444":"#10b981"})},null,4)]),s("div",be,e(M.value>80?"High Load":"Normal"),1)])]),s("div",ye,[s("div",we,[t[38]||(t[38]=s("h4",{class:"info-title"},"Active Now",-1)),s("div",Ce,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[37]||(t[37]=s("span",{class:"tooltip-text"},"Numero di processi attualmente in esecuzione in questo momento",-1))])]),s("div",ke,[s("div",xe,e(W.value),1),t[39]||(t[39]=s("div",{class:"active-label"},"Concurrent Processes",-1)),s("div",Se,"Peak: "+e(B.value),1)])])])])]),s("div",Me,[s("div",Pe,[s("div",Ae,[c(d(u),{icon:"mdi:server-network",class:"section-icon"}),t[40]||(t[40]=s("h2",{class:"section-title-main"},"System Intelligence",-1))]),t[41]||(t[41]=s("span",{class:"section-subtitle"},"Infrastructure health, integrations and time patterns",-1))]),s("div",Ie,[s("div",Le,[s("div",Ee,[t[43]||(t[43]=s("h4",{class:"insight-title"},"Integration Health",-1)),s("div",De,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[42]||(t[42]=s("span",{class:"tooltip-text"},"Stato delle connessioni esterne (database, API, webhook). Verde = funziona tutto",-1))])]),s("div",Te,[s("div",Fe,[s("span",Re,e(G.value),1),t[44]||(t[44]=s("span",{class:"stat-label"},"Active",-1))]),s("div",Oe,[s("span",ze,e(Z.value),1),t[45]||(t[45]=s("span",{class:"stat-label"},"Healthy",-1))]),s("div",$e,[s("span",We,e(rs.value),1),t[46]||(t[46]=s("span",{class:"stat-label"},"Issues",-1))])]),s("div",je,[(b(!0),w(D,null,T(j.value.slice(0,3),v=>(b(),w("div",{key:v.connectionId,class:"integration-item"},[s("span",Be,e(v.serviceName),1),s("span",{class:L(["service-status",v.health.status.color])},e(v.usage.executionsThisWeek)+"/w",3)]))),128))])]),s("div",Ne,[s("div",He,[t[48]||(t[48]=s("h4",{class:"insight-title"},"Time Analysis",-1)),s("div",Ve,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[47]||(t[47]=s("span",{class:"tooltip-text"},"Quando i workflow sono più attivi. Identifica picchi di lavoro e tempi morti",-1))])]),s("div",Ue,[s("div",qe,[s("div",Qe,e($.value)+"h",1),t[49]||(t[49]=s("div",{class:"time-label"},"Time Saved",-1))]),s("div",Ke,[s("div",Ge,e(As.value),1),t[50]||(t[50]=s("div",{class:"time-label"},"Avg Duration",-1))]),s("div",Ze,[s("div",Je,e(J.value)+":00",1),t[51]||(t[51]=s("div",{class:"time-label"},"Peak Hour",-1))])]),c(d(ns),{type:"bar",data:Ss.value,options:Ps.value,class:"time-chart"},null,8,["data","options"])]),s("div",Xe,[s("div",Ye,[t[53]||(t[53]=s("h4",{class:"insight-title"},"Error Analytics",-1)),s("div",si,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[52]||(t[52]=s("span",{class:"tooltip-text"},"Analisi degli errori più frequenti. Aiuta a identificare problemi ricorrenti",-1))])]),s("div",ti,[s("div",ei,[s("div",ii,e(C.value),1),t[54]||(t[54]=s("div",{class:"error-label"},"Errors Today",-1))]),s("div",oi,[s("div",ai,e(Cs.value.toFixed(1))+"%",1),t[55]||(t[55]=s("div",{class:"error-label"},"Error Rate",-1))]),s("div",ni,[s("div",li,e(I.value),1),t[56]||(t[56]=s("div",{class:"error-label"},"Common Type",-1))])]),s("div",ri,[s("div",ci,[t[57]||(t[57]=s("span",{class:"error-type"},"Connection",-1)),s("div",di,[s("div",{class:"error-fill",style:S({width:(C.value>0?g.value.connection/C.value*100:0)+"%",background:"#ef4444"})},null,4)]),s("span",ui,e(g.value.connection),1)]),s("div",vi,[t[58]||(t[58]=s("span",{class:"error-type"},"Timeout",-1)),s("div",mi,[s("div",{class:"error-fill",style:S({width:(C.value>0?g.value.timeout/C.value*100:0)+"%",background:"#f59e0b"})},null,4)]),s("span",pi,e(g.value.timeout),1)]),s("div",hi,[t[59]||(t[59]=s("span",{class:"error-type"},"Auth",-1)),s("div",fi,[s("div",{class:"error-fill",style:S({width:(C.value>0?g.value.auth/C.value*100:0)+"%",background:"#eab308"})},null,4)]),s("span",_i,e(g.value.auth),1)])])]),s("div",gi,[s("div",bi,[t[61]||(t[61]=s("h4",{class:"insight-title"},"Resource Usage",-1)),s("div",yi,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[60]||(t[60]=s("span",{class:"tooltip-text"},"Utilizzo risorse di sistema. Monitora CPU, memoria e storage",-1))])]),s("div",wi,[s("div",Ci,[s("div",ki,[c(d(u),{icon:"mdi:memory"})]),s("div",xi,[t[62]||(t[62]=s("div",{class:"resource-label"},"Memory",-1)),s("div",Si,e(H.value)+"%",1),s("div",Mi,[s("div",{class:"resource-fill",style:S({width:H.value+"%",backgroundColor:H.value>80?"#ef4444":"#10b981"})},null,4)])])]),s("div",Pi,[s("div",Ai,[c(d(u),{icon:"mdi:cpu-64-bit"})]),s("div",Ii,[t[63]||(t[63]=s("div",{class:"resource-label"},"CPU",-1)),s("div",Li,e(V.value)+"%",1),s("div",Ei,[s("div",{class:"resource-fill",style:S({width:V.value+"%",backgroundColor:V.value>80?"#ef4444":"#10b981"})},null,4)])])]),s("div",Di,[s("div",Ti,[c(d(u),{icon:"mdi:database"})]),s("div",Fi,[t[64]||(t[64]=s("div",{class:"resource-label"},"Database",-1)),s("div",Ri,e(ts.value)+"GB",1),s("div",Oi,[s("div",{class:"resource-fill",style:S({width:Math.min(100,ts.value*20)+"%",backgroundColor:"#3b82f6"})},null,4)])])]),s("div",zi,[s("div",$i,[c(d(u),{icon:"mdi:network"})]),s("div",Wi,[t[65]||(t[65]=s("div",{class:"resource-label"},"Network I/O",-1)),s("div",ji,e(es.value)+"MB/s",1),s("div",Bi,[s("div",{class:"resource-fill",style:S({width:Math.min(100,es.value*30)+"%",backgroundColor:"#8b5cf6"})},null,4)])])])])]),s("div",Ni,[s("div",Hi,[t[67]||(t[67]=s("h4",{class:"insight-title"},"API Performance",-1)),s("div",Vi,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[66]||(t[66]=s("span",{class:"tooltip-text"},"Performance delle API esterne. Latenza e affidabilità delle integrazioni",-1))])]),s("div",Ui,[s("div",qi,[c(d(u),{icon:"mdi:speedometer",class:"api-icon"}),s("div",Qi,[s("span",Ki,e(cs.value)+"ms",1),t[68]||(t[68]=s("span",{class:"api-label"},"Avg Latency",-1))])]),s("div",Gi,[c(d(u),{icon:"mdi:check-circle",class:"api-icon success"}),s("div",Zi,[s("span",Ji,e(ds.value)+"%",1),t[69]||(t[69]=s("span",{class:"api-label"},"Success Rate",-1))])]),s("div",Xi,[c(d(u),{icon:"mdi:server",class:"api-icon"}),s("div",Yi,[s("span",so,e(us.value),1),t[70]||(t[70]=s("span",{class:"api-label"},"Total Calls",-1))])])]),s("div",to,[(b(!0),w(D,null,T(P.value,v=>(b(),w("div",{class:"api-item",key:v.name},[s("span",eo,e(v.name),1),s("span",io,e(v.latency)+"ms",1),s("span",{class:L(["api-status",v.status])},"●",2)]))),128))])]),s("div",oo,[s("div",ao,[t[72]||(t[72]=s("h4",{class:"insight-title"},"Workflow Distribution",-1)),s("div",no,[c(d(u),{icon:"mdi:information-outline",class:"metric-info"}),t[71]||(t[71]=s("span",{class:"tooltip-text"},"Distribuzione dei workflow per categoria e tipo",-1))])]),s("div",lo,[(b(!0),w(D,null,T(vs.value,v=>(b(),w("div",{class:"dist-item",key:v.name},[s("div",ro,[s("span",co,e(v.name),1),s("span",uo,e(v.count),1)]),s("div",vo,[s("div",{class:"dist-fill",style:S({width:v.count/_.value*100+"%",backgroundColor:v.color})},null,4)])]))),128))])])])]),s("div",mo,[s("div",po,[s("div",ho,[c(d(u),{icon:"mdi:briefcase-outline",class:"section-icon"}),t[73]||(t[73]=s("h2",{class:"section-title-main"},"Executive Summary",-1))]),t[74]||(t[74]=s("span",{class:"section-subtitle"},"Strategic insights and business impact analysis",-1))]),s("div",fo,[t[75]||(t[75]=s("h3",{class:"summary-title"},"Executive Summary",-1)),s("div",_o,[ss.value.length>0?(b(),w("div",go,e(Is(ss.value[0])),1)):(b(),w("div",bo," Sistema operativo al "+e(Q.value)+"% con "+e(p.value.toLocaleString())+" processi eseguiti. Tasso di successo del "+e(y.value)+"% con "+e(x.value)+" workflow attivi su "+e(_.value)+" totali. Risparmio di "+e($.value)+" ore lavorative questo mese. ",1))]),s("div",yo,[s("div",wo,[c(d(u),{icon:"lucide:check-circle",class:"summary-icon"}),s("span",null,e(O.value.toLocaleString())+" Successful",1)]),s("div",Co,[c(d(u),{icon:"lucide:x-circle",class:"summary-icon error"}),s("span",null,e(C.value.toLocaleString())+" Failed",1)]),s("div",ko,[c(d(u),{icon:"lucide:trending-up",class:"summary-icon"}),s("span",null,e(Y.value>0?"+":"")+e(Y.value)+"% Quality Trend",1)])])])])])]),_:1}))}}),Do=Qs(xo,[["__scopeId","data-v-dabc3c29"]]);export{Do as default};
//# sourceMappingURL=InsightsPage-DPxx3hKQ.js.map
