import{ac as O}from"./index-CUV4QtCt.js";const $=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,q=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,N=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function I(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){j(e);return}return t}function j(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function L(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const s=e.trim();if(s.length<=9)switch(s.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!N.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if($.test(e)||q.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,I)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}const F=/#/g,U=/&/g,D=/\//g,k=/=/g,w=/\+/g,H=/%5e/gi,Q=/%60/gi,J=/%7c/gi,W=/%20/gi;function B(e){return encodeURI(""+e).replace(J,"|")}function E(e){return B(typeof e=="string"?e:JSON.stringify(e)).replace(w,"%2B").replace(W,"+").replace(F,"%23").replace(U,"%26").replace(Q,"`").replace(H,"^").replace(D,"%2F")}function g(e){return E(e).replace(k,"%3D")}function _(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function M(e){return _(e.replace(w," "))}function G(e){return _(e.replace(w," "))}function K(e=""){const t=Object.create(null);e[0]==="?"&&(e=e.slice(1));for(const s of e.split("&")){const n=s.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const i=M(n[1]);if(i==="__proto__"||i==="constructor")continue;const c=G(n[2]||"");t[i]===void 0?t[i]=c:Array.isArray(t[i])?t[i].push(c):t[i]=[t[i],c]}return t}function V(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(s=>`${g(e)}=${E(s)}`).join("&"):`${g(e)}=${E(t)}`:g(e)}function z(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>V(t,e[t])).filter(Boolean).join("&")}const X=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Y=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Z=/^([/\\]\s*){2,}[^/\\]/,x=/^\.?\//;function S(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?X.test(e):Y.test(e)||(t.acceptRelative?Z.test(e):!1)}function v(e="",t){return e.endsWith("/")}function ee(e="",t){return(v(e)?e.slice(0,-1):e)||"/"}function te(e="",t){return e.endsWith("/")?e:e+"/"}function oe(e,t){if(re(t)||S(e))return e;const s=ee(t);return e.startsWith(s)?e:ie(s,e)}function se(e,t){const s=ae(e),n={...K(s.search),...t};return s.search=z(n),ce(s)}function re(e){return!e||e==="/"}function ne(e){return e&&e!=="/"}function ie(e,...t){let s=e||"";for(const n of t.filter(i=>ne(i)))if(s){const i=n.replace(x,"");s=te(s)+i}else s=n;return s}const A=Symbol.for("ufo:protocolRelative");function ae(e="",t){const s=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(s){const[,h,y=""]=s;return{protocol:h.toLowerCase(),pathname:y,href:h+y,auth:"",host:"",search:"",hash:""}}if(!S(e,{acceptRelative:!0}))return R(e);const[,n="",i,c=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,f="",r=""]=c.match(/([^#/?]*)(.*)?/)||[];n==="file:"&&(r=r.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:u,search:p,hash:o}=R(r);return{protocol:n.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:f,pathname:u,search:p,hash:o,[A]:!n}}function R(e=""){const[t="",s="",n=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:s,hash:n}}function ce(e){const t=e.pathname||"",s=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",n=e.hash||"",i=e.auth?e.auth+"@":"",c=e.host||"";return(e.protocol||e[A]?(e.protocol||"")+"//":"")+i+c+t+s+n}class ue extends Error{constructor(t,s){super(t,s),this.name="FetchError",s?.cause&&!this.cause&&(this.cause=s.cause)}}function pe(e){const t=e.error?.message||e.error?.toString()||"",s=e.request?.method||e.options?.method||"GET",n=e.request?.url||String(e.request)||"/",i=`[${s}] ${JSON.stringify(n)}`,c=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",f=`${i}: ${c}${t?` ${t}`:""}`,r=new ue(f,e.error?{cause:e.error}:void 0);for(const u of["request","options","response"])Object.defineProperty(r,u,{get(){return e[u]}});for(const[u,p]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(r,u,{get(){return e.response&&e.response[p]}});return r}const fe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function T(e="GET"){return fe.has(e.toUpperCase())}function he(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const le=new Set(["image/svg","application/xml","application/xhtml","application/html"]),ye=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function de(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return ye.test(t)?"json":le.has(t)||t.startsWith("text/")?"text":"blob"}function be(e,t,s,n){const i=me(t?.headers??e?.headers,s?.headers,n);let c;return(s?.query||s?.params||t?.params||t?.query)&&(c={...s?.params,...s?.query,...t?.params,...t?.query}),{...s,...t,query:c,params:c,headers:i}}function me(e,t,s){if(!t)return new s(e);const n=new s(t);if(e)for(const[i,c]of Symbol.iterator in e||Array.isArray(e)?e:new s(e))n.set(i,c);return n}async function b(e,t){if(t)if(Array.isArray(t))for(const s of t)await s(e);else await t(e)}const ge=new Set([408,409,425,429,500,502,503,504]),Ee=new Set([101,204,205,304]);function P(e={}){const{fetch:t=globalThis.fetch,Headers:s=globalThis.Headers,AbortController:n=globalThis.AbortController}=e;async function i(r){const u=r.error&&r.error.name==="AbortError"&&!r.options.timeout||!1;if(r.options.retry!==!1&&!u){let o;typeof r.options.retry=="number"?o=r.options.retry:o=T(r.options.method)?0:1;const h=r.response&&r.response.status||500;if(o>0&&(Array.isArray(r.options.retryStatusCodes)?r.options.retryStatusCodes.includes(h):ge.has(h))){const y=typeof r.options.retryDelay=="function"?r.options.retryDelay(r):r.options.retryDelay||0;return y>0&&await new Promise(l=>setTimeout(l,y)),c(r.request,{...r.options,retry:o-1})}}const p=pe(r);throw Error.captureStackTrace&&Error.captureStackTrace(p,c),p}const c=async function(u,p={}){const o={request:u,options:be(u,p,e.defaults,s),response:void 0,error:void 0};o.options.method&&(o.options.method=o.options.method.toUpperCase()),o.options.onRequest&&await b(o,o.options.onRequest),typeof o.request=="string"&&(o.options.baseURL&&(o.request=oe(o.request,o.options.baseURL)),o.options.query&&(o.request=se(o.request,o.options.query),delete o.options.query),"query"in o.options&&delete o.options.query,"params"in o.options&&delete o.options.params),o.options.body&&T(o.options.method)&&(he(o.options.body)?(o.options.body=typeof o.options.body=="string"?o.options.body:JSON.stringify(o.options.body),o.options.headers=new s(o.options.headers||{}),o.options.headers.has("content-type")||o.options.headers.set("content-type","application/json"),o.options.headers.has("accept")||o.options.headers.set("accept","application/json")):("pipeTo"in o.options.body&&typeof o.options.body.pipeTo=="function"||typeof o.options.body.pipe=="function")&&("duplex"in o.options||(o.options.duplex="half")));let h;if(!o.options.signal&&o.options.timeout){const l=new n;h=setTimeout(()=>{const d=new Error("[TimeoutError]: The operation was aborted due to timeout");d.name="TimeoutError",d.code=23,l.abort(d)},o.options.timeout),o.options.signal=l.signal}try{o.response=await t(o.request,o.options)}catch(l){return o.error=l,o.options.onRequestError&&await b(o,o.options.onRequestError),await i(o)}finally{h&&clearTimeout(h)}if((o.response.body||o.response._bodyInit)&&!Ee.has(o.response.status)&&o.options.method!=="HEAD"){const l=(o.options.parseResponse?"json":o.options.responseType)||de(o.response.headers.get("content-type")||"");switch(l){case"json":{const d=await o.response.text(),C=o.options.parseResponse||L;o.response._data=C(d);break}case"stream":{o.response._data=o.response.body||o.response._bodyInit;break}default:o.response._data=await o.response[l]()}}return o.options.onResponse&&await b(o,o.options.onResponse),!o.options.ignoreResponseError&&o.response.status>=400&&o.response.status<600?(o.options.onResponseError&&await b(o,o.options.onResponseError),await i(o)):o.response},f=async function(u,p){return(await c(u,p))._data};return f.raw=c,f.native=(...r)=>t(...r),f.create=(r={},u={})=>P({...e,...u,defaults:{...e.defaults,...u.defaults,...r}}),f}const m=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),we=m.fetch?(...e)=>m.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Re=m.Headers,Te=m.AbortController,_e=P({fetch:we,Headers:Re,AbortController:Te}),a=_e.create({baseURL:O,headers:{"Content-Type":"application/json"},onRequest({options:e}){const t=localStorage.getItem("token");t&&(e.headers={...e.headers,Authorization:`Bearer ${t}`})}}),Ae={getInsights:()=>a("/api/business/dashboard"),getProcesses:e=>a("/api/business/processes",{query:e}),getProcessExecutions:e=>a("/api/business/executions",{query:e}),getProcessExecutionsForWorkflow:e=>a(`/api/business/process-executions/${e}`),getProcessRuns:e=>a("/api/business/process-runs",{query:e}),getAnalytics:e=>a("/api/business/analytics",{query:e}),getAutomationInsights:()=>a("/api/business/automation-insights"),getStatistics:()=>a("/api/business/statistics"),getIntegrationHealth:()=>a("/api/business/integration-health"),executeWorkflow:e=>a(`/api/business/execute-workflow/${e}`,{method:"POST"}),stopWorkflow:e=>a(`/api/business/stop-workflow/${e}`,{method:"POST"}),toggleWorkflow:(e,t)=>a(`/api/business/toggle-workflow/${e}`,{method:"POST",body:JSON.stringify({active:t})}),getExecutionStatus:e=>a(`/api/business/execution-status/${e}`),getWorkflowDetails:e=>a(`/api/business/raw-data-for-modal/${e}`),refreshProcess:e=>a(`/api/business/process-refresh/${e}`,{method:"POST"}),getProcessDetails:e=>a(`/api/business/process-details/${e}`),getHealth:()=>a("/health"),getCompatibility:()=>a("/api/system/compatibility"),getTopPerformers:()=>a("/api/business/top-performers"),getHourlyAnalytics:()=>a("/api/business/hourly-analytics"),getDailyTrend:()=>a("/api/business/daily-trend"),getLiveEvents:()=>a("/api/business/live-events")},Pe={get:e=>a(e),post:(e,t)=>a(e,{method:"POST",body:t}),put:(e,t)=>a(e,{method:"PUT",body:t}),delete:e=>a(e,{method:"DELETE"})},Ce=a;export{Ce as $,Pe as a,Ae as b};
//# sourceMappingURL=api-client-CFgOo0Eo.js.map
