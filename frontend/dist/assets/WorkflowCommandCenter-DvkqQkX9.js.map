{"version":3,"file":"WorkflowCommandCenter-DvkqQkX9.js","sources":["../../../node_modules/@vue-flow/core/dist/vue-flow-core.mjs","../../../node_modules/@vue-flow/background/dist/vue-flow-background.mjs","../../src/components/workflow/UltraModernCard.vue","../../src/components/workflows/WorkflowDetailModal.vue","../../src/components/N8nIcon.vue","../../src/pages/WorkflowCommandCenter.vue"],"sourcesContent":["import { getCurrentScope, onScopeDispose, isRef, reactive, unref, toRefs as toRefs$1, customRef, ref, readonly, watch, getCurrentInstance, nextTick, computed, toValue as toValue$1, shallowRef, markRaw, inject, effectScope, toRef, onBeforeMount, defineComponent, createPropsRestProxy, onMounted, openBlock, createElementBlock, normalizeClass, renderSlot, h, Fragment, normalizeStyle, createCommentVNode, createElementVNode, mergeProps, createBlock, resolveDynamicComponent, createTextVNode, toDisplayString, useAttrs, provide, onBeforeUnmount, createVNode, withCtx, resolveComponent, renderList, Teleport, isMemoSame, useSlots, onUnmounted } from \"vue\";\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\nfunction toValue(r) {\n  return typeof r === \"function\" ? r() : unref(r);\n}\nfunction toReactive(objectRef) {\n  if (!isRef(objectRef))\n    return reactive(objectRef);\n  const proxy = new Proxy({}, {\n    get(_, p, receiver) {\n      return unref(Reflect.get(objectRef.value, p, receiver));\n    },\n    set(_, p, value) {\n      if (isRef(objectRef.value[p]) && !isRef(value))\n        objectRef.value[p].value = value;\n      else\n        objectRef.value[p] = value;\n      return true;\n    },\n    deleteProperty(_, p) {\n      return Reflect.deleteProperty(objectRef.value, p);\n    },\n    has(_, p) {\n      return Reflect.has(objectRef.value, p);\n    },\n    ownKeys() {\n      return Object.keys(objectRef.value);\n    },\n    getOwnPropertyDescriptor() {\n      return {\n        enumerable: true,\n        configurable: true\n      };\n    }\n  });\n  return reactive(proxy);\n}\nconst isClient = typeof window !== \"undefined\" && typeof document !== \"undefined\";\nconst isDef$1 = (val) => typeof val !== \"undefined\";\nconst toString = Object.prototype.toString;\nconst isObject = (val) => toString.call(val) === \"[object Object]\";\nconst noop$3 = () => {\n};\nfunction createFilterWrapper(filter2, fn) {\n  function wrapper(...args) {\n    return new Promise((resolve, reject) => {\n      Promise.resolve(filter2(() => fn.apply(this, args), { fn, thisArg: this, args })).then(resolve).catch(reject);\n    });\n  }\n  return wrapper;\n}\nconst bypassFilter = (invoke) => {\n  return invoke();\n};\nfunction pausableFilter(extendFilter = bypassFilter) {\n  const isActive = ref(true);\n  function pause() {\n    isActive.value = false;\n  }\n  function resume() {\n    isActive.value = true;\n  }\n  const eventFilter = (...args) => {\n    if (isActive.value)\n      extendFilter(...args);\n  };\n  return { isActive: readonly(isActive), pause, resume, eventFilter };\n}\nfunction promiseTimeout(ms, throwOnTimeout = false, reason = \"Timeout\") {\n  return new Promise((resolve, reject) => {\n    if (throwOnTimeout)\n      setTimeout(() => reject(reason), ms);\n    else\n      setTimeout(resolve, ms);\n  });\n}\nfunction watchWithFilter(source, cb, options = {}) {\n  const {\n    eventFilter = bypassFilter,\n    ...watchOptions\n  } = options;\n  return watch(\n    source,\n    createFilterWrapper(\n      eventFilter,\n      cb\n    ),\n    watchOptions\n  );\n}\nfunction watchPausable(source, cb, options = {}) {\n  const {\n    eventFilter: filter2,\n    ...watchOptions\n  } = options;\n  const { eventFilter, pause, resume, isActive } = pausableFilter(filter2);\n  const stop = watchWithFilter(\n    source,\n    cb,\n    {\n      ...watchOptions,\n      eventFilter\n    }\n  );\n  return { stop, pause, resume, isActive };\n}\nfunction toRefs(objectRef, options = {}) {\n  if (!isRef(objectRef))\n    return toRefs$1(objectRef);\n  const result = Array.isArray(objectRef.value) ? Array.from({ length: objectRef.value.length }) : {};\n  for (const key in objectRef.value) {\n    result[key] = customRef(() => ({\n      get() {\n        return objectRef.value[key];\n      },\n      set(v) {\n        var _a;\n        const replaceRef = (_a = toValue(options.replaceRef)) != null ? _a : true;\n        if (replaceRef) {\n          if (Array.isArray(objectRef.value)) {\n            const copy = [...objectRef.value];\n            copy[key] = v;\n            objectRef.value = copy;\n          } else {\n            const newObject = { ...objectRef.value, [key]: v };\n            Object.setPrototypeOf(newObject, Object.getPrototypeOf(objectRef.value));\n            objectRef.value = newObject;\n          }\n        } else {\n          objectRef.value[key] = v;\n        }\n      }\n    }));\n  }\n  return result;\n}\nfunction createUntil(r, isNot = false) {\n  function toMatch(condition, { flush = \"sync\", deep = false, timeout: timeout2, throwOnTimeout } = {}) {\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        r,\n        (v) => {\n          if (condition(v) !== isNot) {\n            stop == null ? void 0 : stop();\n            resolve(v);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout2 != null) {\n      promises.push(\n        promiseTimeout(timeout2, throwOnTimeout).then(() => toValue(r)).finally(() => stop == null ? void 0 : stop())\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBe(value, options) {\n    if (!isRef(value))\n      return toMatch((v) => v === value, options);\n    const { flush = \"sync\", deep = false, timeout: timeout2, throwOnTimeout } = options != null ? options : {};\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        [r, value],\n        ([v1, v2]) => {\n          if (isNot !== (v1 === v2)) {\n            stop == null ? void 0 : stop();\n            resolve(v1);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout2 != null) {\n      promises.push(\n        promiseTimeout(timeout2, throwOnTimeout).then(() => toValue(r)).finally(() => {\n          stop == null ? void 0 : stop();\n          return toValue(r);\n        })\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBeTruthy(options) {\n    return toMatch((v) => Boolean(v), options);\n  }\n  function toBeNull(options) {\n    return toBe(null, options);\n  }\n  function toBeUndefined(options) {\n    return toBe(void 0, options);\n  }\n  function toBeNaN(options) {\n    return toMatch(Number.isNaN, options);\n  }\n  function toContains(value, options) {\n    return toMatch((v) => {\n      const array2 = Array.from(v);\n      return array2.includes(value) || array2.includes(toValue(value));\n    }, options);\n  }\n  function changed(options) {\n    return changedTimes(1, options);\n  }\n  function changedTimes(n = 1, options) {\n    let count = -1;\n    return toMatch(() => {\n      count += 1;\n      return count >= n;\n    }, options);\n  }\n  if (Array.isArray(toValue(r))) {\n    const instance = {\n      toMatch,\n      toContains,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  } else {\n    const instance = {\n      toMatch,\n      toBe,\n      toBeTruthy,\n      toBeNull,\n      toBeNaN,\n      toBeUndefined,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  }\n}\nfunction until(r) {\n  return createUntil(r);\n}\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = toValue(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\nconst defaultWindow = isClient ? window : void 0;\nfunction useEventListener(...args) {\n  let target;\n  let events;\n  let listeners;\n  let options;\n  if (typeof args[0] === \"string\" || Array.isArray(args[0])) {\n    [events, listeners, options] = args;\n    target = defaultWindow;\n  } else {\n    [target, events, listeners, options] = args;\n  }\n  if (!target)\n    return noop$3;\n  if (!Array.isArray(events))\n    events = [events];\n  if (!Array.isArray(listeners))\n    listeners = [listeners];\n  const cleanups = [];\n  const cleanup = () => {\n    cleanups.forEach((fn) => fn());\n    cleanups.length = 0;\n  };\n  const register = (el, event, listener, options2) => {\n    el.addEventListener(event, listener, options2);\n    return () => el.removeEventListener(event, listener, options2);\n  };\n  const stopWatch = watch(\n    () => [unrefElement(target), toValue(options)],\n    ([el, options2]) => {\n      cleanup();\n      if (!el)\n        return;\n      const optionsClone = isObject(options2) ? { ...options2 } : options2;\n      cleanups.push(\n        ...events.flatMap((event) => {\n          return listeners.map((listener) => register(el, event, listener, optionsClone));\n        })\n      );\n    },\n    { immediate: true, flush: \"post\" }\n  );\n  const stop = () => {\n    stopWatch();\n    cleanup();\n  };\n  tryOnScopeDispose(stop);\n  return stop;\n}\nfunction createKeyPredicate$1(keyFilter) {\n  if (typeof keyFilter === \"function\")\n    return keyFilter;\n  else if (typeof keyFilter === \"string\")\n    return (event) => event.key === keyFilter;\n  else if (Array.isArray(keyFilter))\n    return (event) => keyFilter.includes(event.key);\n  return () => true;\n}\nfunction onKeyStroke(...args) {\n  let key;\n  let handler;\n  let options = {};\n  if (args.length === 3) {\n    key = args[0];\n    handler = args[1];\n    options = args[2];\n  } else if (args.length === 2) {\n    if (typeof args[1] === \"object\") {\n      key = true;\n      handler = args[0];\n      options = args[1];\n    } else {\n      key = args[0];\n      handler = args[1];\n    }\n  } else {\n    key = true;\n    handler = args[0];\n  }\n  const {\n    target = defaultWindow,\n    eventName = \"keydown\",\n    passive = false,\n    dedupe = false\n  } = options;\n  const predicate = createKeyPredicate$1(key);\n  const listener = (e) => {\n    if (e.repeat && toValue(dedupe))\n      return;\n    if (predicate(e))\n      handler(e);\n  };\n  return useEventListener(target, eventName, listener, passive);\n}\nfunction cloneFnJSON(source) {\n  return JSON.parse(JSON.stringify(source));\n}\nfunction useVModel(props, key, emit, options = {}) {\n  var _a, _b, _c;\n  const {\n    clone = false,\n    passive = false,\n    eventName,\n    deep = false,\n    defaultValue,\n    shouldEmit\n  } = options;\n  const vm = getCurrentInstance();\n  const _emit = emit || (vm == null ? void 0 : vm.emit) || ((_a = vm == null ? void 0 : vm.$emit) == null ? void 0 : _a.bind(vm)) || ((_c = (_b = vm == null ? void 0 : vm.proxy) == null ? void 0 : _b.$emit) == null ? void 0 : _c.bind(vm == null ? void 0 : vm.proxy));\n  let event = eventName;\n  if (!key) {\n    {\n      key = \"modelValue\";\n    }\n  }\n  event = event || `update:${key.toString()}`;\n  const cloneFn = (val) => !clone ? val : typeof clone === \"function\" ? clone(val) : cloneFnJSON(val);\n  const getValue = () => isDef$1(props[key]) ? cloneFn(props[key]) : defaultValue;\n  const triggerEmit = (value) => {\n    if (shouldEmit) {\n      if (shouldEmit(value))\n        _emit(event, value);\n    } else {\n      _emit(event, value);\n    }\n  };\n  if (passive) {\n    const initialValue = getValue();\n    const proxy = ref(initialValue);\n    let isUpdating = false;\n    watch(\n      () => props[key],\n      (v) => {\n        if (!isUpdating) {\n          isUpdating = true;\n          proxy.value = cloneFn(v);\n          nextTick(() => isUpdating = false);\n        }\n      }\n    );\n    watch(\n      proxy,\n      (v) => {\n        if (!isUpdating && (v !== props[key] || deep))\n          triggerEmit(v);\n      },\n      { deep }\n    );\n    return proxy;\n  } else {\n    return computed({\n      get() {\n        return getValue();\n      },\n      set(value) {\n        triggerEmit(value);\n      }\n    });\n  }\n}\nvar noop$2 = { value: () => {\n} };\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || t in _ || /[\\s.]/.test(t))\n      throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\nfunction Dispatch(_) {\n  this._ = _;\n}\nfunction parseTypenames$1(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0)\n      name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t))\n      throw new Error(\"unknown type: \" + t);\n    return { type: t, name };\n  });\n}\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._, T = parseTypenames$1(typename + \"\", _), t, i = -1, n = T.length;\n    if (arguments.length < 2) {\n      while (++i < n)\n        if ((t = (typename = T[i]).type) && (t = get$1(_[t], typename.name)))\n          return t;\n      return;\n    }\n    if (callback != null && typeof callback !== \"function\")\n      throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type)\n        _[t] = set$1(_[t], typename.name, callback);\n      else if (callback == null)\n        for (t in _)\n          _[t] = set$1(_[t], typename.name, null);\n    }\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _)\n      copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0)\n      for (var args = new Array(n), i = 0, n, t; i < n; ++i)\n        args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type))\n      throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i)\n      t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type))\n      throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i)\n      t[i].value.apply(that, args);\n  }\n};\nfunction get$1(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\nfunction set$1(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop$2, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null)\n    type.push({ name, value: callback });\n  return type;\n}\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\nconst namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\nfunction namespace(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\")\n    name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? { space: namespaces[prefix], local: name } : name;\n}\nfunction creatorInherit(name) {\n  return function() {\n    var document2 = this.ownerDocument, uri = this.namespaceURI;\n    return uri === xhtml && document2.documentElement.namespaceURI === xhtml ? document2.createElement(name) : document2.createElementNS(uri, name);\n  };\n}\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\nfunction creator(name) {\n  var fullname = namespace(name);\n  return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n}\nfunction none() {\n}\nfunction selector(selector2) {\n  return selector2 == null ? none : function() {\n    return this.querySelector(selector2);\n  };\n}\nfunction selection_select(select2) {\n  if (typeof select2 !== \"function\")\n    select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node)\n          subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\nfunction empty() {\n  return [];\n}\nfunction selectorAll(selector2) {\n  return selector2 == null ? empty : function() {\n    return this.querySelectorAll(selector2);\n  };\n}\nfunction arrayAll(select2) {\n  return function() {\n    return array(select2.apply(this, arguments));\n  };\n}\nfunction selection_selectAll(select2) {\n  if (typeof select2 === \"function\")\n    select2 = arrayAll(select2);\n  else\n    select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select2.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, parents);\n}\nfunction matcher(selector2) {\n  return function() {\n    return this.matches(selector2);\n  };\n}\nfunction childMatcher(selector2) {\n  return function(node) {\n    return node.matches(selector2);\n  };\n}\nvar find = Array.prototype.find;\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\nfunction childFirst() {\n  return this.firstElementChild;\n}\nfunction selection_selectChild(match) {\n  return this.select(match == null ? childFirst : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\nvar filter = Array.prototype.filter;\nfunction children() {\n  return Array.from(this.children);\n}\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\nfunction selection_selectChildren(match) {\n  return this.selectAll(match == null ? children : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\nfunction selection_filter(match) {\n  if (typeof match !== \"function\")\n    match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction sparse(update) {\n  return new Array(update.length);\n}\nfunction selection_enter() {\n  return new Selection$1(this._enter || this._groups.map(sparse), this._parents);\n}\nfunction EnterNode(parent, datum2) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum2;\n}\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) {\n    return this._parent.insertBefore(child, this._next);\n  },\n  insertBefore: function(child, next) {\n    return this._parent.insertBefore(child, next);\n  },\n  querySelector: function(selector2) {\n    return this._parent.querySelector(selector2);\n  },\n  querySelectorAll: function(selector2) {\n    return this._parent.querySelectorAll(selector2);\n  }\n};\nfunction constant$3(x) {\n  return function() {\n    return x;\n  };\n}\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0, node, groupLength = group.length, dataLength = data.length;\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i, node, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {\n      exit[i] = node;\n    }\n  }\n}\nfunction datum(node) {\n  return node.__data__;\n}\nfunction selection_data(value, key) {\n  if (!arguments.length)\n    return Array.from(this, datum);\n  var bind = key ? bindKey : bindIndex, parents = this._parents, groups = this._groups;\n  if (typeof value !== \"function\")\n    value = constant$3(value);\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j], group = groups[j], groupLength = group.length, data = arraylike(value.call(parent, parent && parent.__data__, j, parents)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1)\n          i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength)\n          ;\n        previous._next = next || null;\n      }\n    }\n  }\n  update = new Selection$1(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data ? data : Array.from(data);\n}\nfunction selection_exit() {\n  return new Selection$1(this._exit || this._groups.map(sparse), this._parents);\n}\nfunction selection_join(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter)\n      enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update)\n      update = update.selection();\n  }\n  if (onexit == null)\n    exit.remove();\n  else\n    onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\nfunction selection_merge(context) {\n  var selection2 = context.selection ? context.selection() : context;\n  for (var groups0 = this._groups, groups1 = selection2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Selection$1(merges, this._parents);\n}\nfunction selection_order() {\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m; ) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4)\n          next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n  return this;\n}\nfunction selection_sort(compare) {\n  if (!compare)\n    compare = ascending;\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n  return new Selection$1(sortgroups, this._parents).order();\n}\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\nfunction selection_call() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\nfunction selection_nodes() {\n  return Array.from(this);\n}\nfunction selection_node() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node)\n        return node;\n    }\n  }\n  return null;\n}\nfunction selection_size() {\n  let size = 0;\n  for (const node of this)\n    ++size;\n  return size;\n}\nfunction selection_empty() {\n  return !this.node();\n}\nfunction selection_each(callback) {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i])\n        callback.call(node, node.__data__, i, group);\n    }\n  }\n  return this;\n}\nfunction attrRemove$1(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS$1(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant$1(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\nfunction attrConstantNS$1(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\nfunction attrFunction$1(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.removeAttribute(name);\n    else\n      this.setAttribute(name, v);\n  };\n}\nfunction attrFunctionNS$1(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.removeAttributeNS(fullname.space, fullname.local);\n    else\n      this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\nfunction selection_attr(name, value) {\n  var fullname = namespace(name);\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n  }\n  return this.each((value == null ? fullname.local ? attrRemoveNS$1 : attrRemove$1 : typeof value === \"function\" ? fullname.local ? attrFunctionNS$1 : attrFunction$1 : fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, value));\n}\nfunction defaultView(node) {\n  return node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView;\n}\nfunction styleRemove$1(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant$1(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\nfunction styleFunction$1(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.style.removeProperty(name);\n    else\n      this.style.setProperty(name, v, priority);\n  };\n}\nfunction selection_style(name, value, priority) {\n  return arguments.length > 1 ? this.each((value == null ? styleRemove$1 : typeof value === \"function\" ? styleFunction$1 : styleConstant$1)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n}\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\nfunction propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      delete this[name];\n    else\n      this[name] = v;\n  };\n}\nfunction selection_property(name, value) {\n  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n}\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n)\n    list.add(names[i]);\n}\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n)\n    list.remove(names[i]);\n}\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\nfunction selection_classed(name, value) {\n  var names = classArray(name + \"\");\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n)\n      if (!list.contains(names[i]))\n        return false;\n    return true;\n  }\n  return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n}\nfunction textRemove() {\n  this.textContent = \"\";\n}\nfunction textConstant$1(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\nfunction textFunction$1(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\nfunction selection_text(value) {\n  return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction$1 : textConstant$1)(value)) : this.node().textContent;\n}\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\nfunction selection_html(value) {\n  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n}\nfunction raise() {\n  if (this.nextSibling)\n    this.parentNode.appendChild(this);\n}\nfunction selection_raise() {\n  return this.each(raise);\n}\nfunction lower() {\n  if (this.previousSibling)\n    this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\nfunction selection_lower() {\n  return this.each(lower);\n}\nfunction selection_append(name) {\n  var create2 = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create2.apply(this, arguments));\n  });\n}\nfunction constantNull() {\n  return null;\n}\nfunction selection_insert(name, before) {\n  var create2 = typeof name === \"function\" ? name : creator(name), select2 = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create2.apply(this, arguments), select2.apply(this, arguments) || null);\n  });\n}\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent)\n    parent.removeChild(this);\n}\nfunction selection_remove() {\n  return this.each(remove);\n}\nfunction selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_clone(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\nfunction selection_datum(value) {\n  return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n}\nfunction contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0)\n      name = t.slice(i + 1), t = t.slice(0, i);\n    return { type: t, name };\n  });\n}\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on)\n      return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i)\n      on.length = i;\n    else\n      delete this.__on;\n  };\n}\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on)\n      for (var j = 0, m = on.length; j < m; ++j) {\n        if ((o = on[j]).type === typename.type && o.name === typename.name) {\n          this.removeEventListener(o.type, o.listener, o.options);\n          this.addEventListener(o.type, o.listener = listener, o.options = options);\n          o.value = value;\n          return;\n        }\n      }\n    this.addEventListener(typename.type, listener, options);\n    o = { type: typename.type, name: typename.name, value, listener, options };\n    if (!on)\n      this.__on = [o];\n    else\n      on.push(o);\n  };\n}\nfunction selection_on(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on)\n      for (var j = 0, m = on.length, o; j < m; ++j) {\n        for (i = 0, o = on[j]; i < n; ++i) {\n          if ((t = typenames[i]).type === o.type && t.name === o.name) {\n            return o.value;\n          }\n        }\n      }\n    return;\n  }\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i)\n    this.each(on(typenames[i], value, options));\n  return this;\n}\nfunction dispatchEvent(node, type, params) {\n  var window2 = defaultView(node), event = window2.CustomEvent;\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window2.document.createEvent(\"Event\");\n    if (params)\n      event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else\n      event.initEvent(type, false, false);\n  }\n  node.dispatchEvent(event);\n}\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\nfunction selection_dispatch(type, params) {\n  return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n}\nfunction* selection_iterator() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i])\n        yield node;\n    }\n  }\n}\nvar root = [null];\nfunction Selection$1(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\nfunction selection() {\n  return new Selection$1([[document.documentElement]], root);\n}\nfunction selection_selection() {\n  return this;\n}\nSelection$1.prototype = selection.prototype = {\n  constructor: Selection$1,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\nfunction select(selector2) {\n  return typeof selector2 === \"string\" ? new Selection$1([[document.querySelector(selector2)]], [document.documentElement]) : new Selection$1([[selector2]], root);\n}\nfunction sourceEvent(event) {\n  let sourceEvent2;\n  while (sourceEvent2 = event.sourceEvent)\n    event = sourceEvent2;\n  return event;\n}\nfunction pointer(event, node) {\n  event = sourceEvent(event);\n  if (node === void 0)\n    node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\nconst nonpassive = { passive: false };\nconst nonpassivecapture = { capture: true, passive: false };\nfunction nopropagation$1(event) {\n  event.stopImmediatePropagation();\n}\nfunction noevent$1(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction dragDisable(view) {\n  var root2 = view.document.documentElement, selection2 = select(view).on(\"dragstart.drag\", noevent$1, nonpassivecapture);\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", noevent$1, nonpassivecapture);\n  } else {\n    root2.__noselect = root2.style.MozUserSelect;\n    root2.style.MozUserSelect = \"none\";\n  }\n}\nfunction yesdrag(view, noclick) {\n  var root2 = view.document.documentElement, selection2 = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection2.on(\"click.drag\", noevent$1, nonpassivecapture);\n    setTimeout(function() {\n      selection2.on(\"click.drag\", null);\n    }, 0);\n  }\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", null);\n  } else {\n    root2.style.MozUserSelect = root2.__noselect;\n    delete root2.__noselect;\n  }\n}\nconst constant$2 = (x) => () => x;\nfunction DragEvent(type, {\n  sourceEvent: sourceEvent2,\n  subject,\n  target,\n  identifier,\n  active,\n  x,\n  y,\n  dx,\n  dy,\n  dispatch: dispatch2\n}) {\n  Object.defineProperties(this, {\n    type: { value: type, enumerable: true, configurable: true },\n    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },\n    subject: { value: subject, enumerable: true, configurable: true },\n    target: { value: target, enumerable: true, configurable: true },\n    identifier: { value: identifier, enumerable: true, configurable: true },\n    active: { value: active, enumerable: true, configurable: true },\n    x: { value: x, enumerable: true, configurable: true },\n    y: { value: y, enumerable: true, configurable: true },\n    dx: { value: dx, enumerable: true, configurable: true },\n    dy: { value: dy, enumerable: true, configurable: true },\n    _: { value: dispatch2 }\n  });\n}\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\nfunction defaultFilter$1(event) {\n  return !event.ctrlKey && !event.button;\n}\nfunction defaultContainer() {\n  return this.parentNode;\n}\nfunction defaultSubject(event, d) {\n  return d == null ? { x: event.x, y: event.y } : d;\n}\nfunction defaultTouchable$1() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction drag() {\n  var filter2 = defaultFilter$1, container = defaultContainer, subject = defaultSubject, touchable = defaultTouchable$1, gestures = {}, listeners = dispatch(\"start\", \"drag\", \"end\"), active = 0, mousedownx, mousedowny, mousemoving, touchending, clickDistance2 = 0;\n  function drag2(selection2) {\n    selection2.on(\"mousedown.drag\", mousedowned).filter(touchable).on(\"touchstart.drag\", touchstarted).on(\"touchmove.drag\", touchmoved, nonpassive).on(\"touchend.drag touchcancel.drag\", touchended).style(\"touch-action\", \"none\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  function mousedowned(event, d) {\n    if (touchending || !filter2.call(this, event, d))\n      return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture)\n      return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, nonpassivecapture).on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    dragDisable(event.view);\n    nopropagation$1(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n  function mousemoved(event) {\n    noevent$1(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent$1(event);\n    gestures.mouse(\"end\", event);\n  }\n  function touchstarted(event, d) {\n    if (!filter2.call(this, event, d))\n      return;\n    var touches = event.changedTouches, c = container.call(this, event, d), n = touches.length, i, gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation$1(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n  function touchmoved(event) {\n    var touches = event.changedTouches, n = touches.length, i, gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent$1(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n  function touchended(event) {\n    var touches = event.changedTouches, n = touches.length, i, gesture;\n    if (touchending)\n      clearTimeout(touchending);\n    touchending = setTimeout(function() {\n      touchending = null;\n    }, 500);\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation$1(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n  function beforestart(that, container2, event, d, identifier, touch) {\n    var dispatch2 = listeners.copy(), p = pointer(touch || event, container2), dx, dy, s;\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n      sourceEvent: event,\n      target: drag2,\n      identifier,\n      active,\n      x: p[0],\n      y: p[1],\n      dx: 0,\n      dy: 0,\n      dispatch: dispatch2\n    }), d)) == null)\n      return;\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n    return function gesture(type, event2, touch2) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\":\n          gestures[identifier] = gesture, n = active++;\n          break;\n        case \"end\":\n          delete gestures[identifier], --active;\n        case \"drag\":\n          p = pointer(touch2 || event2, container2), n = active;\n          break;\n      }\n      dispatch2.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event2,\n          subject: s,\n          target: drag2,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch: dispatch2\n        }),\n        d\n      );\n    };\n  }\n  drag2.filter = function(_) {\n    return arguments.length ? (filter2 = typeof _ === \"function\" ? _ : constant$2(!!_), drag2) : filter2;\n  };\n  drag2.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant$2(_), drag2) : container;\n  };\n  drag2.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant$2(_), drag2) : subject;\n  };\n  drag2.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant$2(!!_), drag2) : touchable;\n  };\n  drag2.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag2 : value;\n  };\n  drag2.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag2) : Math.sqrt(clickDistance2);\n  };\n  return drag2;\n}\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition)\n    prototype[key] = definition[key];\n  return prototype;\n}\nfunction Color() {\n}\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\", reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\", reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\", reHex = /^#([0-9a-f]{3,8})$/, reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`), reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`), reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`), reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`), reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`), reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\nvar named = {\n  aliceblue: 15792383,\n  antiquewhite: 16444375,\n  aqua: 65535,\n  aquamarine: 8388564,\n  azure: 15794175,\n  beige: 16119260,\n  bisque: 16770244,\n  black: 0,\n  blanchedalmond: 16772045,\n  blue: 255,\n  blueviolet: 9055202,\n  brown: 10824234,\n  burlywood: 14596231,\n  cadetblue: 6266528,\n  chartreuse: 8388352,\n  chocolate: 13789470,\n  coral: 16744272,\n  cornflowerblue: 6591981,\n  cornsilk: 16775388,\n  crimson: 14423100,\n  cyan: 65535,\n  darkblue: 139,\n  darkcyan: 35723,\n  darkgoldenrod: 12092939,\n  darkgray: 11119017,\n  darkgreen: 25600,\n  darkgrey: 11119017,\n  darkkhaki: 12433259,\n  darkmagenta: 9109643,\n  darkolivegreen: 5597999,\n  darkorange: 16747520,\n  darkorchid: 10040012,\n  darkred: 9109504,\n  darksalmon: 15308410,\n  darkseagreen: 9419919,\n  darkslateblue: 4734347,\n  darkslategray: 3100495,\n  darkslategrey: 3100495,\n  darkturquoise: 52945,\n  darkviolet: 9699539,\n  deeppink: 16716947,\n  deepskyblue: 49151,\n  dimgray: 6908265,\n  dimgrey: 6908265,\n  dodgerblue: 2003199,\n  firebrick: 11674146,\n  floralwhite: 16775920,\n  forestgreen: 2263842,\n  fuchsia: 16711935,\n  gainsboro: 14474460,\n  ghostwhite: 16316671,\n  gold: 16766720,\n  goldenrod: 14329120,\n  gray: 8421504,\n  green: 32768,\n  greenyellow: 11403055,\n  grey: 8421504,\n  honeydew: 15794160,\n  hotpink: 16738740,\n  indianred: 13458524,\n  indigo: 4915330,\n  ivory: 16777200,\n  khaki: 15787660,\n  lavender: 15132410,\n  lavenderblush: 16773365,\n  lawngreen: 8190976,\n  lemonchiffon: 16775885,\n  lightblue: 11393254,\n  lightcoral: 15761536,\n  lightcyan: 14745599,\n  lightgoldenrodyellow: 16448210,\n  lightgray: 13882323,\n  lightgreen: 9498256,\n  lightgrey: 13882323,\n  lightpink: 16758465,\n  lightsalmon: 16752762,\n  lightseagreen: 2142890,\n  lightskyblue: 8900346,\n  lightslategray: 7833753,\n  lightslategrey: 7833753,\n  lightsteelblue: 11584734,\n  lightyellow: 16777184,\n  lime: 65280,\n  limegreen: 3329330,\n  linen: 16445670,\n  magenta: 16711935,\n  maroon: 8388608,\n  mediumaquamarine: 6737322,\n  mediumblue: 205,\n  mediumorchid: 12211667,\n  mediumpurple: 9662683,\n  mediumseagreen: 3978097,\n  mediumslateblue: 8087790,\n  mediumspringgreen: 64154,\n  mediumturquoise: 4772300,\n  mediumvioletred: 13047173,\n  midnightblue: 1644912,\n  mintcream: 16121850,\n  mistyrose: 16770273,\n  moccasin: 16770229,\n  navajowhite: 16768685,\n  navy: 128,\n  oldlace: 16643558,\n  olive: 8421376,\n  olivedrab: 7048739,\n  orange: 16753920,\n  orangered: 16729344,\n  orchid: 14315734,\n  palegoldenrod: 15657130,\n  palegreen: 10025880,\n  paleturquoise: 11529966,\n  palevioletred: 14381203,\n  papayawhip: 16773077,\n  peachpuff: 16767673,\n  peru: 13468991,\n  pink: 16761035,\n  plum: 14524637,\n  powderblue: 11591910,\n  purple: 8388736,\n  rebeccapurple: 6697881,\n  red: 16711680,\n  rosybrown: 12357519,\n  royalblue: 4286945,\n  saddlebrown: 9127187,\n  salmon: 16416882,\n  sandybrown: 16032864,\n  seagreen: 3050327,\n  seashell: 16774638,\n  sienna: 10506797,\n  silver: 12632256,\n  skyblue: 8900331,\n  slateblue: 6970061,\n  slategray: 7372944,\n  slategrey: 7372944,\n  snow: 16775930,\n  springgreen: 65407,\n  steelblue: 4620980,\n  tan: 13808780,\n  teal: 32896,\n  thistle: 14204888,\n  tomato: 16737095,\n  turquoise: 4251856,\n  violet: 15631086,\n  wheat: 16113331,\n  white: 16777215,\n  whitesmoke: 16119285,\n  yellow: 16776960,\n  yellowgreen: 10145074\n};\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format) ? rgbn(named[format]) : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);\n}\nfunction rgba(r, g, b, a) {\n  if (a <= 0)\n    r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\nfunction rgbConvert(o) {\n  if (!(o instanceof Color))\n    o = color(o);\n  if (!o)\n    return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\nfunction hsla(h2, s, l, a) {\n  if (a <= 0)\n    h2 = s = l = NaN;\n  else if (l <= 0 || l >= 1)\n    h2 = s = NaN;\n  else if (s <= 0)\n    h2 = NaN;\n  return new Hsl(h2, s, l, a);\n}\nfunction hslConvert(o) {\n  if (o instanceof Hsl)\n    return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color))\n    o = color(o);\n  if (!o)\n    return new Hsl();\n  if (o instanceof Hsl)\n    return o;\n  o = o.rgb();\n  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min = Math.min(r, g, b), max = Math.max(r, g, b), h2 = NaN, s = max - min, l = (max + min) / 2;\n  if (s) {\n    if (r === max)\n      h2 = (g - b) / s + (g < b) * 6;\n    else if (g === max)\n      h2 = (b - r) / s + 2;\n    else\n      h2 = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h2 *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h2;\n  }\n  return new Hsl(h2, s, l, o.opacity);\n}\nfunction hsl(h2, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h2) : new Hsl(h2, s, l, opacity == null ? 1 : opacity);\n}\nfunction Hsl(h2, s, l, opacity) {\n  this.h = +h2;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h2 = this.h % 360 + (this.h < 0) * 360, s = isNaN(h2) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s, m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h2 >= 240 ? h2 - 240 : h2 + 120, m1, m2),\n      hsl2rgb(h2, m1, m2),\n      hsl2rgb(h2 < 120 ? h2 + 240 : h2 - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\nfunction hsl2rgb(h2, m1, m2) {\n  return (h2 < 60 ? m1 + (m2 - m1) * h2 / 60 : h2 < 180 ? m2 : h2 < 240 ? m1 + (m2 - m1) * (240 - h2) / 60 : m1) * 255;\n}\nconst constant$1 = (x) => () => x;\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant$1(isNaN(a) ? b : a);\n  };\n}\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$1(isNaN(a) ? b : a);\n}\nconst interpolateRgb = function rgbGamma(y) {\n  var color2 = gamma(y);\n  function rgb$1(start2, end) {\n    var r = color2((start2 = rgb(start2)).r, (end = rgb(end)).r), g = color2(start2.g, end.g), b = color2(start2.b, end.b), opacity = nogamma(start2.opacity, end.opacity);\n    return function(t) {\n      start2.r = r(t);\n      start2.g = g(t);\n      start2.b = b(t);\n      start2.opacity = opacity(t);\n      return start2 + \"\";\n    };\n  }\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n}(1);\nfunction numberArray(a, b) {\n  if (!b)\n    b = [];\n  var n = a ? Math.min(b.length, a.length) : 0, c = b.slice(), i;\n  return function(t) {\n    for (i = 0; i < n; ++i)\n      c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\nfunction isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\nfunction genericArray(a, b) {\n  var nb = b ? b.length : 0, na = a ? Math.min(nb, a.length) : 0, x = new Array(na), c = new Array(nb), i;\n  for (i = 0; i < na; ++i)\n    x[i] = interpolate$1(a[i], b[i]);\n  for (; i < nb; ++i)\n    c[i] = b[i];\n  return function(t) {\n    for (i = 0; i < na; ++i)\n      c[i] = x[i](t);\n    return c;\n  };\n}\nfunction date(a, b) {\n  var d = /* @__PURE__ */ new Date();\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\nfunction object(a, b) {\n  var i = {}, c = {}, k;\n  if (a === null || typeof a !== \"object\")\n    a = {};\n  if (b === null || typeof b !== \"object\")\n    b = {};\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate$1(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n  return function(t) {\n    for (k in i)\n      c[k] = i[k](t);\n    return c;\n  };\n}\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, reB = new RegExp(reA.source, \"g\");\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\nfunction interpolateString(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];\n  a = a + \"\", b = b + \"\";\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      bs = b.slice(bi, bs);\n      if (s[i])\n        s[i] += bs;\n      else\n        s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) {\n      if (s[i])\n        s[i] += bm;\n      else\n        s[++i] = bm;\n    } else {\n      s[++i] = null;\n      q.push({ i, x: interpolateNumber(am, bm) });\n    }\n    bi = reB.lastIndex;\n  }\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i])\n      s[i] += bs;\n    else\n      s[++i] = bs;\n  }\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function(t) {\n    for (var i2 = 0, o; i2 < b; ++i2)\n      s[(o = q[i2]).i] = o.x(t);\n    return s.join(\"\");\n  });\n}\nfunction interpolate$1(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant$1(b) : (t === \"number\" ? interpolateNumber : t === \"string\" ? (c = color(b)) ? (b = c, interpolateRgb) : interpolateString : b instanceof color ? interpolateRgb : b instanceof Date ? date : isNumberArray(b) ? numberArray : Array.isArray(b) ? genericArray : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object : interpolateNumber)(a, b);\n}\nvar degrees = 180 / Math.PI;\nvar identity$1 = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nfunction decompose(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b))\n    a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d)\n    c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d))\n    c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c)\n    a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX,\n    scaleY\n  };\n}\nvar svgNode;\nfunction parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity$1 : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\nfunction parseSvg(value) {\n  if (value == null)\n    return identity$1;\n  if (!svgNode)\n    svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate()))\n    return identity$1;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180)\n        b += 360;\n      else if (b - a > 180)\n        a += 360;\n      q.push({ i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({ i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n  return function(a, b) {\n    var s = [], q = [];\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null;\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n)\n        s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\nvar epsilon2 = 1e-12;\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\nconst interpolateZoom = function zoomRho(rho, rho2, rho4) {\n  function zoom2(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      };\n    } else {\n      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1), b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S, coshr0 = cosh(r0), u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      };\n    }\n    i.duration = S * 1e3 * rho / Math.SQRT2;\n    return i;\n  }\n  zoom2.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n  return zoom2;\n}(Math.SQRT2, 2, 4);\nvar frame = 0, timeout$1 = 0, interval = 0, pokeDelay = 1e3, taskHead, taskTail, clockLast = 0, clockNow = 0, clockSkew = 0, clock = typeof performance === \"object\" && performance.now ? performance : Date, setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) {\n  setTimeout(f, 17);\n};\nfunction now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\nfunction clearNow() {\n  clockNow = 0;\n}\nfunction Timer() {\n  this._call = this._time = this._next = null;\n}\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\")\n      throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail)\n        taskTail._next = this;\n      else\n        taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\nfunction timer(callback, delay, time) {\n  var t = new Timer();\n  t.restart(callback, delay, time);\n  return t;\n}\nfunction timerFlush() {\n  now();\n  ++frame;\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0)\n      t._call.call(void 0, e);\n    t = t._next;\n  }\n  --frame;\n}\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout$1 = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\nfunction poke() {\n  var now2 = clock.now(), delay = now2 - clockLast;\n  if (delay > pokeDelay)\n    clockSkew -= delay, clockLast = now2;\n}\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time)\n        time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\nfunction sleep(time) {\n  if (frame)\n    return;\n  if (timeout$1)\n    timeout$1 = clearTimeout(timeout$1);\n  var delay = time - clockNow;\n  if (delay > 24) {\n    if (time < Infinity)\n      timeout$1 = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval)\n      interval = clearInterval(interval);\n  } else {\n    if (!interval)\n      clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\nfunction timeout(callback, delay, time) {\n  var t = new Timer();\n  delay = delay == null ? 0 : +delay;\n  t.restart((elapsed) => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\nfunction schedule(node, name, id2, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules)\n    node.__transition = {};\n  else if (id2 in schedules)\n    return;\n  create(node, id2, {\n    name,\n    index,\n    // For context during callback.\n    group,\n    // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\nfunction init(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > CREATED)\n    throw new Error(\"too late; already scheduled\");\n  return schedule2;\n}\nfunction set(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > STARTED)\n    throw new Error(\"too late; already running\");\n  return schedule2;\n}\nfunction get(node, id2) {\n  var schedule2 = node.__transition;\n  if (!schedule2 || !(schedule2 = schedule2[id2]))\n    throw new Error(\"transition not found\");\n  return schedule2;\n}\nfunction create(node, id2, self) {\n  var schedules = node.__transition, tween;\n  schedules[id2] = self;\n  self.timer = timer(schedule2, 0, self.time);\n  function schedule2(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start2, self.delay, self.time);\n    if (self.delay <= elapsed)\n      start2(elapsed - self.delay);\n  }\n  function start2(elapsed) {\n    var i, j, n, o;\n    if (self.state !== SCHEDULED)\n      return stop();\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name)\n        continue;\n      if (o.state === STARTED)\n        return timeout(start2);\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      } else if (+i < id2) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING)\n      return;\n    self.state = STARTED;\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1), i = -1, n = tween.length;\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id2];\n    for (var i in schedules)\n      return;\n    delete node.__transition;\n  }\n}\nfunction interrupt(node, name) {\n  var schedules = node.__transition, schedule2, active, empty2 = true, i;\n  if (!schedules)\n    return;\n  name = name == null ? null : name + \"\";\n  for (i in schedules) {\n    if ((schedule2 = schedules[i]).name !== name) {\n      empty2 = false;\n      continue;\n    }\n    active = schedule2.state > STARTING && schedule2.state < ENDING;\n    schedule2.state = ENDED;\n    schedule2.timer.stop();\n    schedule2.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule2.index, schedule2.group);\n    delete schedules[i];\n  }\n  if (empty2)\n    delete node.__transition;\n}\nfunction selection_interrupt(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\nfunction tweenRemove(id2, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule2 = set(this, id2), tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction tweenFunction(id2, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\")\n    throw new Error();\n  return function() {\n    var schedule2 = set(this, id2), tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = { name, value }, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n)\n        tween1.push(t);\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction transition_tween(name, value) {\n  var id2 = this._id;\n  name += \"\";\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id2).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n  return this.each((value == null ? tweenRemove : tweenFunction)(id2, name, value));\n}\nfunction tweenValue(transition, name, value) {\n  var id2 = transition._id;\n  transition.each(function() {\n    var schedule2 = set(this, id2);\n    (schedule2.value || (schedule2.value = {}))[name] = value.apply(this, arguments);\n  });\n  return function(node) {\n    return get(node, id2).value[name];\n  };\n}\nfunction interpolate(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber : b instanceof color ? interpolateRgb : (c = color(b)) ? (b = c, interpolateRgb) : interpolateString)(a, b);\n}\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant(name, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrConstantNS(fullname, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null)\n      return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction attrFunctionNS(fullname, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null)\n      return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction transition_attr(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n  return this.attrTween(name, typeof value === \"function\" ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value)) : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname) : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_attrTween(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\nfunction delayFunction(id2, value) {\n  return function() {\n    init(this, id2).delay = +value.apply(this, arguments);\n  };\n}\nfunction delayConstant(id2, value) {\n  return value = +value, function() {\n    init(this, id2).delay = value;\n  };\n}\nfunction transition_delay(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? delayFunction : delayConstant)(id2, value)) : get(this.node(), id2).delay;\n}\nfunction durationFunction(id2, value) {\n  return function() {\n    set(this, id2).duration = +value.apply(this, arguments);\n  };\n}\nfunction durationConstant(id2, value) {\n  return value = +value, function() {\n    set(this, id2).duration = value;\n  };\n}\nfunction transition_duration(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? durationFunction : durationConstant)(id2, value)) : get(this.node(), id2).duration;\n}\nfunction easeConstant(id2, value) {\n  if (typeof value !== \"function\")\n    throw new Error();\n  return function() {\n    set(this, id2).ease = value;\n  };\n}\nfunction transition_ease(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each(easeConstant(id2, value)) : get(this.node(), id2).ease;\n}\nfunction easeVarying(id2, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\")\n      throw new Error();\n    set(this, id2).ease = v;\n  };\n}\nfunction transition_easeVarying(value) {\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.each(easeVarying(this._id, value));\n}\nfunction transition_filter(match) {\n  if (typeof match !== \"function\")\n    match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\nfunction transition_merge(transition) {\n  if (transition._id !== this._id)\n    throw new Error();\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Transition(merges, this._parents, this._name, this._id);\n}\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0)\n      t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\nfunction onFunction(id2, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule2 = sit(this, id2), on = schedule2.on;\n    if (on !== on0)\n      (on1 = (on0 = on).copy()).on(name, listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_on(name, listener) {\n  var id2 = this._id;\n  return arguments.length < 2 ? get(this.node(), id2).on.on(name) : this.each(onFunction(id2, name, listener));\n}\nfunction removeFunction(id2) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition)\n      if (+i !== id2)\n        return;\n    if (parent)\n      parent.removeChild(this);\n  };\n}\nfunction transition_remove() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\nfunction transition_select(select2) {\n  var name = this._name, id2 = this._id;\n  if (typeof select2 !== \"function\")\n    select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node)\n          subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id2, i, subgroup, get(node, id2));\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, name, id2);\n}\nfunction transition_selectAll(select2) {\n  var name = this._name, id2 = this._id;\n  if (typeof select2 !== \"function\")\n    select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children2 = select2.call(node, node.__data__, i, group), child, inherit2 = get(node, id2), k = 0, l = children2.length; k < l; ++k) {\n          if (child = children2[k]) {\n            schedule(child, name, id2, k, children2, inherit2);\n          }\n        }\n        subgroups.push(children2);\n        parents.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, parents, name, id2);\n}\nvar Selection = selection.prototype.constructor;\nfunction transition_selection() {\n  return new Selection(this._groups, this._parents);\n}\nfunction styleNull(name, interpolate2) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0 = styleValue(this, name), string1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, string10 = string1);\n  };\n}\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant(name, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = styleValue(this, name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction styleFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0 = styleValue(this, name), value1 = value(this), string1 = value1 + \"\";\n    if (value1 == null)\n      string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction styleMaybeRemove(id2, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove2;\n  return function() {\n    var schedule2 = set(this, id2), on = schedule2.on, listener = schedule2.value[key] == null ? remove2 || (remove2 = styleRemove(name)) : void 0;\n    if (on !== on0 || listener0 !== listener)\n      (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_style(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n  return value == null ? this.styleTween(name, styleNull(name, i)).on(\"end.style.\" + name, styleRemove(name)) : typeof value === \"function\" ? this.styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant(name, i, value), priority).on(\"end.style.\" + name, null);\n}\nfunction styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_styleTween(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\nfunction transition_text(value) {\n  return this.tween(\"text\", typeof value === \"function\" ? textFunction(tweenValue(this, \"text\", value)) : textConstant(value == null ? \"\" : value + \"\"));\n}\nfunction textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_textTween(value) {\n  var key = \"text\";\n  if (arguments.length < 1)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.tween(key, textTween(value));\n}\nfunction transition_transition() {\n  var name = this._name, id0 = this._id, id1 = newId();\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit2 = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit2.time + inherit2.delay + inherit2.duration,\n          delay: 0,\n          duration: inherit2.duration,\n          ease: inherit2.ease\n        });\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id1);\n}\nfunction transition_end() {\n  var on0, on1, that = this, id2 = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = { value: reject }, end = { value: function() {\n      if (--size === 0)\n        resolve();\n    } };\n    that.each(function() {\n      var schedule2 = set(this, id2), on = schedule2.on;\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n      schedule2.on = on1;\n    });\n    if (size === 0)\n      resolve();\n  });\n}\nvar id = 0;\nfunction Transition(groups, parents, name, id2) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id2;\n}\nfunction newId() {\n  return ++id;\n}\nvar selection_prototype = selection.prototype;\nTransition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\nfunction cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\nvar defaultTiming = {\n  time: null,\n  // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: cubicInOut\n};\nfunction inherit(node, id2) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id2])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id2} not found`);\n    }\n  }\n  return timing;\n}\nfunction selection_transition(name) {\n  var id2, timing;\n  if (name instanceof Transition) {\n    id2 = name._id, name = name._name;\n  } else {\n    id2 = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id2, i, group, timing || inherit(node, id2));\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id2);\n}\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\nconst constant = (x) => () => x;\nfunction ZoomEvent(type, {\n  sourceEvent: sourceEvent2,\n  target,\n  transform,\n  dispatch: dispatch2\n}) {\n  Object.defineProperties(this, {\n    type: { value: type, enumerable: true, configurable: true },\n    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },\n    target: { value: target, enumerable: true, configurable: true },\n    transform: { value: transform, enumerable: true, configurable: true },\n    _: { value: dispatch2 }\n  });\n}\nfunction Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\nvar identity = new Transform(1, 0, 0);\nTransform.prototype;\nfunction nopropagation(event) {\n  event.stopImmediatePropagation();\n}\nfunction noevent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === \"wheel\") && !event.button;\n}\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * (event.ctrlKey ? 10 : 1);\n}\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0], dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0], dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1], dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\nfunction zoom() {\n  var filter2 = defaultFilter, extent = defaultExtent, constrain = defaultConstrain, wheelDelta2 = defaultWheelDelta, touchable = defaultTouchable, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration = 250, interpolate2 = interpolateZoom, listeners = dispatch(\"start\", \"zoom\", \"end\"), touchstarting, touchfirst, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0, tapDistance = 10;\n  function zoom2(selection2) {\n    selection2.property(\"__zoom\", defaultTransform).on(\"wheel.zoom\", wheeled, { passive: false }).on(\"mousedown.zoom\", mousedowned).on(\"dblclick.zoom\", dblclicked).filter(touchable).on(\"touchstart.zoom\", touchstarted).on(\"touchmove.zoom\", touchmoved).on(\"touchend.zoom touchcancel.zoom\", touchended).style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  zoom2.transform = function(collection, transform, point, event) {\n    var selection2 = collection.selection ? collection.selection() : collection;\n    selection2.property(\"__zoom\", defaultTransform);\n    if (collection !== selection2) {\n      schedule2(collection, transform, point, event);\n    } else {\n      selection2.interrupt().each(function() {\n        gesture(this, arguments).event(event).start().zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform).end();\n      });\n    }\n  };\n  zoom2.scaleBy = function(selection2, k, p, event) {\n    zoom2.scaleTo(selection2, function() {\n      var k0 = this.__zoom.k, k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n  zoom2.scaleTo = function(selection2, k, p, event) {\n    zoom2.transform(selection2, function() {\n      var e = extent.apply(this, arguments), t0 = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p, p1 = t0.invert(p0), k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n  zoom2.translateBy = function(selection2, x, y, event) {\n    zoom2.transform(selection2, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n  zoom2.translateTo = function(selection2, x, y, p, event) {\n    zoom2.transform(selection2, function() {\n      var e = extent.apply(this, arguments), t = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n  function centroid(extent2) {\n    return [(+extent2[0][0] + +extent2[1][0]) / 2, (+extent2[0][1] + +extent2[1][1]) / 2];\n  }\n  function schedule2(transition, transform, point, event) {\n    transition.on(\"start.zoom\", function() {\n      gesture(this, arguments).event(event).start();\n    }).on(\"interrupt.zoom end.zoom\", function() {\n      gesture(this, arguments).event(event).end();\n    }).tween(\"zoom\", function() {\n      var that = this, args = arguments, g = gesture(that, args).event(event), e = extent.apply(that, args), p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point, w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a = that.__zoom, b = typeof transform === \"function\" ? transform.apply(that, args) : transform, i = interpolate2(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n      return function(t) {\n        if (t === 1)\n          t = b;\n        else {\n          var l = i(t), k = w / l[2];\n          t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);\n        }\n        g.zoom(null, t);\n      };\n    });\n  }\n  function gesture(that, args, clean) {\n    return !clean && that.__zooming || new Gesture(that, args);\n  }\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n  Gesture.prototype = {\n    event: function(event) {\n      if (event)\n        this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\")\n        this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\")\n        this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\")\n        this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom2,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n  function wheeled(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var g = gesture(this, args).event(event), t = this.__zoom, k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta2.apply(this, arguments)))), p = pointer(event);\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    } else if (t.k === k)\n      return;\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n  function mousedowned(event, ...args) {\n    if (touchending || !filter2.apply(this, arguments))\n      return;\n    var currentTarget = event.currentTarget, g = gesture(this, args, true).event(event), v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true), p = pointer(event, currentTarget), x0 = event.clientX, y0 = event.clientY;\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n    function mousemoved(event2) {\n      noevent(event2);\n      if (!g.moved) {\n        var dx = event2.clientX - x0, dy = event2.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event2).zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event2, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n    function mouseupped(event2) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      yesdrag(event2.view, g.moved);\n      noevent(event2);\n      g.event(event2).end();\n    }\n  }\n  function dblclicked(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var t0 = this.__zoom, p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this), p1 = t0.invert(p0), k1 = t0.k * (event.shiftKey ? 0.5 : 2), t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n    noevent(event);\n    if (duration > 0)\n      select(this).transition().duration(duration).call(schedule2, t1, p0, event);\n    else\n      select(this).call(zoom2.transform, t1, p0, event);\n  }\n  function touchstarted(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var touches = event.touches, n = touches.length, g = gesture(this, args, event.changedTouches.length === n).event(event), started, i, t, p;\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0)\n        g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2])\n        g.touch1 = p, g.taps = 0;\n    }\n    if (touchstarting)\n      touchstarting = clearTimeout(touchstarting);\n    if (started) {\n      if (g.taps < 2)\n        touchfirst = p[0], touchstarting = setTimeout(function() {\n          touchstarting = null;\n        }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n  function touchmoved(event, ...args) {\n    if (!this.__zooming)\n      return;\n    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t, p, l;\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier)\n        g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier)\n        g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp, dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    } else if (g.touch0)\n      p = g.touch0[0], l = g.touch0[1];\n    else\n      return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n  function touchended(event, ...args) {\n    if (!this.__zooming)\n      return;\n    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t;\n    nopropagation(event);\n    if (touchending)\n      clearTimeout(touchending);\n    touchending = setTimeout(function() {\n      touchending = null;\n    }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier)\n        delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier)\n        delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0)\n      g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0)\n      g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p)\n            p.apply(this, arguments);\n        }\n      }\n    }\n  }\n  zoom2.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta2 = typeof _ === \"function\" ? _ : constant(+_), zoom2) : wheelDelta2;\n  };\n  zoom2.filter = function(_) {\n    return arguments.length ? (filter2 = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : filter2;\n  };\n  zoom2.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : touchable;\n  };\n  zoom2.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom2) : extent;\n  };\n  zoom2.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom2) : [scaleExtent[0], scaleExtent[1]];\n  };\n  zoom2.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom2) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n  zoom2.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom2) : constrain;\n  };\n  zoom2.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom2) : duration;\n  };\n  zoom2.interpolate = function(_) {\n    return arguments.length ? (interpolate2 = _, zoom2) : interpolate2;\n  };\n  zoom2.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom2 : value;\n  };\n  zoom2.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom2) : Math.sqrt(clickDistance2);\n  };\n  zoom2.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom2) : tapDistance;\n  };\n  return zoom2;\n}\nvar Position = /* @__PURE__ */ ((Position2) => {\n  Position2[\"Left\"] = \"left\";\n  Position2[\"Top\"] = \"top\";\n  Position2[\"Right\"] = \"right\";\n  Position2[\"Bottom\"] = \"bottom\";\n  return Position2;\n})(Position || {});\nvar SelectionMode = /* @__PURE__ */ ((SelectionMode2) => {\n  SelectionMode2[\"Partial\"] = \"partial\";\n  SelectionMode2[\"Full\"] = \"full\";\n  return SelectionMode2;\n})(SelectionMode || {});\nvar ConnectionLineType = /* @__PURE__ */ ((ConnectionLineType2) => {\n  ConnectionLineType2[\"Bezier\"] = \"default\";\n  ConnectionLineType2[\"SimpleBezier\"] = \"simple-bezier\";\n  ConnectionLineType2[\"Straight\"] = \"straight\";\n  ConnectionLineType2[\"Step\"] = \"step\";\n  ConnectionLineType2[\"SmoothStep\"] = \"smoothstep\";\n  return ConnectionLineType2;\n})(ConnectionLineType || {});\nvar ConnectionMode = /* @__PURE__ */ ((ConnectionMode2) => {\n  ConnectionMode2[\"Strict\"] = \"strict\";\n  ConnectionMode2[\"Loose\"] = \"loose\";\n  return ConnectionMode2;\n})(ConnectionMode || {});\nvar MarkerType = /* @__PURE__ */ ((MarkerType2) => {\n  MarkerType2[\"Arrow\"] = \"arrow\";\n  MarkerType2[\"ArrowClosed\"] = \"arrowclosed\";\n  return MarkerType2;\n})(MarkerType || {});\nvar PanOnScrollMode = /* @__PURE__ */ ((PanOnScrollMode2) => {\n  PanOnScrollMode2[\"Free\"] = \"free\";\n  PanOnScrollMode2[\"Vertical\"] = \"vertical\";\n  PanOnScrollMode2[\"Horizontal\"] = \"horizontal\";\n  return PanOnScrollMode2;\n})(PanOnScrollMode || {});\nvar PanelPosition = /* @__PURE__ */ ((PanelPosition2) => {\n  PanelPosition2[\"TopLeft\"] = \"top-left\";\n  PanelPosition2[\"TopCenter\"] = \"top-center\";\n  PanelPosition2[\"TopRight\"] = \"top-right\";\n  PanelPosition2[\"BottomLeft\"] = \"bottom-left\";\n  PanelPosition2[\"BottomCenter\"] = \"bottom-center\";\n  PanelPosition2[\"BottomRight\"] = \"bottom-right\";\n  return PanelPosition2;\n})(PanelPosition || {});\nconst inputTags = [\"INPUT\", \"SELECT\", \"TEXTAREA\"];\nconst defaultDoc = typeof document !== \"undefined\" ? document : null;\nfunction isInputDOMNode(event) {\n  var _a, _b;\n  const target = ((_b = (_a = event.composedPath) == null ? void 0 : _a.call(event)) == null ? void 0 : _b[0]) || event.target;\n  const hasAttribute = typeof (target == null ? void 0 : target.hasAttribute) === \"function\" ? target.hasAttribute(\"contenteditable\") : false;\n  const closest = typeof (target == null ? void 0 : target.closest) === \"function\" ? target.closest(\".nokey\") : null;\n  return inputTags.includes(target == null ? void 0 : target.nodeName) || hasAttribute || !!closest;\n}\nfunction wasModifierPressed(event) {\n  return event.ctrlKey || event.metaKey || event.shiftKey || event.altKey;\n}\nfunction isKeyMatch(pressedKey, keyToMatch, pressedKeys, isKeyUp) {\n  const keyCombination = keyToMatch.replace(\"+\", \"\\n\").replace(\"\\n\\n\", \"\\n+\").split(\"\\n\").map((k) => k.trim().toLowerCase());\n  if (keyCombination.length === 1) {\n    return pressedKey.toLowerCase() === keyToMatch.toLowerCase();\n  }\n  if (!isKeyUp) {\n    pressedKeys.add(pressedKey.toLowerCase());\n  }\n  const isMatch = keyCombination.every(\n    (key, index) => pressedKeys.has(key) && Array.from(pressedKeys.values())[index] === keyCombination[index]\n  );\n  if (isKeyUp) {\n    pressedKeys.delete(pressedKey.toLowerCase());\n  }\n  return isMatch;\n}\nfunction createKeyPredicate(keyFilter, pressedKeys) {\n  return (event) => {\n    if (!event.code && !event.key) {\n      return false;\n    }\n    const keyOrCode = useKeyOrCode(event.code, keyFilter);\n    if (Array.isArray(keyFilter)) {\n      return keyFilter.some((key) => isKeyMatch(event[keyOrCode], key, pressedKeys, event.type === \"keyup\"));\n    }\n    return isKeyMatch(event[keyOrCode], keyFilter, pressedKeys, event.type === \"keyup\");\n  };\n}\nfunction useKeyOrCode(code, keysToWatch) {\n  return keysToWatch.includes(code) ? \"code\" : \"key\";\n}\nfunction useKeyPress(keyFilter, options) {\n  const target = computed(() => toValue$1(options == null ? void 0 : options.target) ?? defaultDoc);\n  const isPressed = shallowRef(toValue$1(keyFilter) === true);\n  let modifierPressed = false;\n  const pressedKeys = /* @__PURE__ */ new Set();\n  let currentFilter = createKeyFilterFn(toValue$1(keyFilter));\n  watch(\n    () => toValue$1(keyFilter),\n    (nextKeyFilter, previousKeyFilter) => {\n      if (typeof previousKeyFilter === \"boolean\" && typeof nextKeyFilter !== \"boolean\") {\n        reset();\n      }\n      currentFilter = createKeyFilterFn(nextKeyFilter);\n    },\n    {\n      immediate: true\n    }\n  );\n  useEventListener([\"blur\", \"contextmenu\"], reset);\n  onKeyStroke(\n    (...args) => currentFilter(...args),\n    (e) => {\n      var _a, _b;\n      const actInsideInputWithModifier = toValue$1(options == null ? void 0 : options.actInsideInputWithModifier) ?? true;\n      const preventDefault = toValue$1(options == null ? void 0 : options.preventDefault) ?? false;\n      modifierPressed = wasModifierPressed(e);\n      const preventAction = (!modifierPressed || modifierPressed && !actInsideInputWithModifier) && isInputDOMNode(e);\n      if (preventAction) {\n        return;\n      }\n      const target2 = ((_b = (_a = e.composedPath) == null ? void 0 : _a.call(e)) == null ? void 0 : _b[0]) || e.target;\n      const isInteractiveElement = (target2 == null ? void 0 : target2.nodeName) === \"BUTTON\" || (target2 == null ? void 0 : target2.nodeName) === \"A\";\n      if (!preventDefault && (modifierPressed || !isInteractiveElement)) {\n        e.preventDefault();\n      }\n      isPressed.value = true;\n    },\n    { eventName: \"keydown\", target }\n  );\n  onKeyStroke(\n    (...args) => currentFilter(...args),\n    (e) => {\n      const actInsideInputWithModifier = toValue$1(options == null ? void 0 : options.actInsideInputWithModifier) ?? true;\n      if (isPressed.value) {\n        const preventAction = (!modifierPressed || modifierPressed && !actInsideInputWithModifier) && isInputDOMNode(e);\n        if (preventAction) {\n          return;\n        }\n        modifierPressed = false;\n        isPressed.value = false;\n      }\n    },\n    { eventName: \"keyup\", target }\n  );\n  function reset() {\n    modifierPressed = false;\n    pressedKeys.clear();\n    isPressed.value = toValue$1(keyFilter) === true;\n  }\n  function createKeyFilterFn(keyFilter2) {\n    if (keyFilter2 === null) {\n      reset();\n      return () => false;\n    }\n    if (typeof keyFilter2 === \"boolean\") {\n      reset();\n      isPressed.value = keyFilter2;\n      return () => false;\n    }\n    if (Array.isArray(keyFilter2) || typeof keyFilter2 === \"string\") {\n      return createKeyPredicate(keyFilter2, pressedKeys);\n    }\n    return keyFilter2;\n  }\n  return isPressed;\n}\nconst ARIA_NODE_DESC_KEY = \"vue-flow__node-desc\";\nconst ARIA_EDGE_DESC_KEY = \"vue-flow__edge-desc\";\nconst ARIA_LIVE_MESSAGE = \"vue-flow__aria-live\";\nconst elementSelectionKeys = [\"Enter\", \" \", \"Escape\"];\nconst arrowKeyDiffs = {\n  ArrowUp: { x: 0, y: -1 },\n  ArrowDown: { x: 0, y: 1 },\n  ArrowLeft: { x: -1, y: 0 },\n  ArrowRight: { x: 1, y: 0 }\n};\nfunction nodeToRect(node) {\n  return {\n    ...node.computedPosition || { x: 0, y: 0 },\n    width: node.dimensions.width || 0,\n    height: node.dimensions.height || 0\n  };\n}\nfunction getOverlappingArea(rectA, rectB) {\n  const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n  const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n  return Math.ceil(xOverlap * yOverlap);\n}\nfunction getDimensions(node) {\n  return {\n    width: node.offsetWidth,\n    height: node.offsetHeight\n  };\n}\nfunction clamp(val, min = 0, max = 1) {\n  return Math.min(Math.max(val, min), max);\n}\nfunction clampPosition(position, extent) {\n  return {\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1])\n  };\n}\nfunction getHostForElement(element) {\n  const doc = element.getRootNode();\n  if (\"elementFromPoint\" in doc) {\n    return doc;\n  }\n  return window.document;\n}\nfunction isEdge(element) {\n  return element && typeof element === \"object\" && \"id\" in element && \"source\" in element && \"target\" in element;\n}\nfunction isGraphEdge(element) {\n  return isEdge(element) && \"sourceNode\" in element && \"targetNode\" in element;\n}\nfunction isNode(element) {\n  return element && typeof element === \"object\" && \"id\" in element && \"position\" in element && !isEdge(element);\n}\nfunction isGraphNode(element) {\n  return isNode(element) && \"computedPosition\" in element;\n}\nfunction isNumeric(n) {\n  return !Number.isNaN(n) && Number.isFinite(n);\n}\nfunction isRect(obj) {\n  return isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n}\nfunction parseNode(node, existingNode, parentNode) {\n  const initialState = {\n    id: node.id.toString(),\n    type: node.type ?? \"default\",\n    dimensions: markRaw({\n      width: 0,\n      height: 0\n    }),\n    computedPosition: markRaw({\n      z: 0,\n      ...node.position\n    }),\n    // todo: shouldn't be defined initially, as we want to use handleBounds to check if a node was actually initialized or not\n    handleBounds: {\n      source: [],\n      target: []\n    },\n    draggable: void 0,\n    selectable: void 0,\n    connectable: void 0,\n    focusable: void 0,\n    selected: false,\n    dragging: false,\n    resizing: false,\n    initialized: false,\n    isParent: false,\n    position: {\n      x: 0,\n      y: 0\n    },\n    data: isDef(node.data) ? node.data : {},\n    events: markRaw(isDef(node.events) ? node.events : {})\n  };\n  return Object.assign(existingNode ?? initialState, node, { id: node.id.toString(), parentNode });\n}\nfunction parseEdge(edge, existingEdge, defaultEdgeOptions) {\n  var _a, _b;\n  const initialState = {\n    id: edge.id.toString(),\n    type: edge.type ?? (existingEdge == null ? void 0 : existingEdge.type) ?? \"default\",\n    source: edge.source.toString(),\n    target: edge.target.toString(),\n    sourceHandle: (_a = edge.sourceHandle) == null ? void 0 : _a.toString(),\n    targetHandle: (_b = edge.targetHandle) == null ? void 0 : _b.toString(),\n    updatable: edge.updatable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.updatable),\n    selectable: edge.selectable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.selectable),\n    focusable: edge.focusable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.focusable),\n    data: isDef(edge.data) ? edge.data : {},\n    events: markRaw(isDef(edge.events) ? edge.events : {}),\n    label: edge.label ?? \"\",\n    interactionWidth: edge.interactionWidth ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.interactionWidth),\n    ...defaultEdgeOptions ?? {}\n  };\n  return Object.assign(existingEdge ?? initialState, edge, { id: edge.id.toString() });\n}\nfunction getConnectedElements(nodeOrId, nodes, edges, dir) {\n  const id2 = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const connectedIds = /* @__PURE__ */ new Set();\n  const origin = dir === \"source\" ? \"target\" : \"source\";\n  for (const edge of edges) {\n    if (edge[origin] === id2) {\n      connectedIds.add(edge[dir]);\n    }\n  }\n  return nodes.filter((n) => connectedIds.has(n.id));\n}\nfunction getOutgoers(...args) {\n  if (args.length === 3) {\n    const [nodeOrId2, nodes, edges] = args;\n    return getConnectedElements(nodeOrId2, nodes, edges, \"target\");\n  }\n  const [nodeOrId, elements] = args;\n  const nodeId = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const outgoers = elements.filter((el) => isEdge(el) && el.source === nodeId);\n  return outgoers.map((edge) => elements.find((el) => isNode(el) && el.id === edge.target));\n}\nfunction getIncomers(...args) {\n  if (args.length === 3) {\n    const [nodeOrId2, nodes, edges] = args;\n    return getConnectedElements(nodeOrId2, nodes, edges, \"source\");\n  }\n  const [nodeOrId, elements] = args;\n  const nodeId = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const incomers = elements.filter((el) => isEdge(el) && el.target === nodeId);\n  return incomers.map((edge) => elements.find((el) => isNode(el) && el.id === edge.source));\n}\nfunction getEdgeId({ source, sourceHandle, target, targetHandle }) {\n  return `vueflow__edge-${source}${sourceHandle ?? \"\"}-${target}${targetHandle ?? \"\"}`;\n}\nfunction connectionExists(edge, elements) {\n  return elements.some(\n    (el) => isEdge(el) && el.source === edge.source && el.target === edge.target && (el.sourceHandle === edge.sourceHandle || !el.sourceHandle && !edge.sourceHandle) && (el.targetHandle === edge.targetHandle || !el.targetHandle && !edge.targetHandle)\n  );\n}\nfunction addEdge(edgeParams, elements, defaults) {\n  if (!edgeParams.source || !edgeParams.target) {\n    warn(\"Can't create edge. An edge needs a source and a target.\");\n    return elements;\n  }\n  let edge;\n  if (isEdge(edgeParams)) {\n    edge = { ...edgeParams };\n  } else {\n    edge = {\n      ...edgeParams,\n      id: getEdgeId(edgeParams)\n    };\n  }\n  edge = parseEdge(edge, void 0, defaults);\n  if (connectionExists(edge, elements)) {\n    return elements;\n  }\n  elements.push(edge);\n  return elements;\n}\nfunction updateEdge(oldEdge, newConnection, elements) {\n  if (!newConnection.source || !newConnection.target) {\n    warn(\"Can't create new edge. An edge needs a source and a target.\");\n    return elements;\n  }\n  const foundEdge = elements.find((e) => isEdge(e) && e.id === oldEdge.id);\n  if (!foundEdge) {\n    warn(`The old edge with id=${oldEdge.id} does not exist.`);\n    return elements;\n  }\n  const edge = {\n    ...oldEdge,\n    id: getEdgeId(newConnection),\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  };\n  elements.splice(elements.indexOf(foundEdge), 1, edge);\n  return elements.filter((e) => e.id !== oldEdge.id);\n}\nfunction rendererPointToPoint({ x, y }, { x: tx, y: ty, zoom: tScale }) {\n  return {\n    x: x * tScale + tx,\n    y: y * tScale + ty\n  };\n}\nfunction pointToRendererPoint({ x, y }, { x: tx, y: ty, zoom: tScale }, snapToGrid = false, snapGrid = [1, 1]) {\n  const position = {\n    x: (x - tx) / tScale,\n    y: (y - ty) / tScale\n  };\n  return snapToGrid ? snapPosition(position, snapGrid) : position;\n}\nfunction getBoundsOfBoxes(box1, box2) {\n  return {\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2)\n  };\n}\nfunction rectToBox({ x, y, width, height }) {\n  return {\n    x,\n    y,\n    x2: x + width,\n    y2: y + height\n  };\n}\nfunction boxToRect({ x, y, x2, y2 }) {\n  return {\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y\n  };\n}\nfunction getBoundsofRects(rect1, rect2) {\n  return boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\n}\nfunction getRectOfNodes(nodes) {\n  let box = {\n    x: Number.POSITIVE_INFINITY,\n    y: Number.POSITIVE_INFINITY,\n    x2: Number.NEGATIVE_INFINITY,\n    y2: Number.NEGATIVE_INFINITY\n  };\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    box = getBoundsOfBoxes(\n      box,\n      rectToBox({\n        ...node.computedPosition,\n        ...node.dimensions\n      })\n    );\n  }\n  return boxToRect(box);\n}\nfunction getNodesInside(nodes, rect, viewport = { x: 0, y: 0, zoom: 1 }, partially = false, excludeNonSelectableNodes = false) {\n  const paneRect = {\n    ...pointToRendererPoint(rect, viewport),\n    width: rect.width / viewport.zoom,\n    height: rect.height / viewport.zoom\n  };\n  const visibleNodes = [];\n  for (const node of nodes) {\n    const { dimensions, selectable = true, hidden = false } = node;\n    const width = dimensions.width ?? node.width ?? null;\n    const height = dimensions.height ?? node.height ?? null;\n    if (excludeNonSelectableNodes && !selectable || hidden) {\n      continue;\n    }\n    const overlappingArea = getOverlappingArea(paneRect, nodeToRect(node));\n    const notInitialized = width === null || height === null;\n    const partiallyVisible = partially && overlappingArea > 0;\n    const area = (width ?? 0) * (height ?? 0);\n    const isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n    if (isVisible || node.dragging) {\n      visibleNodes.push(node);\n    }\n  }\n  return visibleNodes;\n}\nfunction getConnectedEdges(nodesOrId, edges) {\n  const nodeIds = /* @__PURE__ */ new Set();\n  if (typeof nodesOrId === \"string\") {\n    nodeIds.add(nodesOrId);\n  } else if (nodesOrId.length >= 1) {\n    for (const n of nodesOrId) {\n      nodeIds.add(n.id);\n    }\n  }\n  return edges.filter((edge) => nodeIds.has(edge.source) || nodeIds.has(edge.target));\n}\nfunction getTransformForBounds(bounds, width, height, minZoom, maxZoom, padding = 0.1, offset = { x: 0, y: 0 }) {\n  const xZoom = width / (bounds.width * (1 + padding));\n  const yZoom = height / (bounds.height * (1 + padding));\n  const zoom2 = Math.min(xZoom, yZoom);\n  const clampedZoom = clamp(zoom2, minZoom, maxZoom);\n  const boundsCenterX = bounds.x + bounds.width / 2;\n  const boundsCenterY = bounds.y + bounds.height / 2;\n  const x = width / 2 - boundsCenterX * clampedZoom + (offset.x ?? 0);\n  const y = height / 2 - boundsCenterY * clampedZoom + (offset.y ?? 0);\n  return { x, y, zoom: clampedZoom };\n}\nfunction getXYZPos(parentPos, computedPosition) {\n  return {\n    x: computedPosition.x + parentPos.x,\n    y: computedPosition.y + parentPos.y,\n    z: (parentPos.z > computedPosition.z ? parentPos.z : computedPosition.z) + 1\n  };\n}\nfunction isParentSelected(node, nodeLookup) {\n  if (!node.parentNode) {\n    return false;\n  }\n  const parent = nodeLookup.get(node.parentNode);\n  if (!parent) {\n    return false;\n  }\n  if (parent.selected) {\n    return true;\n  }\n  return isParentSelected(parent, nodeLookup);\n}\nfunction getMarkerId(marker, vueFlowId) {\n  if (typeof marker === \"undefined\") {\n    return \"\";\n  }\n  if (typeof marker === \"string\") {\n    return marker;\n  }\n  const idPrefix = vueFlowId ? `${vueFlowId}__` : \"\";\n  return `${idPrefix}${Object.keys(marker).sort().map((key) => `${key}=${marker[key]}`).join(\"&\")}`;\n}\nfunction wheelDelta(event) {\n  const factor = event.ctrlKey && isMacOs() ? 10 : 1;\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * factor;\n}\nfunction calcAutoPanVelocity(value, min, max) {\n  if (value < min) {\n    return clamp(Math.abs(value - min), 1, min) / min;\n  }\n  if (value > max) {\n    return -clamp(Math.abs(value - max), 1, min) / min;\n  }\n  return 0;\n}\nfunction calcAutoPan(pos, bounds, speed = 15, distance2 = 40) {\n  const xMovement = calcAutoPanVelocity(pos.x, distance2, bounds.width - distance2) * speed;\n  const yMovement = calcAutoPanVelocity(pos.y, distance2, bounds.height - distance2) * speed;\n  return [xMovement, yMovement];\n}\nfunction handleParentExpand(updateItem, parent) {\n  if (parent) {\n    const extendWidth = updateItem.position.x + updateItem.dimensions.width - parent.dimensions.width;\n    const extendHeight = updateItem.position.y + updateItem.dimensions.height - parent.dimensions.height;\n    if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n      let parentStyles = {};\n      if (typeof parent.style === \"function\") {\n        parentStyles = { ...parent.style(parent) };\n      } else if (parent.style) {\n        parentStyles = { ...parent.style };\n      }\n      parentStyles.width = parentStyles.width ?? `${parent.dimensions.width}px`;\n      parentStyles.height = parentStyles.height ?? `${parent.dimensions.height}px`;\n      if (extendWidth > 0) {\n        if (typeof parentStyles.width === \"string\") {\n          const currWidth = Number(parentStyles.width.replace(\"px\", \"\"));\n          parentStyles.width = `${currWidth + extendWidth}px`;\n        } else {\n          parentStyles.width += extendWidth;\n        }\n      }\n      if (extendHeight > 0) {\n        if (typeof parentStyles.height === \"string\") {\n          const currWidth = Number(parentStyles.height.replace(\"px\", \"\"));\n          parentStyles.height = `${currWidth + extendHeight}px`;\n        } else {\n          parentStyles.height += extendHeight;\n        }\n      }\n      if (updateItem.position.x < 0) {\n        const xDiff = Math.abs(updateItem.position.x);\n        parent.position.x = parent.position.x - xDiff;\n        if (typeof parentStyles.width === \"string\") {\n          const currWidth = Number(parentStyles.width.replace(\"px\", \"\"));\n          parentStyles.width = `${currWidth + xDiff}px`;\n        } else {\n          parentStyles.width += xDiff;\n        }\n        updateItem.position.x = 0;\n      }\n      if (updateItem.position.y < 0) {\n        const yDiff = Math.abs(updateItem.position.y);\n        parent.position.y = parent.position.y - yDiff;\n        if (typeof parentStyles.height === \"string\") {\n          const currWidth = Number(parentStyles.height.replace(\"px\", \"\"));\n          parentStyles.height = `${currWidth + yDiff}px`;\n        } else {\n          parentStyles.height += yDiff;\n        }\n        updateItem.position.y = 0;\n      }\n      parent.dimensions.width = Number(parentStyles.width.toString().replace(\"px\", \"\"));\n      parent.dimensions.height = Number(parentStyles.height.toString().replace(\"px\", \"\"));\n      if (typeof parent.style === \"function\") {\n        parent.style = (p) => {\n          const styleFunc = parent.style;\n          return {\n            ...styleFunc(p),\n            ...parentStyles\n          };\n        };\n      } else {\n        parent.style = {\n          ...parent.style,\n          ...parentStyles\n        };\n      }\n    }\n  }\n}\nfunction applyChanges(changes, elements) {\n  var _a, _b;\n  const addRemoveChanges = changes.filter((c) => c.type === \"add\" || c.type === \"remove\");\n  for (const change of addRemoveChanges) {\n    if (change.type === \"add\") {\n      const index = elements.findIndex((el) => el.id === change.item.id);\n      if (index === -1) {\n        elements.push(change.item);\n      }\n    } else if (change.type === \"remove\") {\n      const index = elements.findIndex((el) => el.id === change.id);\n      if (index !== -1) {\n        elements.splice(index, 1);\n      }\n    }\n  }\n  const elementIds = elements.map((el) => el.id);\n  for (const element of elements) {\n    for (const currentChange of changes) {\n      if (currentChange.id !== element.id) {\n        continue;\n      }\n      switch (currentChange.type) {\n        case \"select\":\n          element.selected = currentChange.selected;\n          break;\n        case \"position\":\n          if (isGraphNode(element)) {\n            if (typeof currentChange.position !== \"undefined\") {\n              element.position = currentChange.position;\n            }\n            if (typeof currentChange.dragging !== \"undefined\") {\n              element.dragging = currentChange.dragging;\n            }\n            if (element.expandParent && element.parentNode) {\n              const parent = elements[elementIds.indexOf(element.parentNode)];\n              if (parent && isGraphNode(parent)) {\n                handleParentExpand(element, parent);\n              }\n            }\n          }\n          break;\n        case \"dimensions\":\n          if (isGraphNode(element)) {\n            if (typeof currentChange.dimensions !== \"undefined\") {\n              element.dimensions = currentChange.dimensions;\n            }\n            if (typeof currentChange.updateStyle !== \"undefined\" && currentChange.updateStyle) {\n              element.style = {\n                ...element.style || {},\n                width: `${(_a = currentChange.dimensions) == null ? void 0 : _a.width}px`,\n                height: `${(_b = currentChange.dimensions) == null ? void 0 : _b.height}px`\n              };\n            }\n            if (typeof currentChange.resizing !== \"undefined\") {\n              element.resizing = currentChange.resizing;\n            }\n            if (element.expandParent && element.parentNode) {\n              const parent = elements[elementIds.indexOf(element.parentNode)];\n              if (parent && isGraphNode(parent)) {\n                const parentInit = !!parent.dimensions.width && !!parent.dimensions.height;\n                if (!parentInit) {\n                  nextTick(() => {\n                    handleParentExpand(element, parent);\n                  });\n                } else {\n                  handleParentExpand(element, parent);\n                }\n              }\n            }\n          }\n          break;\n      }\n    }\n  }\n  return elements;\n}\nfunction applyEdgeChanges(changes, edges) {\n  return applyChanges(changes, edges);\n}\nfunction applyNodeChanges(changes, nodes) {\n  return applyChanges(changes, nodes);\n}\nfunction createSelectionChange(id2, selected) {\n  return {\n    id: id2,\n    type: \"select\",\n    selected\n  };\n}\nfunction createAdditionChange(item) {\n  return {\n    item,\n    type: \"add\"\n  };\n}\nfunction createNodeRemoveChange(id2) {\n  return {\n    id: id2,\n    type: \"remove\"\n  };\n}\nfunction createEdgeRemoveChange(id2, source, target, sourceHandle, targetHandle) {\n  return {\n    id: id2,\n    source,\n    target,\n    sourceHandle: sourceHandle || null,\n    targetHandle: targetHandle || null,\n    type: \"remove\"\n  };\n}\nfunction getSelectionChanges(items, selectedIds = /* @__PURE__ */ new Set(), mutateItem = false) {\n  const changes = [];\n  for (const [id2, item] of items) {\n    const willBeSelected = selectedIds.has(id2);\n    if (!(item.selected === void 0 && !willBeSelected) && item.selected !== willBeSelected) {\n      if (mutateItem) {\n        item.selected = willBeSelected;\n      }\n      changes.push(createSelectionChange(item.id, willBeSelected));\n    }\n  }\n  return changes;\n}\nconst noop$1 = () => {\n};\nfunction createExtendedEventHook(defaultHandler) {\n  const listeners = /* @__PURE__ */ new Set();\n  let emitter = noop$1;\n  let hasEmitListeners = () => false;\n  const hasListeners = () => listeners.size > 0 || hasEmitListeners();\n  const setEmitter = (fn) => {\n    emitter = fn;\n  };\n  const removeEmitter = () => {\n    emitter = noop$1;\n  };\n  const setHasEmitListeners = (fn) => {\n    hasEmitListeners = fn;\n  };\n  const removeHasEmitListeners = () => {\n    hasEmitListeners = () => false;\n  };\n  const off = (fn) => {\n    listeners.delete(fn);\n  };\n  const on = (fn) => {\n    listeners.add(fn);\n    const offFn = () => off(fn);\n    tryOnScopeDispose(offFn);\n    return { off: offFn };\n  };\n  const trigger = (param) => {\n    const queue = [emitter];\n    if (hasListeners()) {\n      queue.push(...listeners);\n    } else if (defaultHandler) {\n      queue.push(defaultHandler);\n    }\n    return Promise.allSettled(queue.map((fn) => fn(param)));\n  };\n  return {\n    on,\n    off,\n    trigger,\n    hasListeners,\n    listeners,\n    setEmitter,\n    removeEmitter,\n    setHasEmitListeners,\n    removeHasEmitListeners\n  };\n}\nfunction hasSelector(target, selector2, node) {\n  let current = target;\n  do {\n    if (current && current.matches(selector2)) {\n      return true;\n    } else if (current === node) {\n      return false;\n    }\n    current = current.parentElement;\n  } while (current);\n  return false;\n}\nfunction getDragItems(nodeLookup, nodesDraggable, mousePos, nodeId) {\n  var _a, _b;\n  const dragItems = /* @__PURE__ */ new Map();\n  for (const [id2, node] of nodeLookup) {\n    if ((node.selected || node.id === nodeId) && (!node.parentNode || !isParentSelected(node, nodeLookup)) && (node.draggable || nodesDraggable && typeof node.draggable === \"undefined\")) {\n      const internalNode = nodeLookup.get(id2);\n      if (internalNode) {\n        dragItems.set(id2, {\n          id: node.id,\n          position: node.position || { x: 0, y: 0 },\n          distance: {\n            x: mousePos.x - ((_a = node.computedPosition) == null ? void 0 : _a.x) || 0,\n            y: mousePos.y - ((_b = node.computedPosition) == null ? void 0 : _b.y) || 0\n          },\n          from: { x: node.computedPosition.x, y: node.computedPosition.y },\n          extent: node.extent,\n          parentNode: node.parentNode,\n          dimensions: { ...node.dimensions },\n          expandParent: node.expandParent\n        });\n      }\n    }\n  }\n  return Array.from(dragItems.values());\n}\nfunction getEventHandlerParams({\n  id: id2,\n  dragItems,\n  findNode\n}) {\n  const extendedDragItems = [];\n  for (const dragItem of dragItems) {\n    const node = findNode(dragItem.id);\n    if (node) {\n      extendedDragItems.push(node);\n    }\n  }\n  return [id2 ? extendedDragItems.find((n) => n.id === id2) : extendedDragItems[0], extendedDragItems];\n}\nfunction getExtentPadding(padding) {\n  if (Array.isArray(padding)) {\n    switch (padding.length) {\n      case 1:\n        return [padding[0], padding[0], padding[0], padding[0]];\n      case 2:\n        return [padding[0], padding[1], padding[0], padding[1]];\n      case 3:\n        return [padding[0], padding[1], padding[2], padding[1]];\n      case 4:\n        return padding;\n      default:\n        return [0, 0, 0, 0];\n    }\n  }\n  return [padding, padding, padding, padding];\n}\nfunction getParentExtent(currentExtent, node, parent) {\n  const [top, right, bottom, left] = typeof currentExtent !== \"string\" ? getExtentPadding(currentExtent.padding) : [0, 0, 0, 0];\n  if (parent && typeof parent.computedPosition.x !== \"undefined\" && typeof parent.computedPosition.y !== \"undefined\" && typeof parent.dimensions.width !== \"undefined\" && typeof parent.dimensions.height !== \"undefined\") {\n    return [\n      [parent.computedPosition.x + left, parent.computedPosition.y + top],\n      [\n        parent.computedPosition.x + parent.dimensions.width - right,\n        parent.computedPosition.y + parent.dimensions.height - bottom\n      ]\n    ];\n  }\n  return false;\n}\nfunction getExtent(item, triggerError, extent, parent) {\n  let currentExtent = item.extent || extent;\n  if ((currentExtent === \"parent\" || !Array.isArray(currentExtent) && (currentExtent == null ? void 0 : currentExtent.range) === \"parent\") && !item.expandParent) {\n    if (item.parentNode && parent && item.dimensions.width && item.dimensions.height) {\n      const parentExtent = getParentExtent(currentExtent, item, parent);\n      if (parentExtent) {\n        currentExtent = parentExtent;\n      }\n    } else {\n      triggerError(new VueFlowError(ErrorCode.NODE_EXTENT_INVALID, item.id));\n      currentExtent = extent;\n    }\n  } else if (Array.isArray(currentExtent)) {\n    const parentX = (parent == null ? void 0 : parent.computedPosition.x) || 0;\n    const parentY = (parent == null ? void 0 : parent.computedPosition.y) || 0;\n    currentExtent = [\n      [currentExtent[0][0] + parentX, currentExtent[0][1] + parentY],\n      [currentExtent[1][0] + parentX, currentExtent[1][1] + parentY]\n    ];\n  } else if (currentExtent !== \"parent\" && (currentExtent == null ? void 0 : currentExtent.range) && Array.isArray(currentExtent.range)) {\n    const [top, right, bottom, left] = getExtentPadding(currentExtent.padding);\n    const parentX = (parent == null ? void 0 : parent.computedPosition.x) || 0;\n    const parentY = (parent == null ? void 0 : parent.computedPosition.y) || 0;\n    currentExtent = [\n      [currentExtent.range[0][0] + parentX + left, currentExtent.range[0][1] + parentY + top],\n      [currentExtent.range[1][0] + parentX - right, currentExtent.range[1][1] + parentY - bottom]\n    ];\n  }\n  return currentExtent === \"parent\" ? [\n    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n  ] : currentExtent;\n}\nfunction clampNodeExtent({ width, height }, extent) {\n  return [extent[0], [extent[1][0] - (width || 0), extent[1][1] - (height || 0)]];\n}\nfunction calcNextPosition(node, nextPosition, triggerError, nodeExtent, parentNode) {\n  const extent = clampNodeExtent(node.dimensions, getExtent(node, triggerError, nodeExtent, parentNode));\n  const clampedPos = clampPosition(nextPosition, extent);\n  return {\n    position: {\n      x: clampedPos.x - ((parentNode == null ? void 0 : parentNode.computedPosition.x) || 0),\n      y: clampedPos.y - ((parentNode == null ? void 0 : parentNode.computedPosition.y) || 0)\n    },\n    computedPosition: clampedPos\n  };\n}\nfunction getHandlePosition(node, handle, fallbackPosition = Position.Left, center = false) {\n  const x = ((handle == null ? void 0 : handle.x) ?? 0) + node.computedPosition.x;\n  const y = ((handle == null ? void 0 : handle.y) ?? 0) + node.computedPosition.y;\n  const { width, height } = handle ?? getNodeDimensions(node);\n  if (center) {\n    return { x: x + width / 2, y: y + height / 2 };\n  }\n  const position = (handle == null ? void 0 : handle.position) ?? fallbackPosition;\n  switch (position) {\n    case Position.Top:\n      return { x: x + width / 2, y };\n    case Position.Right:\n      return { x: x + width, y: y + height / 2 };\n    case Position.Bottom:\n      return { x: x + width / 2, y: y + height };\n    case Position.Left:\n      return { x, y: y + height / 2 };\n  }\n}\nfunction getEdgeHandle(bounds, handleId) {\n  if (!bounds) {\n    return null;\n  }\n  return (!handleId ? bounds[0] : bounds.find((d) => d.id === handleId)) || null;\n}\nfunction isEdgeVisible({\n  sourcePos,\n  targetPos,\n  sourceWidth,\n  sourceHeight,\n  targetWidth,\n  targetHeight,\n  width,\n  height,\n  viewport\n}) {\n  const edgeBox = {\n    x: Math.min(sourcePos.x, targetPos.x),\n    y: Math.min(sourcePos.y, targetPos.y),\n    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)\n  };\n  if (edgeBox.x === edgeBox.x2) {\n    edgeBox.x2 += 1;\n  }\n  if (edgeBox.y === edgeBox.y2) {\n    edgeBox.y2 += 1;\n  }\n  const viewBox = rectToBox({\n    x: (0 - viewport.x) / viewport.zoom,\n    y: (0 - viewport.y) / viewport.zoom,\n    width: width / viewport.zoom,\n    height: height / viewport.zoom\n  });\n  const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n  const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n  const overlappingArea = Math.ceil(xOverlap * yOverlap);\n  return overlappingArea > 0;\n}\nfunction getEdgeZIndex(edge, findNode, elevateEdgesOnSelect = false) {\n  const hasZIndex = typeof edge.zIndex === \"number\";\n  let z = hasZIndex ? edge.zIndex : 0;\n  const source = findNode(edge.source);\n  const target = findNode(edge.target);\n  if (!source || !target) {\n    return 0;\n  }\n  if (elevateEdgesOnSelect) {\n    z = hasZIndex ? edge.zIndex : Math.max(source.computedPosition.z || 0, target.computedPosition.z || 0);\n  }\n  return z;\n}\nvar ErrorCode = /* @__PURE__ */ ((ErrorCode2) => {\n  ErrorCode2[\"MISSING_STYLES\"] = \"MISSING_STYLES\";\n  ErrorCode2[\"MISSING_VIEWPORT_DIMENSIONS\"] = \"MISSING_VIEWPORT_DIMENSIONS\";\n  ErrorCode2[\"NODE_INVALID\"] = \"NODE_INVALID\";\n  ErrorCode2[\"NODE_NOT_FOUND\"] = \"NODE_NOT_FOUND\";\n  ErrorCode2[\"NODE_MISSING_PARENT\"] = \"NODE_MISSING_PARENT\";\n  ErrorCode2[\"NODE_TYPE_MISSING\"] = \"NODE_TYPE_MISSING\";\n  ErrorCode2[\"NODE_EXTENT_INVALID\"] = \"NODE_EXTENT_INVALID\";\n  ErrorCode2[\"EDGE_INVALID\"] = \"EDGE_INVALID\";\n  ErrorCode2[\"EDGE_NOT_FOUND\"] = \"EDGE_NOT_FOUND\";\n  ErrorCode2[\"EDGE_SOURCE_MISSING\"] = \"EDGE_SOURCE_MISSING\";\n  ErrorCode2[\"EDGE_TARGET_MISSING\"] = \"EDGE_TARGET_MISSING\";\n  ErrorCode2[\"EDGE_TYPE_MISSING\"] = \"EDGE_TYPE_MISSING\";\n  ErrorCode2[\"EDGE_SOURCE_TARGET_SAME\"] = \"EDGE_SOURCE_TARGET_SAME\";\n  ErrorCode2[\"EDGE_SOURCE_TARGET_MISSING\"] = \"EDGE_SOURCE_TARGET_MISSING\";\n  ErrorCode2[\"EDGE_ORPHANED\"] = \"EDGE_ORPHANED\";\n  ErrorCode2[\"USEVUEFLOW_OPTIONS\"] = \"USEVUEFLOW_OPTIONS\";\n  return ErrorCode2;\n})(ErrorCode || {});\nconst messages = {\n  [\n    \"MISSING_STYLES\"\n    /* MISSING_STYLES */\n  ]: () => `It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly`,\n  [\n    \"MISSING_VIEWPORT_DIMENSIONS\"\n    /* MISSING_VIEWPORT_DIMENSIONS */\n  ]: () => \"The Vue Flow parent container needs a width and a height to render the graph\",\n  [\n    \"NODE_INVALID\"\n    /* NODE_INVALID */\n  ]: (id2) => `Node is invalid\nNode: ${id2}`,\n  [\n    \"NODE_NOT_FOUND\"\n    /* NODE_NOT_FOUND */\n  ]: (id2) => `Node not found\nNode: ${id2}`,\n  [\n    \"NODE_MISSING_PARENT\"\n    /* NODE_MISSING_PARENT */\n  ]: (id2, parentId) => `Node is missing a parent\nNode: ${id2}\nParent: ${parentId}`,\n  [\n    \"NODE_TYPE_MISSING\"\n    /* NODE_TYPE_MISSING */\n  ]: (type) => `Node type is missing\nType: ${type}`,\n  [\n    \"NODE_EXTENT_INVALID\"\n    /* NODE_EXTENT_INVALID */\n  ]: (id2) => `Only child nodes can use a parent extent\nNode: ${id2}`,\n  [\n    \"EDGE_INVALID\"\n    /* EDGE_INVALID */\n  ]: (id2) => `An edge needs a source and a target\nEdge: ${id2}`,\n  [\n    \"EDGE_SOURCE_MISSING\"\n    /* EDGE_SOURCE_MISSING */\n  ]: (id2, source) => `Edge source is missing\nEdge: ${id2} \nSource: ${source}`,\n  [\n    \"EDGE_TARGET_MISSING\"\n    /* EDGE_TARGET_MISSING */\n  ]: (id2, target) => `Edge target is missing\nEdge: ${id2} \nTarget: ${target}`,\n  [\n    \"EDGE_TYPE_MISSING\"\n    /* EDGE_TYPE_MISSING */\n  ]: (type) => `Edge type is missing\nType: ${type}`,\n  [\n    \"EDGE_SOURCE_TARGET_SAME\"\n    /* EDGE_SOURCE_TARGET_SAME */\n  ]: (id2, source, target) => `Edge source and target are the same\nEdge: ${id2} \nSource: ${source} \nTarget: ${target}`,\n  [\n    \"EDGE_SOURCE_TARGET_MISSING\"\n    /* EDGE_SOURCE_TARGET_MISSING */\n  ]: (id2, source, target) => `Edge source or target is missing\nEdge: ${id2} \nSource: ${source} \nTarget: ${target}`,\n  [\n    \"EDGE_ORPHANED\"\n    /* EDGE_ORPHANED */\n  ]: (id2) => `Edge was orphaned (suddenly missing source or target) and has been removed\nEdge: ${id2}`,\n  [\n    \"EDGE_NOT_FOUND\"\n    /* EDGE_NOT_FOUND */\n  ]: (id2) => `Edge not found\nEdge: ${id2}`,\n  // deprecation errors\n  [\n    \"USEVUEFLOW_OPTIONS\"\n    /* USEVUEFLOW_OPTIONS */\n  ]: () => `The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead`\n};\nclass VueFlowError extends Error {\n  constructor(code, ...args) {\n    var _a;\n    super((_a = messages[code]) == null ? void 0 : _a.call(messages, ...args));\n    this.name = \"VueFlowError\";\n    this.code = code;\n    this.args = args;\n  }\n}\nfunction isErrorOfType(error, code) {\n  return error.code === code;\n}\nfunction isMouseEvent(event) {\n  return \"clientX\" in event;\n}\nfunction isUseDragEvent(event) {\n  return \"sourceEvent\" in event;\n}\nfunction getEventPosition(event, bounds) {\n  const isMouse = isMouseEvent(event);\n  let evtX;\n  let evtY;\n  if (isMouse) {\n    evtX = event.clientX;\n    evtY = event.clientY;\n  } else if (\"touches\" in event && event.touches.length > 0) {\n    evtX = event.touches[0].clientX;\n    evtY = event.touches[0].clientY;\n  } else if (\"changedTouches\" in event && event.changedTouches.length > 0) {\n    evtX = event.changedTouches[0].clientX;\n    evtY = event.changedTouches[0].clientY;\n  } else {\n    evtX = 0;\n    evtY = 0;\n  }\n  return {\n    x: evtX - ((bounds == null ? void 0 : bounds.left) ?? 0),\n    y: evtY - ((bounds == null ? void 0 : bounds.top) ?? 0)\n  };\n}\nconst isMacOs = () => {\n  var _a;\n  return typeof navigator !== \"undefined\" && ((_a = navigator == null ? void 0 : navigator.userAgent) == null ? void 0 : _a.indexOf(\"Mac\")) >= 0;\n};\nfunction getNodeDimensions(node) {\n  var _a, _b;\n  return {\n    width: ((_a = node.dimensions) == null ? void 0 : _a.width) ?? node.width ?? 0,\n    height: ((_b = node.dimensions) == null ? void 0 : _b.height) ?? node.height ?? 0\n  };\n}\nfunction snapPosition(position, snapGrid = [1, 1]) {\n  return {\n    x: snapGrid[0] * Math.round(position.x / snapGrid[0]),\n    y: snapGrid[1] * Math.round(position.y / snapGrid[1])\n  };\n}\nconst alwaysValid$1 = () => true;\nfunction resetRecentHandle(handleDomNode) {\n  handleDomNode == null ? void 0 : handleDomNode.classList.remove(\"valid\", \"connecting\", \"vue-flow__handle-valid\", \"vue-flow__handle-connecting\");\n}\nfunction getNodesWithinDistance(position, nodeLookup, distance2) {\n  const nodes = [];\n  const rect = {\n    x: position.x - distance2,\n    y: position.y - distance2,\n    width: distance2 * 2,\n    height: distance2 * 2\n  };\n  for (const node of nodeLookup.values()) {\n    if (getOverlappingArea(rect, nodeToRect(node)) > 0) {\n      nodes.push(node);\n    }\n  }\n  return nodes;\n}\nconst ADDITIONAL_DISTANCE = 250;\nfunction getClosestHandle(position, connectionRadius, nodeLookup, fromHandle) {\n  var _a, _b;\n  let closestHandles = [];\n  let minDistance = Number.POSITIVE_INFINITY;\n  const closeNodes = getNodesWithinDistance(position, nodeLookup, connectionRadius + ADDITIONAL_DISTANCE);\n  for (const node of closeNodes) {\n    const allHandles = [...((_a = node.handleBounds) == null ? void 0 : _a.source) ?? [], ...((_b = node.handleBounds) == null ? void 0 : _b.target) ?? []];\n    for (const handle of allHandles) {\n      if (fromHandle.nodeId === handle.nodeId && fromHandle.type === handle.type && fromHandle.id === handle.id) {\n        continue;\n      }\n      const { x, y } = getHandlePosition(node, handle, handle.position, true);\n      const distance2 = Math.sqrt((x - position.x) ** 2 + (y - position.y) ** 2);\n      if (distance2 > connectionRadius) {\n        continue;\n      }\n      if (distance2 < minDistance) {\n        closestHandles = [{ ...handle, x, y }];\n        minDistance = distance2;\n      } else if (distance2 === minDistance) {\n        closestHandles.push({ ...handle, x, y });\n      }\n    }\n  }\n  if (!closestHandles.length) {\n    return null;\n  }\n  if (closestHandles.length > 1) {\n    const oppositeHandleType = fromHandle.type === \"source\" ? \"target\" : \"source\";\n    return closestHandles.find((handle) => handle.type === oppositeHandleType) ?? closestHandles[0];\n  }\n  return closestHandles[0];\n}\nfunction isValidHandle(event, {\n  handle,\n  connectionMode,\n  fromNodeId,\n  fromHandleId,\n  fromType,\n  doc,\n  lib,\n  flowId,\n  isValidConnection = alwaysValid$1\n}, edges, nodes, findNode, nodeLookup) {\n  const isTarget = fromType === \"target\";\n  const handleDomNode = handle ? doc.querySelector(`.${lib}-flow__handle[data-id=\"${flowId}-${handle == null ? void 0 : handle.nodeId}-${handle == null ? void 0 : handle.id}-${handle == null ? void 0 : handle.type}\"]`) : null;\n  const { x, y } = getEventPosition(event);\n  const handleBelow = doc.elementFromPoint(x, y);\n  const handleToCheck = (handleBelow == null ? void 0 : handleBelow.classList.contains(`${lib}-flow__handle`)) ? handleBelow : handleDomNode;\n  const result = {\n    handleDomNode: handleToCheck,\n    isValid: false,\n    connection: null,\n    toHandle: null\n  };\n  if (handleToCheck) {\n    const handleType = getHandleType(void 0, handleToCheck);\n    const handleNodeId = handleToCheck.getAttribute(\"data-nodeid\");\n    const handleId = handleToCheck.getAttribute(\"data-handleid\");\n    const connectable = handleToCheck.classList.contains(\"connectable\");\n    const connectableEnd = handleToCheck.classList.contains(\"connectableend\");\n    if (!handleNodeId || !handleType) {\n      return result;\n    }\n    const connection = {\n      source: isTarget ? handleNodeId : fromNodeId,\n      sourceHandle: isTarget ? handleId : fromHandleId,\n      target: isTarget ? fromNodeId : handleNodeId,\n      targetHandle: isTarget ? fromHandleId : handleId\n    };\n    result.connection = connection;\n    const isConnectable = connectable && connectableEnd;\n    const isValid = isConnectable && (connectionMode === ConnectionMode.Strict ? isTarget && handleType === \"source\" || !isTarget && handleType === \"target\" : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n    result.isValid = isValid && isValidConnection(connection, {\n      nodes,\n      edges,\n      sourceNode: findNode(connection.source),\n      targetNode: findNode(connection.target)\n    });\n    result.toHandle = getHandle(handleNodeId, handleType, handleId, nodeLookup, connectionMode, true);\n  }\n  return result;\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n  if (edgeUpdaterType) {\n    return edgeUpdaterType;\n  } else if (handleDomNode == null ? void 0 : handleDomNode.classList.contains(\"target\")) {\n    return \"target\";\n  } else if (handleDomNode == null ? void 0 : handleDomNode.classList.contains(\"source\")) {\n    return \"source\";\n  }\n  return null;\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n  let connectionStatus = null;\n  if (isHandleValid) {\n    connectionStatus = \"valid\";\n  } else if (isInsideConnectionRadius && !isHandleValid) {\n    connectionStatus = \"invalid\";\n  }\n  return connectionStatus;\n}\nfunction isConnectionValid(isInsideConnectionRadius, isHandleValid) {\n  let isValid = null;\n  if (isHandleValid) {\n    isValid = true;\n  } else if (isInsideConnectionRadius && !isHandleValid) {\n    isValid = false;\n  }\n  return isValid;\n}\nfunction getHandle(nodeId, handleType, handleId, nodeLookup, connectionMode, withAbsolutePosition = false) {\n  var _a, _b, _c;\n  const node = nodeLookup.get(nodeId);\n  if (!node) {\n    return null;\n  }\n  const handles = connectionMode === ConnectionMode.Strict ? (_a = node.handleBounds) == null ? void 0 : _a[handleType] : [...((_b = node.handleBounds) == null ? void 0 : _b.source) ?? [], ...((_c = node.handleBounds) == null ? void 0 : _c.target) ?? []];\n  const handle = (handleId ? handles == null ? void 0 : handles.find((h2) => h2.id === handleId) : handles == null ? void 0 : handles[0]) ?? null;\n  return handle && withAbsolutePosition ? { ...handle, ...getHandlePosition(node, handle, handle.position, true) } : handle;\n}\nconst oppositePosition = {\n  [Position.Left]: Position.Right,\n  [Position.Right]: Position.Left,\n  [Position.Top]: Position.Bottom,\n  [Position.Bottom]: Position.Top\n};\nconst productionEnvs = [\"production\", \"prod\"];\nfunction warn(message, ...args) {\n  if (isDev()) {\n    console.warn(`[Vue Flow]: ${message}`, ...args);\n  }\n}\nfunction isDev() {\n  return !productionEnvs.includes(process.env.NODE_ENV || \"\");\n}\nfunction getHandleBounds(type, nodeElement, nodeBounds, zoom2, nodeId) {\n  const handles = nodeElement.querySelectorAll(`.vue-flow__handle.${type}`);\n  if (!(handles == null ? void 0 : handles.length)) {\n    return null;\n  }\n  return Array.from(handles).map((handle) => {\n    const handleBounds = handle.getBoundingClientRect();\n    return {\n      id: handle.getAttribute(\"data-handleid\"),\n      type,\n      nodeId,\n      position: handle.getAttribute(\"data-handlepos\"),\n      x: (handleBounds.left - nodeBounds.left) / zoom2,\n      y: (handleBounds.top - nodeBounds.top) / zoom2,\n      ...getDimensions(handle)\n    };\n  });\n}\nfunction handleNodeClick(node, multiSelectionActive, addSelectedNodes, removeSelectedNodes, nodesSelectionActive, unselect = false, nodeEl) {\n  nodesSelectionActive.value = false;\n  if (!node.selected) {\n    addSelectedNodes([node]);\n  } else if (unselect || node.selected && multiSelectionActive) {\n    removeSelectedNodes([node]);\n    nextTick(() => {\n      nodeEl.blur();\n    });\n  }\n}\nfunction isDef(val) {\n  const unrefVal = unref(val);\n  return typeof unrefVal !== \"undefined\";\n}\nfunction addEdgeToStore(edgeParams, edges, triggerError, defaultEdgeOptions) {\n  if (!edgeParams || !edgeParams.source || !edgeParams.target) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_INVALID, (edgeParams == null ? void 0 : edgeParams.id) ?? `[ID UNKNOWN]`));\n    return false;\n  }\n  let edge;\n  if (isEdge(edgeParams)) {\n    edge = edgeParams;\n  } else {\n    edge = {\n      ...edgeParams,\n      id: getEdgeId(edgeParams)\n    };\n  }\n  edge = parseEdge(edge, void 0, defaultEdgeOptions);\n  if (connectionExists(edge, edges)) {\n    return false;\n  }\n  return edge;\n}\nfunction updateEdgeAction(edge, newConnection, prevEdge, shouldReplaceId, triggerError) {\n  if (!newConnection.source || !newConnection.target) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_INVALID, edge.id));\n    return false;\n  }\n  if (!prevEdge) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_NOT_FOUND, edge.id));\n    return false;\n  }\n  const { id: id2, ...rest } = edge;\n  return {\n    ...rest,\n    id: shouldReplaceId ? getEdgeId(newConnection) : id2,\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  };\n}\nfunction createGraphNodes(nodes, findNode, triggerError) {\n  const parentNodes = {};\n  const nextNodes = [];\n  for (let i = 0; i < nodes.length; ++i) {\n    const node = nodes[i];\n    if (!isNode(node)) {\n      triggerError(\n        new VueFlowError(ErrorCode.NODE_INVALID, node == null ? void 0 : node.id) || `[ID UNKNOWN|INDEX ${i}]`\n      );\n      continue;\n    }\n    const parsed = parseNode(node, findNode(node.id), node.parentNode);\n    if (node.parentNode) {\n      parentNodes[node.parentNode] = true;\n    }\n    nextNodes[i] = parsed;\n  }\n  for (const node of nextNodes) {\n    const parentNode = findNode(node.parentNode) || nextNodes.find((n) => n.id === node.parentNode);\n    if (node.parentNode && !parentNode) {\n      triggerError(new VueFlowError(ErrorCode.NODE_MISSING_PARENT, node.id, node.parentNode));\n    }\n    if (node.parentNode || parentNodes[node.id]) {\n      if (parentNodes[node.id]) {\n        node.isParent = true;\n      }\n      if (parentNode) {\n        parentNode.isParent = true;\n      }\n    }\n  }\n  return nextNodes;\n}\nfunction addConnectionToLookup(type, connection, connectionKey, connectionLookup, nodeId, handleId) {\n  let key = nodeId;\n  const nodeMap = connectionLookup.get(key) || /* @__PURE__ */ new Map();\n  connectionLookup.set(key, nodeMap.set(connectionKey, connection));\n  key = `${nodeId}-${type}`;\n  const typeMap = connectionLookup.get(key) || /* @__PURE__ */ new Map();\n  connectionLookup.set(key, typeMap.set(connectionKey, connection));\n  if (handleId) {\n    key = `${nodeId}-${type}-${handleId}`;\n    const handleMap = connectionLookup.get(key) || /* @__PURE__ */ new Map();\n    connectionLookup.set(key, handleMap.set(connectionKey, connection));\n  }\n}\nfunction updateConnectionLookup(connectionLookup, edgeLookup, edges) {\n  connectionLookup.clear();\n  for (const edge of edges) {\n    const { source: sourceNode, target: targetNode, sourceHandle = null, targetHandle = null } = edge;\n    const connection = { edgeId: edge.id, source: sourceNode, target: targetNode, sourceHandle, targetHandle };\n    const sourceKey = `${sourceNode}-${sourceHandle}--${targetNode}-${targetHandle}`;\n    const targetKey = `${targetNode}-${targetHandle}--${sourceNode}-${sourceHandle}`;\n    addConnectionToLookup(\"source\", connection, targetKey, connectionLookup, sourceNode, sourceHandle);\n    addConnectionToLookup(\"target\", connection, sourceKey, connectionLookup, targetNode, targetHandle);\n  }\n}\nfunction handleConnectionChange(a, b, cb) {\n  if (!cb) {\n    return;\n  }\n  const diff = [];\n  for (const key of a.keys()) {\n    if (!b.has(key)) {\n      diff.push(a.get(key));\n    }\n  }\n  if (diff.length) {\n    cb(diff);\n  }\n}\nfunction areConnectionMapsEqual(a, b) {\n  if (!a && !b) {\n    return true;\n  }\n  if (!a || !b || a.size !== b.size) {\n    return false;\n  }\n  if (!a.size && !b.size) {\n    return true;\n  }\n  for (const key of a.keys()) {\n    if (!b.has(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction areSetsEqual(a, b) {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction createGraphEdges(nextEdges, isValidConnection, findNode, findEdge, onError, defaultEdgeOptions, nodes, edges) {\n  const validEdges = [];\n  for (const edgeOrConnection of nextEdges) {\n    const edge = isEdge(edgeOrConnection) ? edgeOrConnection : addEdgeToStore(edgeOrConnection, edges, onError, defaultEdgeOptions);\n    if (!edge) {\n      continue;\n    }\n    const sourceNode = findNode(edge.source);\n    const targetNode = findNode(edge.target);\n    if (!sourceNode || !targetNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_SOURCE_TARGET_MISSING, edge.id, edge.source, edge.target));\n      continue;\n    }\n    if (!sourceNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_SOURCE_MISSING, edge.id, edge.source));\n      continue;\n    }\n    if (!targetNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_TARGET_MISSING, edge.id, edge.target));\n      continue;\n    }\n    if (isValidConnection) {\n      const isValid = isValidConnection(edge, {\n        edges,\n        nodes,\n        sourceNode,\n        targetNode\n      });\n      if (!isValid) {\n        onError(new VueFlowError(ErrorCode.EDGE_INVALID, edge.id));\n        continue;\n      }\n    }\n    const existingEdge = findEdge(edge.id);\n    validEdges.push({\n      ...parseEdge(edge, existingEdge, defaultEdgeOptions),\n      sourceNode,\n      targetNode\n    });\n  }\n  return validEdges;\n}\nconst VueFlow = Symbol(\"vueFlow\");\nconst NodeId = Symbol(\"nodeId\");\nconst NodeRef = Symbol(\"nodeRef\");\nconst EdgeId = Symbol(\"edgeId\");\nconst EdgeRef = Symbol(\"edgeRef\");\nconst Slots = Symbol(\"slots\");\nfunction useDrag(params) {\n  const {\n    vueFlowRef,\n    snapToGrid,\n    snapGrid,\n    noDragClassName,\n    nodeLookup,\n    nodeExtent,\n    nodeDragThreshold,\n    viewport,\n    autoPanOnNodeDrag,\n    autoPanSpeed,\n    nodesDraggable,\n    panBy,\n    findNode,\n    multiSelectionActive,\n    nodesSelectionActive,\n    selectNodesOnDrag,\n    removeSelectedElements,\n    addSelectedNodes,\n    updateNodePositions,\n    emits\n  } = useVueFlow();\n  const { onStart, onDrag, onStop, onClick, el, disabled, id: id2, selectable, dragHandle } = params;\n  const dragging = shallowRef(false);\n  let dragItems = [];\n  let dragHandler;\n  let containerBounds = null;\n  let lastPos = { x: void 0, y: void 0 };\n  let mousePosition = { x: 0, y: 0 };\n  let dragEvent = null;\n  let dragStarted = false;\n  let nodePositionsChanged = false;\n  let autoPanId = 0;\n  let autoPanStarted = false;\n  const getPointerPosition = useGetPointerPosition();\n  const updateNodes = ({ x, y }) => {\n    lastPos = { x, y };\n    let hasChange = false;\n    dragItems = dragItems.map((n) => {\n      const nextPosition = { x: x - n.distance.x, y: y - n.distance.y };\n      const { computedPosition } = calcNextPosition(\n        n,\n        snapToGrid.value ? snapPosition(nextPosition, snapGrid.value) : nextPosition,\n        emits.error,\n        nodeExtent.value,\n        n.parentNode ? findNode(n.parentNode) : void 0\n      );\n      hasChange = hasChange || n.position.x !== computedPosition.x || n.position.y !== computedPosition.y;\n      n.position = computedPosition;\n      return n;\n    });\n    nodePositionsChanged = nodePositionsChanged || hasChange;\n    if (!hasChange) {\n      return;\n    }\n    updateNodePositions(dragItems, true, true);\n    dragging.value = true;\n    if (dragEvent) {\n      const [currentNode, nodes] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onDrag({ event: dragEvent, node: currentNode, nodes });\n    }\n  };\n  const autoPan = () => {\n    if (!containerBounds) {\n      return;\n    }\n    const [xMovement, yMovement] = calcAutoPan(mousePosition, containerBounds, autoPanSpeed.value);\n    if (xMovement !== 0 || yMovement !== 0) {\n      const nextPos = {\n        x: (lastPos.x ?? 0) - xMovement / viewport.value.zoom,\n        y: (lastPos.y ?? 0) - yMovement / viewport.value.zoom\n      };\n      if (panBy({ x: xMovement, y: yMovement })) {\n        updateNodes(nextPos);\n      }\n    }\n    autoPanId = requestAnimationFrame(autoPan);\n  };\n  const startDrag = (event, nodeEl) => {\n    dragStarted = true;\n    const node = findNode(id2);\n    if (!selectNodesOnDrag.value && !multiSelectionActive.value && node) {\n      if (!node.selected) {\n        removeSelectedElements();\n      }\n    }\n    if (node && toValue$1(selectable) && selectNodesOnDrag.value) {\n      handleNodeClick(\n        node,\n        multiSelectionActive.value,\n        addSelectedNodes,\n        removeSelectedElements,\n        nodesSelectionActive,\n        false,\n        nodeEl\n      );\n    }\n    const pointerPos = getPointerPosition(event.sourceEvent);\n    lastPos = pointerPos;\n    dragItems = getDragItems(nodeLookup.value, nodesDraggable.value, pointerPos, id2);\n    if (dragItems.length) {\n      const [currentNode, nodes] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onStart({ event: event.sourceEvent, node: currentNode, nodes });\n    }\n  };\n  const eventStart = (event, nodeEl) => {\n    var _a;\n    if (event.sourceEvent.type === \"touchmove\" && event.sourceEvent.touches.length > 1) {\n      return;\n    }\n    nodePositionsChanged = false;\n    if (nodeDragThreshold.value === 0) {\n      startDrag(event, nodeEl);\n    }\n    lastPos = getPointerPosition(event.sourceEvent);\n    containerBounds = ((_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect()) || null;\n    mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n  };\n  const eventDrag = (event, nodeEl) => {\n    const pointerPos = getPointerPosition(event.sourceEvent);\n    if (!autoPanStarted && dragStarted && autoPanOnNodeDrag.value) {\n      autoPanStarted = true;\n      autoPan();\n    }\n    if (!dragStarted) {\n      const x = pointerPos.xSnapped - (lastPos.x ?? 0);\n      const y = pointerPos.ySnapped - (lastPos.y ?? 0);\n      const distance2 = Math.sqrt(x * x + y * y);\n      if (distance2 > nodeDragThreshold.value) {\n        startDrag(event, nodeEl);\n      }\n    }\n    if ((lastPos.x !== pointerPos.xSnapped || lastPos.y !== pointerPos.ySnapped) && dragItems.length && dragStarted) {\n      dragEvent = event.sourceEvent;\n      mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n      updateNodes(pointerPos);\n    }\n  };\n  const eventEnd = (event) => {\n    let isClick = false;\n    if (!dragStarted && !dragging.value && !multiSelectionActive.value) {\n      const evt = event.sourceEvent;\n      const pointerPos = getPointerPosition(evt);\n      const x = pointerPos.xSnapped - (lastPos.x ?? 0);\n      const y = pointerPos.ySnapped - (lastPos.y ?? 0);\n      const distance2 = Math.sqrt(x * x + y * y);\n      if (distance2 !== 0 && distance2 <= nodeDragThreshold.value) {\n        onClick == null ? void 0 : onClick(evt);\n        isClick = true;\n      }\n    }\n    if (dragItems.length && !isClick) {\n      if (nodePositionsChanged) {\n        updateNodePositions(dragItems, false, false);\n        nodePositionsChanged = false;\n      }\n      const [currentNode, nodes] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onStop({ event: event.sourceEvent, node: currentNode, nodes });\n    }\n    dragItems = [];\n    dragging.value = false;\n    autoPanStarted = false;\n    dragStarted = false;\n    lastPos = { x: void 0, y: void 0 };\n    cancelAnimationFrame(autoPanId);\n  };\n  watch([() => toValue$1(disabled), el], ([isDisabled, nodeEl], _, onCleanup) => {\n    if (nodeEl) {\n      const selection2 = select(nodeEl);\n      if (!isDisabled) {\n        dragHandler = drag().on(\"start\", (event) => eventStart(event, nodeEl)).on(\"drag\", (event) => eventDrag(event, nodeEl)).on(\"end\", (event) => eventEnd(event)).filter((event) => {\n          const target = event.target;\n          const unrefDragHandle = toValue$1(dragHandle);\n          return !event.button && (!noDragClassName.value || !hasSelector(target, `.${noDragClassName.value}`, nodeEl) && (!unrefDragHandle || hasSelector(target, unrefDragHandle, nodeEl)));\n        });\n        selection2.call(dragHandler);\n      }\n      onCleanup(() => {\n        selection2.on(\".drag\", null);\n        if (dragHandler) {\n          dragHandler.on(\"start\", null);\n          dragHandler.on(\"drag\", null);\n          dragHandler.on(\"end\", null);\n        }\n      });\n    }\n  });\n  return dragging;\n}\nfunction useEdge(id2) {\n  const edgeId = id2 ?? inject(EdgeId, \"\");\n  const edgeEl = inject(EdgeRef, ref(null));\n  const { findEdge, emits } = useVueFlow();\n  const edge = findEdge(edgeId);\n  if (!edge) {\n    emits.error(new VueFlowError(ErrorCode.EDGE_NOT_FOUND, edgeId));\n  }\n  return {\n    id: edgeId,\n    edge,\n    edgeEl\n  };\n}\nfunction createEdgeHooks() {\n  return {\n    doubleClick: createExtendedEventHook(),\n    click: createExtendedEventHook(),\n    mouseEnter: createExtendedEventHook(),\n    mouseMove: createExtendedEventHook(),\n    mouseLeave: createExtendedEventHook(),\n    contextMenu: createExtendedEventHook(),\n    updateStart: createExtendedEventHook(),\n    update: createExtendedEventHook(),\n    updateEnd: createExtendedEventHook()\n  };\n}\nfunction useEdgeHooks(edge, emits) {\n  const edgeHooks = createEdgeHooks();\n  edgeHooks.doubleClick.on((event) => {\n    var _a, _b;\n    emits.edgeDoubleClick(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.doubleClick) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.click.on((event) => {\n    var _a, _b;\n    emits.edgeClick(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.click) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseEnter.on((event) => {\n    var _a, _b;\n    emits.edgeMouseEnter(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseEnter) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseMove.on((event) => {\n    var _a, _b;\n    emits.edgeMouseMove(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseMove) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseLeave.on((event) => {\n    var _a, _b;\n    emits.edgeMouseLeave(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseLeave) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.contextMenu.on((event) => {\n    var _a, _b;\n    emits.edgeContextMenu(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.contextMenu) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.updateStart.on((event) => {\n    var _a, _b;\n    emits.edgeUpdateStart(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.updateStart) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.update.on((event) => {\n    var _a, _b;\n    emits.edgeUpdate(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.updateEnd.on((event) => {\n    var _a, _b;\n    emits.edgeUpdateEnd(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.updateEnd) == null ? void 0 : _b.call(_a, event);\n  });\n  return Object.entries(edgeHooks).reduce(\n    (hooks, [key, value]) => {\n      hooks.emit[key] = value.trigger;\n      hooks.on[key] = value.on;\n      return hooks;\n    },\n    { emit: {}, on: {} }\n  );\n}\nfunction useGetPointerPosition() {\n  const { viewport, snapGrid, snapToGrid, vueFlowRef } = useVueFlow();\n  return (event) => {\n    var _a;\n    const containerBounds = ((_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect()) ?? { left: 0, top: 0 };\n    const evt = isUseDragEvent(event) ? event.sourceEvent : event;\n    const { x, y } = getEventPosition(evt, containerBounds);\n    const pointerPos = pointToRendererPoint({ x, y }, viewport.value);\n    const { x: xSnapped, y: ySnapped } = snapToGrid.value ? snapPosition(pointerPos, snapGrid.value) : pointerPos;\n    return {\n      xSnapped,\n      ySnapped,\n      ...pointerPos\n    };\n  };\n}\nfunction alwaysValid() {\n  return true;\n}\nfunction useHandle({\n  handleId,\n  nodeId,\n  type,\n  isValidConnection,\n  edgeUpdaterType,\n  onEdgeUpdate,\n  onEdgeUpdateEnd\n}) {\n  const {\n    id: flowId,\n    vueFlowRef,\n    connectionMode,\n    connectionRadius,\n    connectOnClick,\n    connectionClickStartHandle,\n    nodesConnectable,\n    autoPanOnConnect,\n    autoPanSpeed,\n    findNode,\n    panBy,\n    startConnection,\n    updateConnection,\n    endConnection,\n    emits,\n    viewport,\n    edges,\n    nodes,\n    isValidConnection: isValidConnectionProp,\n    nodeLookup\n  } = useVueFlow();\n  let connection = null;\n  let isValid = false;\n  let handleDomNode = null;\n  function handlePointerDown(event) {\n    var _a;\n    const isTarget = toValue$1(type) === \"target\";\n    const isMouseTriggered = isMouseEvent(event);\n    const doc = getHostForElement(event.target);\n    const clickedHandle = event.currentTarget;\n    if (clickedHandle && (isMouseTriggered && event.button === 0 || !isMouseTriggered)) {\n      let onPointerMove = function(event2) {\n        connectionPosition = getEventPosition(event2, containerBounds);\n        closestHandle = getClosestHandle(\n          pointToRendererPoint(connectionPosition, viewport.value, false, [1, 1]),\n          connectionRadius.value,\n          nodeLookup.value,\n          fromHandle\n        );\n        if (!autoPanStarted) {\n          autoPan();\n          autoPanStarted = true;\n        }\n        const result = isValidHandle(\n          event2,\n          {\n            handle: closestHandle,\n            connectionMode: connectionMode.value,\n            fromNodeId: toValue$1(nodeId),\n            fromHandleId: toValue$1(handleId),\n            fromType: isTarget ? \"target\" : \"source\",\n            isValidConnection: isValidConnectionHandler,\n            doc,\n            lib: \"vue\",\n            flowId,\n            nodeLookup: nodeLookup.value\n          },\n          edges.value,\n          nodes.value,\n          findNode,\n          nodeLookup.value\n        );\n        handleDomNode = result.handleDomNode;\n        connection = result.connection;\n        isValid = isConnectionValid(!!closestHandle, result.isValid);\n        const newConnection2 = {\n          // from stays the same\n          ...previousConnection,\n          isValid,\n          to: result.toHandle && isValid ? rendererPointToPoint({ x: result.toHandle.x, y: result.toHandle.y }, viewport.value) : connectionPosition,\n          toHandle: result.toHandle,\n          toPosition: isValid && result.toHandle ? result.toHandle.position : oppositePosition[fromHandle.position],\n          toNode: result.toHandle ? nodeLookup.value.get(result.toHandle.nodeId) : null\n        };\n        if (isValid && closestHandle && (previousConnection == null ? void 0 : previousConnection.toHandle) && newConnection2.toHandle && previousConnection.toHandle.type === newConnection2.toHandle.type && previousConnection.toHandle.nodeId === newConnection2.toHandle.nodeId && previousConnection.toHandle.id === newConnection2.toHandle.id && previousConnection.to.x === newConnection2.to.x && previousConnection.to.y === newConnection2.to.y) {\n          return;\n        }\n        const connectingHandle = closestHandle ?? result.toHandle;\n        updateConnection(\n          connectingHandle && isValid ? rendererPointToPoint(\n            {\n              x: connectingHandle.x,\n              y: connectingHandle.y\n            },\n            viewport.value\n          ) : connectionPosition,\n          result.toHandle,\n          getConnectionStatus(!!connectingHandle, isValid)\n        );\n        previousConnection = newConnection2;\n        if (!closestHandle && !isValid && !handleDomNode) {\n          return resetRecentHandle(prevActiveHandle);\n        }\n        if (connection && connection.source !== connection.target && handleDomNode) {\n          resetRecentHandle(prevActiveHandle);\n          prevActiveHandle = handleDomNode;\n          handleDomNode.classList.add(\"connecting\", \"vue-flow__handle-connecting\");\n          handleDomNode.classList.toggle(\"valid\", !!isValid);\n          handleDomNode.classList.toggle(\"vue-flow__handle-valid\", !!isValid);\n        }\n      }, onPointerUp = function(event2) {\n        if (\"touches\" in event2 && event2.touches.length > 0) {\n          return;\n        }\n        if ((closestHandle || handleDomNode) && connection && isValid) {\n          if (!onEdgeUpdate) {\n            emits.connect(connection);\n          } else {\n            onEdgeUpdate(event2, connection);\n          }\n        }\n        emits.connectEnd(event2);\n        if (edgeUpdaterType) {\n          onEdgeUpdateEnd == null ? void 0 : onEdgeUpdateEnd(event2);\n        }\n        resetRecentHandle(prevActiveHandle);\n        cancelAnimationFrame(autoPanId);\n        endConnection(event2);\n        autoPanStarted = false;\n        isValid = false;\n        connection = null;\n        handleDomNode = null;\n        doc.removeEventListener(\"mousemove\", onPointerMove);\n        doc.removeEventListener(\"mouseup\", onPointerUp);\n        doc.removeEventListener(\"touchmove\", onPointerMove);\n        doc.removeEventListener(\"touchend\", onPointerUp);\n      };\n      const node = findNode(toValue$1(nodeId));\n      let isValidConnectionHandler = toValue$1(isValidConnection) || isValidConnectionProp.value || alwaysValid;\n      if (!isValidConnectionHandler && node) {\n        isValidConnectionHandler = (!isTarget ? node.isValidTargetPos : node.isValidSourcePos) || alwaysValid;\n      }\n      let closestHandle;\n      let autoPanId = 0;\n      const { x, y } = getEventPosition(event);\n      const handleType = getHandleType(toValue$1(edgeUpdaterType), clickedHandle);\n      const containerBounds = (_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect();\n      if (!containerBounds || !handleType) {\n        return;\n      }\n      const fromHandleInternal = getHandle(toValue$1(nodeId), handleType, toValue$1(handleId), nodeLookup.value, connectionMode.value);\n      if (!fromHandleInternal) {\n        return;\n      }\n      let prevActiveHandle;\n      let connectionPosition = getEventPosition(event, containerBounds);\n      let autoPanStarted = false;\n      const autoPan = () => {\n        if (!autoPanOnConnect.value) {\n          return;\n        }\n        const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds, autoPanSpeed.value);\n        panBy({ x: xMovement, y: yMovement });\n        autoPanId = requestAnimationFrame(autoPan);\n      };\n      const fromHandle = {\n        ...fromHandleInternal,\n        nodeId: toValue$1(nodeId),\n        type: handleType,\n        position: fromHandleInternal.position\n      };\n      const fromNodeInternal = nodeLookup.value.get(toValue$1(nodeId));\n      const from = getHandlePosition(fromNodeInternal, fromHandle, Position.Left, true);\n      const newConnection = {\n        inProgress: true,\n        isValid: null,\n        from,\n        fromHandle,\n        fromPosition: fromHandle.position,\n        fromNode: fromNodeInternal,\n        to: connectionPosition,\n        toHandle: null,\n        toPosition: oppositePosition[fromHandle.position],\n        toNode: null\n      };\n      startConnection(\n        {\n          nodeId: toValue$1(nodeId),\n          id: toValue$1(handleId),\n          type: handleType,\n          position: (clickedHandle == null ? void 0 : clickedHandle.getAttribute(\"data-handlepos\")) || Position.Top,\n          ...connectionPosition\n        },\n        {\n          x: x - containerBounds.left,\n          y: y - containerBounds.top\n        }\n      );\n      emits.connectStart({ event, nodeId: toValue$1(nodeId), handleId: toValue$1(handleId), handleType });\n      let previousConnection = newConnection;\n      doc.addEventListener(\"mousemove\", onPointerMove);\n      doc.addEventListener(\"mouseup\", onPointerUp);\n      doc.addEventListener(\"touchmove\", onPointerMove);\n      doc.addEventListener(\"touchend\", onPointerUp);\n    }\n  }\n  function handleClick(event) {\n    var _a, _b;\n    if (!connectOnClick.value) {\n      return;\n    }\n    const isTarget = toValue$1(type) === \"target\";\n    if (!connectionClickStartHandle.value) {\n      emits.clickConnectStart({ event, nodeId: toValue$1(nodeId), handleId: toValue$1(handleId) });\n      startConnection(\n        {\n          nodeId: toValue$1(nodeId),\n          type: toValue$1(type),\n          id: toValue$1(handleId),\n          position: Position.Top,\n          ...getEventPosition(event)\n        },\n        void 0,\n        true\n      );\n      return;\n    }\n    let isValidConnectionHandler = toValue$1(isValidConnection) || isValidConnectionProp.value || alwaysValid;\n    const node = findNode(toValue$1(nodeId));\n    if (!isValidConnectionHandler && node) {\n      isValidConnectionHandler = (!isTarget ? node.isValidTargetPos : node.isValidSourcePos) || alwaysValid;\n    }\n    if (node && (typeof node.connectable === \"undefined\" ? nodesConnectable.value : node.connectable) === false) {\n      return;\n    }\n    const doc = getHostForElement(event.target);\n    const result = isValidHandle(\n      event,\n      {\n        handle: {\n          nodeId: toValue$1(nodeId),\n          id: toValue$1(handleId),\n          type: toValue$1(type),\n          position: Position.Top,\n          ...getEventPosition(event)\n        },\n        connectionMode: connectionMode.value,\n        fromNodeId: connectionClickStartHandle.value.nodeId,\n        fromHandleId: connectionClickStartHandle.value.id ?? null,\n        fromType: connectionClickStartHandle.value.type,\n        isValidConnection: isValidConnectionHandler,\n        doc,\n        lib: \"vue\",\n        flowId,\n        nodeLookup: nodeLookup.value\n      },\n      edges.value,\n      nodes.value,\n      findNode,\n      nodeLookup.value\n    );\n    const isOwnHandle = ((_a = result.connection) == null ? void 0 : _a.source) === ((_b = result.connection) == null ? void 0 : _b.target);\n    if (result.isValid && result.connection && !isOwnHandle) {\n      emits.connect(result.connection);\n    }\n    emits.clickConnectEnd(event);\n    endConnection(event, true);\n  }\n  return {\n    handlePointerDown,\n    handleClick\n  };\n}\nfunction useNodeId() {\n  return inject(NodeId, \"\");\n}\nfunction useNode(id2) {\n  const nodeId = id2 ?? useNodeId() ?? \"\";\n  const nodeEl = inject(NodeRef, ref(null));\n  const { findNode, edges, emits } = useVueFlow();\n  const node = findNode(nodeId);\n  if (!node) {\n    emits.error(new VueFlowError(ErrorCode.NODE_NOT_FOUND, nodeId));\n  }\n  return {\n    id: nodeId,\n    nodeEl,\n    node,\n    parentNode: computed(() => findNode(node.parentNode)),\n    connectedEdges: computed(() => getConnectedEdges([node], edges.value))\n  };\n}\nfunction createNodeHooks() {\n  return {\n    doubleClick: createExtendedEventHook(),\n    click: createExtendedEventHook(),\n    mouseEnter: createExtendedEventHook(),\n    mouseMove: createExtendedEventHook(),\n    mouseLeave: createExtendedEventHook(),\n    contextMenu: createExtendedEventHook(),\n    dragStart: createExtendedEventHook(),\n    drag: createExtendedEventHook(),\n    dragStop: createExtendedEventHook()\n  };\n}\nfunction useNodeHooks(node, emits) {\n  const nodeHooks = createNodeHooks();\n  nodeHooks.doubleClick.on((event) => {\n    var _a, _b;\n    emits.nodeDoubleClick(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.doubleClick) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.click.on((event) => {\n    var _a, _b;\n    emits.nodeClick(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.click) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseEnter.on((event) => {\n    var _a, _b;\n    emits.nodeMouseEnter(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseEnter) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseMove.on((event) => {\n    var _a, _b;\n    emits.nodeMouseMove(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseMove) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseLeave.on((event) => {\n    var _a, _b;\n    emits.nodeMouseLeave(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseLeave) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.contextMenu.on((event) => {\n    var _a, _b;\n    emits.nodeContextMenu(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.contextMenu) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.dragStart.on((event) => {\n    var _a, _b;\n    emits.nodeDragStart(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.dragStart) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.drag.on((event) => {\n    var _a, _b;\n    emits.nodeDrag(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.drag) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.dragStop.on((event) => {\n    var _a, _b;\n    emits.nodeDragStop(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.dragStop) == null ? void 0 : _b.call(_a, event);\n  });\n  return Object.entries(nodeHooks).reduce(\n    (hooks, [key, value]) => {\n      hooks.emit[key] = value.trigger;\n      hooks.on[key] = value.on;\n      return hooks;\n    },\n    { emit: {}, on: {} }\n  );\n}\nfunction useUpdateNodePositions() {\n  const { getSelectedNodes, nodeExtent, updateNodePositions, findNode, snapGrid, snapToGrid, nodesDraggable, emits } = useVueFlow();\n  return (positionDiff, isShiftPressed = false) => {\n    const xVelo = snapToGrid.value ? snapGrid.value[0] : 5;\n    const yVelo = snapToGrid.value ? snapGrid.value[1] : 5;\n    const factor = isShiftPressed ? 4 : 1;\n    const positionDiffX = positionDiff.x * xVelo * factor;\n    const positionDiffY = positionDiff.y * yVelo * factor;\n    const nodeUpdates = [];\n    for (const node of getSelectedNodes.value) {\n      if (node.draggable || nodesDraggable && typeof node.draggable === \"undefined\") {\n        const nextPosition = { x: node.computedPosition.x + positionDiffX, y: node.computedPosition.y + positionDiffY };\n        const { computedPosition } = calcNextPosition(\n          node,\n          nextPosition,\n          emits.error,\n          nodeExtent.value,\n          node.parentNode ? findNode(node.parentNode) : void 0\n        );\n        nodeUpdates.push({\n          id: node.id,\n          position: computedPosition,\n          from: node.position,\n          distance: { x: positionDiff.x, y: positionDiff.y },\n          dimensions: node.dimensions\n        });\n      }\n    }\n    updateNodePositions(nodeUpdates, true, false);\n  };\n}\nconst DEFAULT_PADDING = 0.1;\nconst defaultEase = (t) => ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\nfunction noop() {\n  warn(\"Viewport not initialized yet.\");\n  return Promise.resolve(false);\n}\nconst initialViewportHelper = {\n  zoomIn: noop,\n  zoomOut: noop,\n  zoomTo: noop,\n  fitView: noop,\n  setCenter: noop,\n  fitBounds: noop,\n  project: (position) => position,\n  screenToFlowCoordinate: (position) => position,\n  flowToScreenCoordinate: (position) => position,\n  setViewport: noop,\n  setTransform: noop,\n  getViewport: () => ({ x: 0, y: 0, zoom: 1 }),\n  getTransform: () => ({ x: 0, y: 0, zoom: 1 }),\n  viewportInitialized: false\n};\nfunction useViewportHelper(state) {\n  function zoom2(scale, transitionOptions) {\n    return new Promise((resolve) => {\n      if (state.d3Selection && state.d3Zoom) {\n        state.d3Zoom.interpolate((transitionOptions == null ? void 0 : transitionOptions.interpolate) === \"linear\" ? interpolate$1 : interpolateZoom).scaleBy(\n          getD3Transition(state.d3Selection, transitionOptions == null ? void 0 : transitionOptions.duration, transitionOptions == null ? void 0 : transitionOptions.ease, () => {\n            resolve(true);\n          }),\n          scale\n        );\n      } else {\n        resolve(false);\n      }\n    });\n  }\n  function transformViewport(x, y, zoom22, transitionOptions) {\n    return new Promise((resolve) => {\n      var _a;\n      const { x: clampedX, y: clampedY } = clampPosition({ x: -x, y: -y }, state.translateExtent);\n      const nextTransform = identity.translate(-clampedX, -clampedY).scale(zoom22);\n      if (state.d3Selection && state.d3Zoom) {\n        (_a = state.d3Zoom) == null ? void 0 : _a.interpolate((transitionOptions == null ? void 0 : transitionOptions.interpolate) === \"linear\" ? interpolate$1 : interpolateZoom).transform(\n          getD3Transition(state.d3Selection, transitionOptions == null ? void 0 : transitionOptions.duration, transitionOptions == null ? void 0 : transitionOptions.ease, () => {\n            resolve(true);\n          }),\n          nextTransform\n        );\n      } else {\n        resolve(false);\n      }\n    });\n  }\n  return computed(() => {\n    const isInitialized = state.d3Zoom && state.d3Selection && state.dimensions.width && state.dimensions.height;\n    if (!isInitialized) {\n      return initialViewportHelper;\n    }\n    return {\n      viewportInitialized: true,\n      // todo: allow passing scale as option\n      zoomIn: (options) => {\n        return zoom2(1.2, options);\n      },\n      zoomOut: (options) => {\n        return zoom2(1 / 1.2, options);\n      },\n      zoomTo: (zoomLevel, options) => {\n        return new Promise((resolve) => {\n          if (state.d3Selection && state.d3Zoom) {\n            state.d3Zoom.interpolate((options == null ? void 0 : options.interpolate) === \"linear\" ? interpolate$1 : interpolateZoom).scaleTo(\n              getD3Transition(state.d3Selection, options == null ? void 0 : options.duration, options == null ? void 0 : options.ease, () => {\n                resolve(true);\n              }),\n              zoomLevel\n            );\n          } else {\n            resolve(false);\n          }\n        });\n      },\n      setViewport: (transform, options) => {\n        return transformViewport(transform.x, transform.y, transform.zoom, options);\n      },\n      setTransform: (transform, options) => {\n        return transformViewport(transform.x, transform.y, transform.zoom, options);\n      },\n      getViewport: () => ({\n        x: state.viewport.x,\n        y: state.viewport.y,\n        zoom: state.viewport.zoom\n      }),\n      getTransform: () => {\n        return {\n          x: state.viewport.x,\n          y: state.viewport.y,\n          zoom: state.viewport.zoom\n        };\n      },\n      fitView: (options = {\n        padding: DEFAULT_PADDING,\n        includeHiddenNodes: false,\n        duration: 0\n      }) => {\n        var _a, _b;\n        const nodesToFit = [];\n        for (const node of state.nodes) {\n          const isVisible = node.dimensions.width && node.dimensions.height && ((options == null ? void 0 : options.includeHiddenNodes) || !node.hidden);\n          if (isVisible) {\n            if (!((_a = options.nodes) == null ? void 0 : _a.length) || ((_b = options.nodes) == null ? void 0 : _b.length) && options.nodes.includes(node.id)) {\n              nodesToFit.push(node);\n            }\n          }\n        }\n        if (!nodesToFit.length) {\n          return Promise.resolve(false);\n        }\n        const bounds = getRectOfNodes(nodesToFit);\n        const { x, y, zoom: zoom22 } = getTransformForBounds(\n          bounds,\n          state.dimensions.width,\n          state.dimensions.height,\n          options.minZoom ?? state.minZoom,\n          options.maxZoom ?? state.maxZoom,\n          options.padding ?? DEFAULT_PADDING,\n          options.offset\n        );\n        return transformViewport(x, y, zoom22, options);\n      },\n      setCenter: (x, y, options) => {\n        const nextZoom = typeof (options == null ? void 0 : options.zoom) !== \"undefined\" ? options.zoom : state.maxZoom;\n        const centerX = state.dimensions.width / 2 - x * nextZoom;\n        const centerY = state.dimensions.height / 2 - y * nextZoom;\n        return transformViewport(centerX, centerY, nextZoom, options);\n      },\n      fitBounds: (bounds, options = { padding: DEFAULT_PADDING }) => {\n        const { x, y, zoom: zoom22 } = getTransformForBounds(\n          bounds,\n          state.dimensions.width,\n          state.dimensions.height,\n          state.minZoom,\n          state.maxZoom,\n          options.padding\n        );\n        return transformViewport(x, y, zoom22, options);\n      },\n      project: (position) => pointToRendererPoint(position, state.viewport, state.snapToGrid, state.snapGrid),\n      screenToFlowCoordinate: (position) => {\n        if (state.vueFlowRef) {\n          const { x: domX, y: domY } = state.vueFlowRef.getBoundingClientRect();\n          const correctedPosition = {\n            x: position.x - domX,\n            y: position.y - domY\n          };\n          return pointToRendererPoint(correctedPosition, state.viewport, state.snapToGrid, state.snapGrid);\n        }\n        return { x: 0, y: 0 };\n      },\n      flowToScreenCoordinate: (position) => {\n        if (state.vueFlowRef) {\n          const { x: domX, y: domY } = state.vueFlowRef.getBoundingClientRect();\n          const correctedPosition = {\n            x: position.x + domX,\n            y: position.y + domY\n          };\n          return rendererPointToPoint(correctedPosition, state.viewport);\n        }\n        return { x: 0, y: 0 };\n      }\n    };\n  });\n}\nfunction getD3Transition(selection2, duration = 0, ease = defaultEase, onEnd = () => {\n}) {\n  const hasDuration = typeof duration === \"number\" && duration > 0;\n  if (!hasDuration) {\n    onEnd();\n  }\n  return hasDuration ? selection2.transition().duration(duration).ease(ease).on(\"end\", onEnd) : selection2;\n}\nfunction useWatchProps(models, props, store) {\n  const scope = effectScope(true);\n  scope.run(() => {\n    const watchModelValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!(store.nodes.value.length || store.edges.value.length);\n        pauseModel = watchPausable([models.modelValue, () => {\n          var _a, _b;\n          return (_b = (_a = models.modelValue) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([elements]) => {\n          if (elements && Array.isArray(elements)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setElements(elements);\n            if (!pauseStore && !immediateStore && elements.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.nodes, store.edges, () => store.edges.value.length, () => store.nodes.value.length],\n          ([nodes, edges]) => {\n            var _a;\n            if (((_a = models.modelValue) == null ? void 0 : _a.value) && Array.isArray(models.modelValue.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.modelValue.value = [...nodes, ...edges];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchNodesValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!store.nodes.value.length;\n        pauseModel = watchPausable([models.nodes, () => {\n          var _a, _b;\n          return (_b = (_a = models.nodes) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([nodes]) => {\n          if (nodes && Array.isArray(nodes)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setNodes(nodes);\n            if (!pauseStore && !immediateStore && nodes.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.nodes, () => store.nodes.value.length],\n          ([nodes]) => {\n            var _a;\n            if (((_a = models.nodes) == null ? void 0 : _a.value) && Array.isArray(models.nodes.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.nodes.value = [...nodes];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchEdgesValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!store.edges.value.length;\n        pauseModel = watchPausable([models.edges, () => {\n          var _a, _b;\n          return (_b = (_a = models.edges) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([edges]) => {\n          if (edges && Array.isArray(edges)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setEdges(edges);\n            if (!pauseStore && !immediateStore && edges.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.edges, () => store.edges.value.length],\n          ([edges]) => {\n            var _a;\n            if (((_a = models.edges) == null ? void 0 : _a.value) && Array.isArray(models.edges.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.edges.value = [...edges];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchMaxZoom = () => {\n      scope.run(() => {\n        watch(\n          () => props.maxZoom,\n          () => {\n            if (props.maxZoom && isDef(props.maxZoom)) {\n              store.setMaxZoom(props.maxZoom);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchMinZoom = () => {\n      scope.run(() => {\n        watch(\n          () => props.minZoom,\n          () => {\n            if (props.minZoom && isDef(props.minZoom)) {\n              store.setMinZoom(props.minZoom);\n            }\n          },\n          { immediate: true }\n        );\n      });\n    };\n    const watchTranslateExtent = () => {\n      scope.run(() => {\n        watch(\n          () => props.translateExtent,\n          () => {\n            if (props.translateExtent && isDef(props.translateExtent)) {\n              store.setTranslateExtent(props.translateExtent);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchNodeExtent = () => {\n      scope.run(() => {\n        watch(\n          () => props.nodeExtent,\n          () => {\n            if (props.nodeExtent && isDef(props.nodeExtent)) {\n              store.setNodeExtent(props.nodeExtent);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchApplyDefault = () => {\n      scope.run(() => {\n        watch(\n          () => props.applyDefault,\n          () => {\n            if (isDef(props.applyDefault)) {\n              store.applyDefault.value = props.applyDefault;\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchAutoConnect = () => {\n      scope.run(() => {\n        const autoConnector = async (params) => {\n          let connection = params;\n          if (typeof props.autoConnect === \"function\") {\n            connection = await props.autoConnect(params);\n          }\n          if (connection !== false) {\n            store.addEdges([connection]);\n          }\n        };\n        watch(\n          () => props.autoConnect,\n          () => {\n            if (isDef(props.autoConnect)) {\n              store.autoConnect.value = props.autoConnect;\n            }\n          },\n          { immediate: true }\n        );\n        watch(\n          store.autoConnect,\n          (autoConnectEnabled, _, onCleanup) => {\n            if (autoConnectEnabled) {\n              store.onConnect(autoConnector);\n            } else {\n              store.hooks.value.connect.off(autoConnector);\n            }\n            onCleanup(() => {\n              store.hooks.value.connect.off(autoConnector);\n            });\n          },\n          { immediate: true }\n        );\n      });\n    };\n    const watchRest = () => {\n      const skip = [\n        \"id\",\n        \"modelValue\",\n        \"translateExtent\",\n        \"nodeExtent\",\n        \"edges\",\n        \"nodes\",\n        \"maxZoom\",\n        \"minZoom\",\n        \"applyDefault\",\n        \"autoConnect\"\n      ];\n      for (const key of Object.keys(props)) {\n        const propKey = key;\n        if (!skip.includes(propKey)) {\n          const propValue = toRef(() => props[propKey]);\n          const storeRef = store[propKey];\n          if (isRef(storeRef)) {\n            scope.run(() => {\n              watch(\n                propValue,\n                (nextValue) => {\n                  if (isDef(nextValue)) {\n                    storeRef.value = nextValue;\n                  }\n                },\n                { immediate: true }\n              );\n            });\n          }\n        }\n      }\n    };\n    const runAll = () => {\n      watchModelValue();\n      watchNodesValue();\n      watchEdgesValue();\n      watchMinZoom();\n      watchMaxZoom();\n      watchTranslateExtent();\n      watchNodeExtent();\n      watchApplyDefault();\n      watchAutoConnect();\n      watchRest();\n    };\n    runAll();\n  });\n  return () => scope.stop();\n}\nfunction useZoomPanHelper(vueFlowId) {\n  const state = useVueFlow({ id: vueFlowId });\n  const viewportHelper = useViewportHelper(toReactive(state));\n  return {\n    fitView: (params) => viewportHelper.value.fitView(params),\n    zoomIn: (transitionOpts) => viewportHelper.value.zoomIn(transitionOpts),\n    zoomOut: (transitionOpts) => viewportHelper.value.zoomOut(transitionOpts),\n    zoomTo: (zoomLevel, transitionOpts) => viewportHelper.value.zoomTo(zoomLevel, transitionOpts),\n    setViewport: (params, transitionOpts) => viewportHelper.value.setViewport(params, transitionOpts),\n    setTransform: (params, transitionOpts) => viewportHelper.value.setTransform(params, transitionOpts),\n    getViewport: () => viewportHelper.value.getViewport(),\n    getTransform: () => viewportHelper.value.getTransform(),\n    setCenter: (x, y, opts) => viewportHelper.value.setCenter(x, y, opts),\n    fitBounds: (params, opts) => viewportHelper.value.fitBounds(params, opts),\n    project: (params) => viewportHelper.value.project(params)\n  };\n}\nfunction createHooks() {\n  return {\n    edgesChange: createExtendedEventHook(),\n    nodesChange: createExtendedEventHook(),\n    nodeDoubleClick: createExtendedEventHook(),\n    nodeClick: createExtendedEventHook(),\n    nodeMouseEnter: createExtendedEventHook(),\n    nodeMouseMove: createExtendedEventHook(),\n    nodeMouseLeave: createExtendedEventHook(),\n    nodeContextMenu: createExtendedEventHook(),\n    nodeDragStart: createExtendedEventHook(),\n    nodeDrag: createExtendedEventHook(),\n    nodeDragStop: createExtendedEventHook(),\n    nodesInitialized: createExtendedEventHook(),\n    miniMapNodeClick: createExtendedEventHook(),\n    miniMapNodeDoubleClick: createExtendedEventHook(),\n    miniMapNodeMouseEnter: createExtendedEventHook(),\n    miniMapNodeMouseMove: createExtendedEventHook(),\n    miniMapNodeMouseLeave: createExtendedEventHook(),\n    connect: createExtendedEventHook(),\n    connectStart: createExtendedEventHook(),\n    connectEnd: createExtendedEventHook(),\n    clickConnectStart: createExtendedEventHook(),\n    clickConnectEnd: createExtendedEventHook(),\n    paneReady: createExtendedEventHook(),\n    init: createExtendedEventHook(),\n    move: createExtendedEventHook(),\n    moveStart: createExtendedEventHook(),\n    moveEnd: createExtendedEventHook(),\n    selectionDragStart: createExtendedEventHook(),\n    selectionDrag: createExtendedEventHook(),\n    selectionDragStop: createExtendedEventHook(),\n    selectionContextMenu: createExtendedEventHook(),\n    selectionStart: createExtendedEventHook(),\n    selectionEnd: createExtendedEventHook(),\n    viewportChangeStart: createExtendedEventHook(),\n    viewportChange: createExtendedEventHook(),\n    viewportChangeEnd: createExtendedEventHook(),\n    paneScroll: createExtendedEventHook(),\n    paneClick: createExtendedEventHook(),\n    paneContextMenu: createExtendedEventHook(),\n    paneMouseEnter: createExtendedEventHook(),\n    paneMouseMove: createExtendedEventHook(),\n    paneMouseLeave: createExtendedEventHook(),\n    edgeContextMenu: createExtendedEventHook(),\n    edgeMouseEnter: createExtendedEventHook(),\n    edgeMouseMove: createExtendedEventHook(),\n    edgeMouseLeave: createExtendedEventHook(),\n    edgeDoubleClick: createExtendedEventHook(),\n    edgeClick: createExtendedEventHook(),\n    edgeUpdateStart: createExtendedEventHook(),\n    edgeUpdate: createExtendedEventHook(),\n    edgeUpdateEnd: createExtendedEventHook(),\n    updateNodeInternals: createExtendedEventHook(),\n    error: createExtendedEventHook((err) => warn(err.message))\n  };\n}\nfunction useHooks(emit, hooks) {\n  const inst = getCurrentInstance();\n  onBeforeMount(() => {\n    for (const [key, value] of Object.entries(hooks.value)) {\n      const listener = (data) => {\n        emit(key, data);\n      };\n      value.setEmitter(listener);\n      tryOnScopeDispose(value.removeEmitter);\n      value.setHasEmitListeners(() => hasVNodeListener(key));\n      tryOnScopeDispose(value.removeHasEmitListeners);\n    }\n  });\n  function hasVNodeListener(event) {\n    var _a;\n    const key = toHandlerKey(event);\n    const h2 = (_a = inst == null ? void 0 : inst.vnode.props) == null ? void 0 : _a[key];\n    return !!h2;\n  }\n}\nfunction toHandlerKey(event) {\n  const [head, ...rest] = event.split(\":\");\n  const camel = head.replace(/(?:^|-)(\\w)/g, (_, c) => c.toUpperCase());\n  return `on${camel}${rest.length ? `:${rest.join(\":\")}` : \"\"}`;\n}\nfunction useState() {\n  return {\n    vueFlowRef: null,\n    viewportRef: null,\n    nodes: [],\n    edges: [],\n    connectionLookup: /* @__PURE__ */ new Map(),\n    nodeTypes: {},\n    edgeTypes: {},\n    initialized: false,\n    dimensions: {\n      width: 0,\n      height: 0\n    },\n    viewport: { x: 0, y: 0, zoom: 1 },\n    d3Zoom: null,\n    d3Selection: null,\n    d3ZoomHandler: null,\n    minZoom: 0.5,\n    maxZoom: 2,\n    translateExtent: [\n      [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n      [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n    ],\n    nodeExtent: [\n      [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n      [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n    ],\n    selectionMode: SelectionMode.Full,\n    paneDragging: false,\n    preventScrolling: true,\n    zoomOnScroll: true,\n    zoomOnPinch: true,\n    zoomOnDoubleClick: true,\n    panOnScroll: false,\n    panOnScrollSpeed: 0.5,\n    panOnScrollMode: PanOnScrollMode.Free,\n    paneClickDistance: 0,\n    panOnDrag: true,\n    edgeUpdaterRadius: 10,\n    onlyRenderVisibleElements: false,\n    defaultViewport: { x: 0, y: 0, zoom: 1 },\n    nodesSelectionActive: false,\n    userSelectionActive: false,\n    userSelectionRect: null,\n    defaultMarkerColor: \"#b1b1b7\",\n    connectionLineStyle: {},\n    connectionLineType: null,\n    connectionLineOptions: {\n      type: ConnectionLineType.Bezier,\n      style: {}\n    },\n    connectionMode: ConnectionMode.Loose,\n    connectionStartHandle: null,\n    connectionEndHandle: null,\n    connectionClickStartHandle: null,\n    connectionPosition: { x: Number.NaN, y: Number.NaN },\n    connectionRadius: 20,\n    connectOnClick: true,\n    connectionStatus: null,\n    isValidConnection: null,\n    snapGrid: [15, 15],\n    snapToGrid: false,\n    edgesUpdatable: false,\n    edgesFocusable: true,\n    nodesFocusable: true,\n    nodesConnectable: true,\n    nodesDraggable: true,\n    nodeDragThreshold: 1,\n    elementsSelectable: true,\n    selectNodesOnDrag: true,\n    multiSelectionActive: false,\n    selectionKeyCode: \"Shift\",\n    multiSelectionKeyCode: isMacOs() ? \"Meta\" : \"Control\",\n    zoomActivationKeyCode: isMacOs() ? \"Meta\" : \"Control\",\n    deleteKeyCode: \"Backspace\",\n    panActivationKeyCode: \"Space\",\n    hooks: createHooks(),\n    applyDefault: true,\n    autoConnect: false,\n    fitViewOnInit: false,\n    fitViewOnInitDone: false,\n    noDragClassName: \"nodrag\",\n    noWheelClassName: \"nowheel\",\n    noPanClassName: \"nopan\",\n    defaultEdgeOptions: void 0,\n    elevateEdgesOnSelect: false,\n    elevateNodesOnSelect: true,\n    autoPanOnNodeDrag: true,\n    autoPanOnConnect: true,\n    autoPanSpeed: 15,\n    disableKeyboardA11y: false,\n    ariaLiveMessage: \"\"\n  };\n}\nconst storeOptionsToSkip = [\n  \"id\",\n  \"vueFlowRef\",\n  \"viewportRef\",\n  \"initialized\",\n  \"modelValue\",\n  \"nodes\",\n  \"edges\",\n  \"maxZoom\",\n  \"minZoom\",\n  \"translateExtent\",\n  \"hooks\",\n  \"defaultEdgeOptions\"\n];\nfunction useActions(state, nodeLookup, edgeLookup) {\n  const viewportHelper = useViewportHelper(state);\n  const updateNodeInternals = (ids) => {\n    const updateIds = ids ?? [];\n    state.hooks.updateNodeInternals.trigger(updateIds);\n  };\n  const getIncomers$1 = (nodeOrId) => {\n    return getIncomers(nodeOrId, state.nodes, state.edges);\n  };\n  const getOutgoers$1 = (nodeOrId) => {\n    return getOutgoers(nodeOrId, state.nodes, state.edges);\n  };\n  const getConnectedEdges$1 = (nodesOrId) => {\n    return getConnectedEdges(nodesOrId, state.edges);\n  };\n  const getHandleConnections = ({ id: id2, type, nodeId }) => {\n    var _a;\n    const handleSuffix = id2 ? `-${type}-${id2}` : `-${type}`;\n    return Array.from(((_a = state.connectionLookup.get(`${nodeId}${handleSuffix}`)) == null ? void 0 : _a.values()) ?? []);\n  };\n  const findNode = (id2) => {\n    if (!id2) {\n      return;\n    }\n    return nodeLookup.value.get(id2);\n  };\n  const findEdge = (id2) => {\n    if (!id2) {\n      return;\n    }\n    return edgeLookup.value.get(id2);\n  };\n  const updateNodePositions = (dragItems, changed, dragging) => {\n    var _a, _b;\n    const changes = [];\n    for (const node of dragItems) {\n      const change = {\n        id: node.id,\n        type: \"position\",\n        dragging,\n        from: node.from\n      };\n      if (changed) {\n        change.position = node.position;\n        if (node.parentNode) {\n          const parentNode = findNode(node.parentNode);\n          change.position = {\n            x: change.position.x - (((_a = parentNode == null ? void 0 : parentNode.computedPosition) == null ? void 0 : _a.x) ?? 0),\n            y: change.position.y - (((_b = parentNode == null ? void 0 : parentNode.computedPosition) == null ? void 0 : _b.y) ?? 0)\n          };\n        }\n      }\n      changes.push(change);\n    }\n    if (changes == null ? void 0 : changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const updateNodeDimensions = (updates) => {\n    if (!state.vueFlowRef) {\n      return;\n    }\n    const viewportNode = state.vueFlowRef.querySelector(\".vue-flow__transformationpane\");\n    if (!viewportNode) {\n      return;\n    }\n    const style = window.getComputedStyle(viewportNode);\n    const { m22: zoom2 } = new window.DOMMatrixReadOnly(style.transform);\n    const changes = [];\n    for (const element of updates) {\n      const update = element;\n      const node = findNode(update.id);\n      if (node) {\n        const dimensions = getDimensions(update.nodeElement);\n        const doUpdate = !!(dimensions.width && dimensions.height && (node.dimensions.width !== dimensions.width || node.dimensions.height !== dimensions.height || update.forceUpdate));\n        if (doUpdate) {\n          const nodeBounds = update.nodeElement.getBoundingClientRect();\n          node.dimensions = dimensions;\n          node.handleBounds.source = getHandleBounds(\"source\", update.nodeElement, nodeBounds, zoom2, node.id);\n          node.handleBounds.target = getHandleBounds(\"target\", update.nodeElement, nodeBounds, zoom2, node.id);\n          changes.push({\n            id: node.id,\n            type: \"dimensions\",\n            dimensions\n          });\n        }\n      }\n    }\n    if (!state.fitViewOnInitDone && state.fitViewOnInit) {\n      viewportHelper.value.fitView().then(() => {\n        state.fitViewOnInitDone = true;\n      });\n    }\n    if (changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const elementSelectionHandler = (elements, selected) => {\n    const nodeIds = /* @__PURE__ */ new Set();\n    const edgeIds = /* @__PURE__ */ new Set();\n    for (const element of elements) {\n      if (isNode(element)) {\n        nodeIds.add(element.id);\n      } else if (isEdge(element)) {\n        edgeIds.add(element.id);\n      }\n    }\n    const changedNodes = getSelectionChanges(nodeLookup.value, nodeIds, true);\n    const changedEdges = getSelectionChanges(edgeLookup.value, edgeIds);\n    if (state.multiSelectionActive) {\n      for (const nodeId of nodeIds) {\n        changedNodes.push(createSelectionChange(nodeId, selected));\n      }\n      for (const edgeId of edgeIds) {\n        changedEdges.push(createSelectionChange(edgeId, selected));\n      }\n    }\n    if (changedNodes.length) {\n      state.hooks.nodesChange.trigger(changedNodes);\n    }\n    if (changedEdges.length) {\n      state.hooks.edgesChange.trigger(changedEdges);\n    }\n  };\n  const addSelectedNodes = (nodes) => {\n    if (state.multiSelectionActive) {\n      const nodeChanges = nodes.map((node) => createSelectionChange(node.id, true));\n      state.hooks.nodesChange.trigger(nodeChanges);\n      return;\n    }\n    state.hooks.nodesChange.trigger(getSelectionChanges(nodeLookup.value, new Set(nodes.map((n) => n.id)), true));\n    state.hooks.edgesChange.trigger(getSelectionChanges(edgeLookup.value));\n  };\n  const addSelectedEdges = (edges) => {\n    if (state.multiSelectionActive) {\n      const changedEdges = edges.map((edge) => createSelectionChange(edge.id, true));\n      state.hooks.edgesChange.trigger(changedEdges);\n      return;\n    }\n    state.hooks.edgesChange.trigger(getSelectionChanges(edgeLookup.value, new Set(edges.map((e) => e.id))));\n    state.hooks.nodesChange.trigger(getSelectionChanges(nodeLookup.value, /* @__PURE__ */ new Set(), true));\n  };\n  const addSelectedElements = (elements) => {\n    elementSelectionHandler(elements, true);\n  };\n  const removeSelectedNodes = (nodes) => {\n    const nodesToUnselect = nodes || state.nodes;\n    const nodeChanges = nodesToUnselect.map((n) => {\n      n.selected = false;\n      return createSelectionChange(n.id, false);\n    });\n    state.hooks.nodesChange.trigger(nodeChanges);\n  };\n  const removeSelectedEdges = (edges) => {\n    const edgesToUnselect = edges || state.edges;\n    const edgeChanges = edgesToUnselect.map((e) => {\n      e.selected = false;\n      return createSelectionChange(e.id, false);\n    });\n    state.hooks.edgesChange.trigger(edgeChanges);\n  };\n  const removeSelectedElements = (elements) => {\n    if (!elements || !elements.length) {\n      return elementSelectionHandler([], false);\n    }\n    const changes = elements.reduce(\n      (changes2, curr) => {\n        const selectionChange = createSelectionChange(curr.id, false);\n        if (isNode(curr)) {\n          changes2.nodes.push(selectionChange);\n        } else {\n          changes2.edges.push(selectionChange);\n        }\n        return changes2;\n      },\n      { nodes: [], edges: [] }\n    );\n    if (changes.nodes.length) {\n      state.hooks.nodesChange.trigger(changes.nodes);\n    }\n    if (changes.edges.length) {\n      state.hooks.edgesChange.trigger(changes.edges);\n    }\n  };\n  const setMinZoom = (minZoom) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.scaleExtent([minZoom, state.maxZoom]);\n    state.minZoom = minZoom;\n  };\n  const setMaxZoom = (maxZoom) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.scaleExtent([state.minZoom, maxZoom]);\n    state.maxZoom = maxZoom;\n  };\n  const setTranslateExtent = (translateExtent) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.translateExtent(translateExtent);\n    state.translateExtent = translateExtent;\n  };\n  const setNodeExtent = (nodeExtent) => {\n    state.nodeExtent = nodeExtent;\n    updateNodeInternals();\n  };\n  const setPaneClickDistance = (clickDistance) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.clickDistance(clickDistance);\n  };\n  const setInteractive = (isInteractive) => {\n    state.nodesDraggable = isInteractive;\n    state.nodesConnectable = isInteractive;\n    state.elementsSelectable = isInteractive;\n  };\n  const setNodes = (nodes) => {\n    const nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    if (!state.initialized && !nextNodes.length) {\n      return;\n    }\n    state.nodes = createGraphNodes(nextNodes, findNode, state.hooks.error.trigger);\n  };\n  const setEdges = (edges) => {\n    const nextEdges = edges instanceof Function ? edges(state.edges) : edges;\n    if (!state.initialized && !nextEdges.length) {\n      return;\n    }\n    const validEdges = createGraphEdges(\n      nextEdges,\n      state.isValidConnection,\n      findNode,\n      findEdge,\n      state.hooks.error.trigger,\n      state.defaultEdgeOptions,\n      state.nodes,\n      state.edges\n    );\n    updateConnectionLookup(state.connectionLookup, edgeLookup.value, validEdges);\n    state.edges = validEdges;\n  };\n  const setElements = (elements) => {\n    const nextElements = elements instanceof Function ? elements([...state.nodes, ...state.edges]) : elements;\n    if (!state.initialized && !nextElements.length) {\n      return;\n    }\n    setNodes(nextElements.filter(isNode));\n    setEdges(nextElements.filter(isEdge));\n  };\n  const addNodes = (nodes) => {\n    let nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    nextNodes = Array.isArray(nextNodes) ? nextNodes : [nextNodes];\n    const graphNodes = createGraphNodes(nextNodes, findNode, state.hooks.error.trigger);\n    const changes = [];\n    for (const node of graphNodes) {\n      changes.push(createAdditionChange(node));\n    }\n    if (changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const addEdges = (params) => {\n    let nextEdges = params instanceof Function ? params(state.edges) : params;\n    nextEdges = Array.isArray(nextEdges) ? nextEdges : [nextEdges];\n    const validEdges = createGraphEdges(\n      nextEdges,\n      state.isValidConnection,\n      findNode,\n      findEdge,\n      state.hooks.error.trigger,\n      state.defaultEdgeOptions,\n      state.nodes,\n      state.edges\n    );\n    const changes = [];\n    for (const edge of validEdges) {\n      changes.push(createAdditionChange(edge));\n    }\n    if (changes.length) {\n      state.hooks.edgesChange.trigger(changes);\n    }\n  };\n  const removeNodes = (nodes, removeConnectedEdges = true, removeChildren = false) => {\n    const nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    const nodesToRemove = Array.isArray(nextNodes) ? nextNodes : [nextNodes];\n    const nodeChanges = [];\n    const edgeChanges = [];\n    function createEdgeRemovalChanges(nodes2) {\n      const connectedEdges = getConnectedEdges$1(nodes2);\n      for (const edge of connectedEdges) {\n        if (isDef(edge.deletable) ? edge.deletable : true) {\n          edgeChanges.push(createEdgeRemoveChange(edge.id, edge.source, edge.target, edge.sourceHandle, edge.targetHandle));\n        }\n      }\n    }\n    function createChildrenRemovalChanges(id2) {\n      const children2 = [];\n      for (const node of state.nodes) {\n        if (node.parentNode === id2) {\n          children2.push(node);\n        }\n      }\n      if (children2.length) {\n        for (const child of children2) {\n          nodeChanges.push(createNodeRemoveChange(child.id));\n        }\n        if (removeConnectedEdges) {\n          createEdgeRemovalChanges(children2);\n        }\n        for (const child of children2) {\n          createChildrenRemovalChanges(child.id);\n        }\n      }\n    }\n    for (const item of nodesToRemove) {\n      const currNode = typeof item === \"string\" ? findNode(item) : item;\n      if (!currNode) {\n        continue;\n      }\n      if (isDef(currNode.deletable) && !currNode.deletable) {\n        continue;\n      }\n      nodeChanges.push(createNodeRemoveChange(currNode.id));\n      if (removeConnectedEdges) {\n        createEdgeRemovalChanges([currNode]);\n      }\n      if (removeChildren) {\n        createChildrenRemovalChanges(currNode.id);\n      }\n    }\n    if (edgeChanges.length) {\n      state.hooks.edgesChange.trigger(edgeChanges);\n    }\n    if (nodeChanges.length) {\n      state.hooks.nodesChange.trigger(nodeChanges);\n    }\n  };\n  const removeEdges = (edges) => {\n    const nextEdges = edges instanceof Function ? edges(state.edges) : edges;\n    const edgesToRemove = Array.isArray(nextEdges) ? nextEdges : [nextEdges];\n    const changes = [];\n    for (const item of edgesToRemove) {\n      const currEdge = typeof item === \"string\" ? findEdge(item) : item;\n      if (!currEdge) {\n        continue;\n      }\n      if (isDef(currEdge.deletable) && !currEdge.deletable) {\n        continue;\n      }\n      changes.push(\n        createEdgeRemoveChange(\n          typeof item === \"string\" ? item : item.id,\n          currEdge.source,\n          currEdge.target,\n          currEdge.sourceHandle,\n          currEdge.targetHandle\n        )\n      );\n    }\n    state.hooks.edgesChange.trigger(changes);\n  };\n  const updateEdge2 = (oldEdge, newConnection, shouldReplaceId = true) => {\n    const prevEdge = findEdge(oldEdge.id);\n    if (!prevEdge) {\n      return false;\n    }\n    const prevEdgeIndex = state.edges.indexOf(prevEdge);\n    const newEdge = updateEdgeAction(oldEdge, newConnection, prevEdge, shouldReplaceId, state.hooks.error.trigger);\n    if (newEdge) {\n      const [validEdge] = createGraphEdges(\n        [newEdge],\n        state.isValidConnection,\n        findNode,\n        findEdge,\n        state.hooks.error.trigger,\n        state.defaultEdgeOptions,\n        state.nodes,\n        state.edges\n      );\n      state.edges = state.edges.map((edge, index) => index === prevEdgeIndex ? validEdge : edge);\n      updateConnectionLookup(state.connectionLookup, edgeLookup.value, [validEdge]);\n      return validEdge;\n    }\n    return false;\n  };\n  const updateEdgeData = (id2, dataUpdate, options = { replace: false }) => {\n    const edge = findEdge(id2);\n    if (!edge) {\n      return;\n    }\n    const nextData = typeof dataUpdate === \"function\" ? dataUpdate(edge) : dataUpdate;\n    edge.data = options.replace ? nextData : { ...edge.data, ...nextData };\n  };\n  const applyNodeChanges2 = (changes) => {\n    return applyChanges(changes, state.nodes);\n  };\n  const applyEdgeChanges2 = (changes) => {\n    const changedEdges = applyChanges(changes, state.edges);\n    updateConnectionLookup(state.connectionLookup, edgeLookup.value, changedEdges);\n    return changedEdges;\n  };\n  const updateNode = (id2, nodeUpdate, options = { replace: false }) => {\n    const node = findNode(id2);\n    if (!node) {\n      return;\n    }\n    const nextNode = typeof nodeUpdate === \"function\" ? nodeUpdate(node) : nodeUpdate;\n    if (options.replace) {\n      state.nodes.splice(state.nodes.indexOf(node), 1, nextNode);\n    } else {\n      Object.assign(node, nextNode);\n    }\n  };\n  const updateNodeData = (id2, dataUpdate, options = { replace: false }) => {\n    const node = findNode(id2);\n    if (!node) {\n      return;\n    }\n    const nextData = typeof dataUpdate === \"function\" ? dataUpdate(node) : dataUpdate;\n    node.data = options.replace ? nextData : { ...node.data, ...nextData };\n  };\n  const startConnection = (startHandle, position, isClick = false) => {\n    if (isClick) {\n      state.connectionClickStartHandle = startHandle;\n    } else {\n      state.connectionStartHandle = startHandle;\n    }\n    state.connectionEndHandle = null;\n    state.connectionStatus = null;\n    if (position) {\n      state.connectionPosition = position;\n    }\n  };\n  const updateConnection = (position, result = null, status = null) => {\n    if (state.connectionStartHandle) {\n      state.connectionPosition = position;\n      state.connectionEndHandle = result;\n      state.connectionStatus = status;\n    }\n  };\n  const endConnection = (event, isClick) => {\n    state.connectionPosition = { x: Number.NaN, y: Number.NaN };\n    state.connectionEndHandle = null;\n    state.connectionStatus = null;\n    if (isClick) {\n      state.connectionClickStartHandle = null;\n    } else {\n      state.connectionStartHandle = null;\n    }\n  };\n  const getNodeRect = (nodeOrRect) => {\n    const isRectObj = isRect(nodeOrRect);\n    const node = isRectObj ? null : isGraphNode(nodeOrRect) ? nodeOrRect : findNode(nodeOrRect.id);\n    if (!isRectObj && !node) {\n      return [null, null, isRectObj];\n    }\n    const nodeRect = isRectObj ? nodeOrRect : nodeToRect(node);\n    return [nodeRect, node, isRectObj];\n  };\n  const getIntersectingNodes = (nodeOrRect, partially = true, nodes = state.nodes) => {\n    const [nodeRect, node, isRect2] = getNodeRect(nodeOrRect);\n    if (!nodeRect) {\n      return [];\n    }\n    const intersections = [];\n    for (const n of nodes || state.nodes) {\n      if (!isRect2 && (n.id === node.id || !n.computedPosition)) {\n        continue;\n      }\n      const currNodeRect = nodeToRect(n);\n      const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n      const partiallyVisible = partially && overlappingArea > 0;\n      if (partiallyVisible || overlappingArea >= currNodeRect.width * currNodeRect.height || overlappingArea >= Number(nodeRect.width) * Number(nodeRect.height)) {\n        intersections.push(n);\n      }\n    }\n    return intersections;\n  };\n  const isNodeIntersecting = (nodeOrRect, area, partially = true) => {\n    const [nodeRect] = getNodeRect(nodeOrRect);\n    if (!nodeRect) {\n      return false;\n    }\n    const overlappingArea = getOverlappingArea(nodeRect, area);\n    const partiallyVisible = partially && overlappingArea > 0;\n    return partiallyVisible || overlappingArea >= Number(nodeRect.width) * Number(nodeRect.height);\n  };\n  const panBy = (delta) => {\n    const { viewport, dimensions, d3Zoom, d3Selection, translateExtent } = state;\n    if (!d3Zoom || !d3Selection || !delta.x && !delta.y) {\n      return false;\n    }\n    const nextTransform = identity.translate(viewport.x + delta.x, viewport.y + delta.y).scale(viewport.zoom);\n    const extent = [\n      [0, 0],\n      [dimensions.width, dimensions.height]\n    ];\n    const constrainedTransform = d3Zoom.constrain()(nextTransform, extent, translateExtent);\n    const transformChanged = state.viewport.x !== constrainedTransform.x || state.viewport.y !== constrainedTransform.y || state.viewport.zoom !== constrainedTransform.k;\n    d3Zoom.transform(d3Selection, constrainedTransform);\n    return transformChanged;\n  };\n  const setState = (options) => {\n    const opts = options instanceof Function ? options(state) : options;\n    const exclude = [\n      \"d3Zoom\",\n      \"d3Selection\",\n      \"d3ZoomHandler\",\n      \"viewportRef\",\n      \"vueFlowRef\",\n      \"dimensions\",\n      \"hooks\"\n    ];\n    if (isDef(opts.defaultEdgeOptions)) {\n      state.defaultEdgeOptions = opts.defaultEdgeOptions;\n    }\n    const elements = opts.modelValue || opts.nodes || opts.edges ? [] : void 0;\n    if (elements) {\n      if (opts.modelValue) {\n        elements.push(...opts.modelValue);\n      }\n      if (opts.nodes) {\n        elements.push(...opts.nodes);\n      }\n      if (opts.edges) {\n        elements.push(...opts.edges);\n      }\n      setElements(elements);\n    }\n    const setSkippedOptions = () => {\n      if (isDef(opts.maxZoom)) {\n        setMaxZoom(opts.maxZoom);\n      }\n      if (isDef(opts.minZoom)) {\n        setMinZoom(opts.minZoom);\n      }\n      if (isDef(opts.translateExtent)) {\n        setTranslateExtent(opts.translateExtent);\n      }\n    };\n    for (const o of Object.keys(opts)) {\n      const key = o;\n      const option = opts[key];\n      if (![...storeOptionsToSkip, ...exclude].includes(key) && isDef(option)) {\n        state[key] = option;\n      }\n    }\n    until(() => state.d3Zoom).not.toBeNull().then(setSkippedOptions);\n    if (!state.initialized) {\n      state.initialized = true;\n    }\n  };\n  const toObject = () => {\n    const nodes = [];\n    const edges = [];\n    for (const node of state.nodes) {\n      const {\n        computedPosition: _,\n        handleBounds: __,\n        selected: ___,\n        dimensions: ____,\n        isParent: _____,\n        resizing: ______,\n        dragging: _______,\n        events: _________,\n        ...rest\n      } = node;\n      nodes.push(rest);\n    }\n    for (const edge of state.edges) {\n      const { selected: _, sourceNode: __, targetNode: ___, events: ____, ...rest } = edge;\n      edges.push(rest);\n    }\n    return JSON.parse(\n      JSON.stringify({\n        nodes,\n        edges,\n        position: [state.viewport.x, state.viewport.y],\n        zoom: state.viewport.zoom,\n        viewport: state.viewport\n      })\n    );\n  };\n  const fromObject = (obj) => {\n    return new Promise((resolve) => {\n      const { nodes, edges, position, zoom: zoom2, viewport } = obj;\n      if (nodes) {\n        setNodes(nodes);\n      }\n      if (edges) {\n        setEdges(edges);\n      }\n      if ((viewport == null ? void 0 : viewport.x) && (viewport == null ? void 0 : viewport.y) || position) {\n        const x = (viewport == null ? void 0 : viewport.x) || position[0];\n        const y = (viewport == null ? void 0 : viewport.y) || position[1];\n        const nextZoom = (viewport == null ? void 0 : viewport.zoom) || zoom2 || state.viewport.zoom;\n        return until(() => viewportHelper.value.viewportInitialized).toBe(true).then(() => {\n          viewportHelper.value.setViewport({\n            x,\n            y,\n            zoom: nextZoom\n          }).then(() => {\n            resolve(true);\n          });\n        });\n      } else {\n        resolve(true);\n      }\n    });\n  };\n  const $reset = () => {\n    const resetState = useState();\n    state.edges = [];\n    state.nodes = [];\n    if (state.d3Zoom && state.d3Selection) {\n      const updatedTransform = identity.translate(resetState.defaultViewport.x ?? 0, resetState.defaultViewport.y ?? 0).scale(clamp(resetState.defaultViewport.zoom ?? 1, resetState.minZoom, resetState.maxZoom));\n      const bbox = state.viewportRef.getBoundingClientRect();\n      const extent = [\n        [0, 0],\n        [bbox.width, bbox.height]\n      ];\n      const constrainedTransform = state.d3Zoom.constrain()(updatedTransform, extent, resetState.translateExtent);\n      state.d3Zoom.transform(state.d3Selection, constrainedTransform);\n    }\n    setState(resetState);\n  };\n  return {\n    updateNodePositions,\n    updateNodeDimensions,\n    setElements,\n    setNodes,\n    setEdges,\n    addNodes,\n    addEdges,\n    removeNodes,\n    removeEdges,\n    findNode,\n    findEdge,\n    updateEdge: updateEdge2,\n    updateEdgeData,\n    updateNode,\n    updateNodeData,\n    applyEdgeChanges: applyEdgeChanges2,\n    applyNodeChanges: applyNodeChanges2,\n    addSelectedElements,\n    addSelectedNodes,\n    addSelectedEdges,\n    setMinZoom,\n    setMaxZoom,\n    setTranslateExtent,\n    setNodeExtent,\n    setPaneClickDistance,\n    removeSelectedElements,\n    removeSelectedNodes,\n    removeSelectedEdges,\n    startConnection,\n    updateConnection,\n    endConnection,\n    setInteractive,\n    setState,\n    getIntersectingNodes,\n    getIncomers: getIncomers$1,\n    getOutgoers: getOutgoers$1,\n    getConnectedEdges: getConnectedEdges$1,\n    getHandleConnections,\n    isNodeIntersecting,\n    panBy,\n    fitView: (params) => viewportHelper.value.fitView(params),\n    zoomIn: (transitionOpts) => viewportHelper.value.zoomIn(transitionOpts),\n    zoomOut: (transitionOpts) => viewportHelper.value.zoomOut(transitionOpts),\n    zoomTo: (zoomLevel, transitionOpts) => viewportHelper.value.zoomTo(zoomLevel, transitionOpts),\n    setViewport: (params, transitionOpts) => viewportHelper.value.setViewport(params, transitionOpts),\n    setTransform: (params, transitionOpts) => viewportHelper.value.setTransform(params, transitionOpts),\n    getViewport: () => viewportHelper.value.getViewport(),\n    getTransform: () => viewportHelper.value.getTransform(),\n    setCenter: (x, y, opts) => viewportHelper.value.setCenter(x, y, opts),\n    fitBounds: (params, opts) => viewportHelper.value.fitBounds(params, opts),\n    project: (params) => viewportHelper.value.project(params),\n    screenToFlowCoordinate: (params) => viewportHelper.value.screenToFlowCoordinate(params),\n    flowToScreenCoordinate: (params) => viewportHelper.value.flowToScreenCoordinate(params),\n    toObject,\n    fromObject,\n    updateNodeInternals,\n    viewportHelper,\n    $reset,\n    $destroy: () => {\n    }\n  };\n}\nconst _hoisted_1$9 = [\"data-id\", \"data-handleid\", \"data-nodeid\", \"data-handlepos\"];\nconst __default__$f = {\n  name: \"Handle\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$f = /* @__PURE__ */ defineComponent({\n  ...__default__$f,\n  props: {\n    id: { default: null },\n    type: {},\n    position: { default: () => Position.Top },\n    isValidConnection: { type: Function },\n    connectable: { type: [Boolean, Number, String, Function], default: void 0 },\n    connectableStart: { type: Boolean, default: true },\n    connectableEnd: { type: Boolean, default: true }\n  },\n  setup(__props, { expose: __expose }) {\n    const props = createPropsRestProxy(__props, [\"position\", \"connectable\", \"connectableStart\", \"connectableEnd\", \"id\"]);\n    const type = toRef(() => props.type ?? \"source\");\n    const isValidConnection = toRef(() => props.isValidConnection ?? null);\n    const {\n      id: flowId,\n      connectionStartHandle,\n      connectionClickStartHandle,\n      connectionEndHandle,\n      vueFlowRef,\n      nodesConnectable,\n      noDragClassName,\n      noPanClassName\n    } = useVueFlow();\n    const { id: nodeId, node, nodeEl, connectedEdges } = useNode();\n    const handle = ref();\n    const isConnectableStart = toRef(() => typeof __props.connectableStart !== \"undefined\" ? __props.connectableStart : true);\n    const isConnectableEnd = toRef(() => typeof __props.connectableEnd !== \"undefined\" ? __props.connectableEnd : true);\n    const isConnecting = toRef(\n      () => {\n        var _a, _b, _c, _d, _e, _f;\n        return ((_a = connectionStartHandle.value) == null ? void 0 : _a.nodeId) === nodeId && ((_b = connectionStartHandle.value) == null ? void 0 : _b.id) === __props.id && ((_c = connectionStartHandle.value) == null ? void 0 : _c.type) === type.value || ((_d = connectionEndHandle.value) == null ? void 0 : _d.nodeId) === nodeId && ((_e = connectionEndHandle.value) == null ? void 0 : _e.id) === __props.id && ((_f = connectionEndHandle.value) == null ? void 0 : _f.type) === type.value;\n      }\n    );\n    const isClickConnecting = toRef(\n      () => {\n        var _a, _b, _c;\n        return ((_a = connectionClickStartHandle.value) == null ? void 0 : _a.nodeId) === nodeId && ((_b = connectionClickStartHandle.value) == null ? void 0 : _b.id) === __props.id && ((_c = connectionClickStartHandle.value) == null ? void 0 : _c.type) === type.value;\n      }\n    );\n    const { handlePointerDown, handleClick } = useHandle({\n      nodeId,\n      handleId: __props.id,\n      isValidConnection,\n      type\n    });\n    const isConnectable = computed(() => {\n      if (typeof __props.connectable === \"string\" && __props.connectable === \"single\") {\n        return !connectedEdges.value.some((edge) => {\n          const id2 = edge[`${type.value}Handle`];\n          if (edge[type.value] !== nodeId) {\n            return false;\n          }\n          return id2 ? id2 === __props.id : true;\n        });\n      }\n      if (typeof __props.connectable === \"number\") {\n        return connectedEdges.value.filter((edge) => {\n          const id2 = edge[`${type.value}Handle`];\n          if (edge[type.value] !== nodeId) {\n            return false;\n          }\n          return id2 ? id2 === __props.id : true;\n        }).length < __props.connectable;\n      }\n      if (typeof __props.connectable === \"function\") {\n        return __props.connectable(node, connectedEdges.value);\n      }\n      return isDef(__props.connectable) ? __props.connectable : nodesConnectable.value;\n    });\n    onMounted(() => {\n      var _a;\n      if (!node.dimensions.width || !node.dimensions.height) {\n        return;\n      }\n      const existingBounds = (_a = node.handleBounds[type.value]) == null ? void 0 : _a.find((b) => b.id === __props.id);\n      if (!vueFlowRef.value || existingBounds) {\n        return;\n      }\n      const viewportNode = vueFlowRef.value.querySelector(\".vue-flow__transformationpane\");\n      if (!nodeEl.value || !handle.value || !viewportNode || !__props.id) {\n        return;\n      }\n      const nodeBounds = nodeEl.value.getBoundingClientRect();\n      const handleBounds = handle.value.getBoundingClientRect();\n      const style = window.getComputedStyle(viewportNode);\n      const { m22: zoom2 } = new window.DOMMatrixReadOnly(style.transform);\n      const nextBounds = {\n        id: __props.id,\n        position: __props.position,\n        x: (handleBounds.left - nodeBounds.left) / zoom2,\n        y: (handleBounds.top - nodeBounds.top) / zoom2,\n        type: type.value,\n        nodeId,\n        ...getDimensions(handle.value)\n      };\n      node.handleBounds[type.value] = [...node.handleBounds[type.value] ?? [], nextBounds];\n    });\n    function onPointerDown(event) {\n      const isMouseTriggered = isMouseEvent(event);\n      if (isConnectable.value && isConnectableStart.value && (isMouseTriggered && event.button === 0 || !isMouseTriggered)) {\n        handlePointerDown(event);\n      }\n    }\n    function onClick(event) {\n      if (!nodeId || !connectionClickStartHandle.value && !isConnectableStart.value) {\n        return;\n      }\n      if (isConnectable.value) {\n        handleClick(event);\n      }\n    }\n    __expose({\n      handleClick,\n      handlePointerDown,\n      onClick,\n      onPointerDown\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"handle\",\n        ref: handle,\n        \"data-id\": `${unref(flowId)}-${unref(nodeId)}-${__props.id}-${type.value}`,\n        \"data-handleid\": __props.id,\n        \"data-nodeid\": unref(nodeId),\n        \"data-handlepos\": _ctx.position,\n        class: normalizeClass([\"vue-flow__handle\", [\n          `vue-flow__handle-${_ctx.position}`,\n          `vue-flow__handle-${__props.id}`,\n          unref(noDragClassName),\n          unref(noPanClassName),\n          type.value,\n          {\n            connectable: isConnectable.value,\n            connecting: isClickConnecting.value,\n            connectablestart: isConnectableStart.value,\n            connectableend: isConnectableEnd.value,\n            connectionindicator: isConnectable.value && (isConnectableStart.value && !isConnecting.value || isConnectableEnd.value && isConnecting.value)\n          }\n        ]]),\n        onMousedown: onPointerDown,\n        onTouchstartPassive: onPointerDown,\n        onClick\n      }, [\n        renderSlot(_ctx.$slots, \"default\", { id: _ctx.id })\n      ], 42, _hoisted_1$9);\n    };\n  }\n});\nconst DefaultNode = function({\n  sourcePosition = Position.Bottom,\n  targetPosition = Position.Top,\n  label: _label,\n  connectable = true,\n  isValidTargetPos,\n  isValidSourcePos,\n  data\n}) {\n  const label = data.label ?? _label;\n  return [\n    h(_sfc_main$f, { type: \"target\", position: targetPosition, connectable, isValidConnection: isValidTargetPos }),\n    typeof label !== \"string\" && label ? h(label) : h(Fragment, [label]),\n    h(_sfc_main$f, { type: \"source\", position: sourcePosition, connectable, isValidConnection: isValidSourcePos })\n  ];\n};\nDefaultNode.props = [\"sourcePosition\", \"targetPosition\", \"label\", \"isValidTargetPos\", \"isValidSourcePos\", \"connectable\", \"data\"];\nDefaultNode.inheritAttrs = false;\nDefaultNode.compatConfig = { MODE: 3 };\nconst DefaultNode$1 = DefaultNode;\nconst OutputNode = function({\n  targetPosition = Position.Top,\n  label: _label,\n  connectable = true,\n  isValidTargetPos,\n  data\n}) {\n  const label = data.label ?? _label;\n  return [\n    h(_sfc_main$f, { type: \"target\", position: targetPosition, connectable, isValidConnection: isValidTargetPos }),\n    typeof label !== \"string\" && label ? h(label) : h(Fragment, [label])\n  ];\n};\nOutputNode.props = [\"targetPosition\", \"label\", \"isValidTargetPos\", \"connectable\", \"data\"];\nOutputNode.inheritAttrs = false;\nOutputNode.compatConfig = { MODE: 3 };\nconst OutputNode$1 = OutputNode;\nconst InputNode = function({\n  sourcePosition = Position.Bottom,\n  label: _label,\n  connectable = true,\n  isValidSourcePos,\n  data\n}) {\n  const label = data.label ?? _label;\n  return [\n    typeof label !== \"string\" && label ? h(label) : h(Fragment, [label]),\n    h(_sfc_main$f, { type: \"source\", position: sourcePosition, connectable, isValidConnection: isValidSourcePos })\n  ];\n};\nInputNode.props = [\"sourcePosition\", \"label\", \"isValidSourcePos\", \"connectable\", \"data\"];\nInputNode.inheritAttrs = false;\nInputNode.compatConfig = { MODE: 3 };\nconst InputNode$1 = InputNode;\nconst _hoisted_1$8 = [\"transform\"];\nconst _hoisted_2$2 = [\"width\", \"height\", \"x\", \"y\", \"rx\", \"ry\"];\nconst _hoisted_3$1 = [\"y\"];\nconst __default__$e = {\n  name: \"EdgeText\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$e = /* @__PURE__ */ defineComponent({\n  ...__default__$e,\n  props: {\n    x: {},\n    y: {},\n    label: {},\n    labelStyle: { default: () => ({}) },\n    labelShowBg: { type: Boolean, default: true },\n    labelBgStyle: { default: () => ({}) },\n    labelBgPadding: { default: () => [2, 4] },\n    labelBgBorderRadius: { default: 2 }\n  },\n  setup(__props) {\n    const box = ref({ x: 0, y: 0, width: 0, height: 0 });\n    const el = ref(null);\n    const transform = computed(() => `translate(${__props.x - box.value.width / 2} ${__props.y - box.value.height / 2})`);\n    onMounted(getBox);\n    watch([() => __props.x, () => __props.y, el, () => __props.label], getBox);\n    function getBox() {\n      if (!el.value) {\n        return;\n      }\n      const nextBox = el.value.getBBox();\n      if (nextBox.width !== box.value.width || nextBox.height !== box.value.height) {\n        box.value = nextBox;\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"g\", {\n        transform: transform.value,\n        class: \"vue-flow__edge-textwrapper\"\n      }, [\n        _ctx.labelShowBg ? (openBlock(), createElementBlock(\"rect\", {\n          key: 0,\n          class: \"vue-flow__edge-textbg\",\n          width: `${box.value.width + 2 * _ctx.labelBgPadding[0]}px`,\n          height: `${box.value.height + 2 * _ctx.labelBgPadding[1]}px`,\n          x: -_ctx.labelBgPadding[0],\n          y: -_ctx.labelBgPadding[1],\n          style: normalizeStyle(_ctx.labelBgStyle),\n          rx: _ctx.labelBgBorderRadius,\n          ry: _ctx.labelBgBorderRadius\n        }, null, 12, _hoisted_2$2)) : createCommentVNode(\"\", true),\n        createElementVNode(\"text\", mergeProps(_ctx.$attrs, {\n          ref_key: \"el\",\n          ref: el,\n          class: \"vue-flow__edge-text\",\n          y: box.value.height / 2,\n          dy: \"0.3em\",\n          style: _ctx.labelStyle\n        }), [\n          renderSlot(_ctx.$slots, \"default\", {}, () => [\n            typeof _ctx.label !== \"string\" ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.label), { key: 0 })) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n              createTextVNode(toDisplayString(_ctx.label), 1)\n            ], 64))\n          ])\n        ], 16, _hoisted_3$1)\n      ], 8, _hoisted_1$8);\n    };\n  }\n});\nconst _hoisted_1$7 = [\"id\", \"d\", \"marker-end\", \"marker-start\"];\nconst _hoisted_2$1 = [\"d\", \"stroke-width\"];\nconst __default__$d = {\n  name: \"BaseEdge\",\n  inheritAttrs: false,\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$d = /* @__PURE__ */ defineComponent({\n  ...__default__$d,\n  props: {\n    id: {},\n    labelX: {},\n    labelY: {},\n    path: {},\n    label: {},\n    markerStart: {},\n    markerEnd: {},\n    interactionWidth: { default: 20 },\n    labelStyle: {},\n    labelShowBg: { type: Boolean },\n    labelBgStyle: {},\n    labelBgPadding: {},\n    labelBgBorderRadius: {}\n  },\n  setup(__props, { expose: __expose }) {\n    const pathEl = ref(null);\n    const interactionEl = ref(null);\n    const labelEl = ref(null);\n    const attrs = useAttrs();\n    __expose({\n      pathEl,\n      interactionEl,\n      labelEl\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createElementVNode(\"path\", mergeProps(unref(attrs), {\n          id: _ctx.id,\n          ref_key: \"pathEl\",\n          ref: pathEl,\n          d: _ctx.path,\n          class: \"vue-flow__edge-path\",\n          \"marker-end\": _ctx.markerEnd,\n          \"marker-start\": _ctx.markerStart\n        }), null, 16, _hoisted_1$7),\n        _ctx.interactionWidth ? (openBlock(), createElementBlock(\"path\", {\n          key: 0,\n          ref_key: \"interactionEl\",\n          ref: interactionEl,\n          fill: \"none\",\n          d: _ctx.path,\n          \"stroke-width\": _ctx.interactionWidth,\n          \"stroke-opacity\": 0,\n          class: \"vue-flow__edge-interaction\"\n        }, null, 8, _hoisted_2$1)) : createCommentVNode(\"\", true),\n        _ctx.label && _ctx.labelX && _ctx.labelY ? (openBlock(), createBlock(_sfc_main$e, {\n          key: 1,\n          ref_key: \"labelEl\",\n          ref: labelEl,\n          x: _ctx.labelX,\n          y: _ctx.labelY,\n          label: _ctx.label,\n          \"label-show-bg\": _ctx.labelShowBg,\n          \"label-bg-style\": _ctx.labelBgStyle,\n          \"label-bg-padding\": _ctx.labelBgPadding,\n          \"label-bg-border-radius\": _ctx.labelBgBorderRadius,\n          \"label-style\": _ctx.labelStyle\n        }, null, 8, [\"x\", \"y\", \"label\", \"label-show-bg\", \"label-bg-style\", \"label-bg-padding\", \"label-bg-border-radius\", \"label-style\"])) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nfunction getSimpleEdgeCenter({\n  sourceX,\n  sourceY,\n  targetX,\n  targetY\n}) {\n  const xOffset = Math.abs(targetX - sourceX) / 2;\n  const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  const yOffset = Math.abs(targetY - sourceY) / 2;\n  const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter({\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourceControlX,\n  sourceControlY,\n  targetControlX,\n  targetControlY\n}) {\n  const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  const offsetX = Math.abs(centerX - sourceX);\n  const offsetY = Math.abs(centerY - sourceY);\n  return [centerX, centerY, offsetX, offsetY];\n}\nfunction calculateControlOffset(distance2, curvature) {\n  if (distance2 >= 0) {\n    return 0.5 * distance2;\n  } else {\n    return curvature * 25 * Math.sqrt(-distance2);\n  }\n}\nfunction getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {\n  let ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n      ctX = x1 - calculateControlOffset(x1 - x2, c);\n      ctY = y1;\n      break;\n    case Position.Right:\n      ctX = x1 + calculateControlOffset(x2 - x1, c);\n      ctY = y1;\n      break;\n    case Position.Top:\n      ctX = x1;\n      ctY = y1 - calculateControlOffset(y1 - y2, c);\n      break;\n    case Position.Bottom:\n      ctX = x1;\n      ctY = y1 + calculateControlOffset(y2 - y1, c);\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getBezierPath(bezierPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top,\n    curvature = 0.25\n  } = bezierPathParams;\n  const [sourceControlX, sourceControlY] = getControlWithCurvature({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY,\n    c: curvature\n  });\n  const [targetControlX, targetControlY] = getControlWithCurvature({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY,\n    c: curvature\n  });\n  const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourceControlX,\n    sourceControlY,\n    targetControlX,\n    targetControlY\n  });\n  return [\n    `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n    labelX,\n    labelY,\n    offsetX,\n    offsetY\n  ];\n}\nfunction getControl({ pos, x1, y1, x2, y2 }) {\n  let ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n    case Position.Right:\n      ctX = 0.5 * (x1 + x2);\n      ctY = y1;\n      break;\n    case Position.Top:\n    case Position.Bottom:\n      ctX = x1;\n      ctY = 0.5 * (y1 + y2);\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getSimpleBezierPath(simpleBezierPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top\n  } = simpleBezierPathParams;\n  const [sourceControlX, sourceControlY] = getControl({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY\n  });\n  const [targetControlX, targetControlY] = getControl({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY\n  });\n  const [centerX, centerY, offsetX, offsetY] = getBezierEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourceControlX,\n    sourceControlY,\n    targetControlX,\n    targetControlY\n  });\n  return [\n    `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n    centerX,\n    centerY,\n    offsetX,\n    offsetY\n  ];\n}\nconst handleDirections = {\n  [Position.Left]: { x: -1, y: 0 },\n  [Position.Right]: { x: 1, y: 0 },\n  [Position.Top]: { x: 0, y: -1 },\n  [Position.Bottom]: { x: 0, y: 1 }\n};\nfunction getDirection({\n  source,\n  sourcePosition = Position.Bottom,\n  target\n}) {\n  if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n    return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };\n  }\n  return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };\n}\nfunction distance(a, b) {\n  return Math.sqrt((b.x - a.x) ** 2 + (b.y - a.y) ** 2);\n}\nfunction getPoints({\n  source,\n  sourcePosition = Position.Bottom,\n  target,\n  targetPosition = Position.Top,\n  center,\n  offset\n}) {\n  const sourceDir = handleDirections[sourcePosition];\n  const targetDir = handleDirections[targetPosition];\n  const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };\n  const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };\n  const dir = getDirection({\n    source: sourceGapped,\n    sourcePosition,\n    target: targetGapped\n  });\n  const dirAccessor = dir.x !== 0 ? \"x\" : \"y\";\n  const currDir = dir[dirAccessor];\n  let points;\n  let centerX, centerY;\n  const sourceGapOffset = { x: 0, y: 0 };\n  const targetGapOffset = { x: 0, y: 0 };\n  const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getSimpleEdgeCenter({\n    sourceX: source.x,\n    sourceY: source.y,\n    targetX: target.x,\n    targetY: target.y\n  });\n  if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n    centerX = center.x ?? defaultCenterX;\n    centerY = center.y ?? defaultCenterY;\n    const verticalSplit = [\n      { x: centerX, y: sourceGapped.y },\n      { x: centerX, y: targetGapped.y }\n    ];\n    const horizontalSplit = [\n      { x: sourceGapped.x, y: centerY },\n      { x: targetGapped.x, y: centerY }\n    ];\n    if (sourceDir[dirAccessor] === currDir) {\n      points = dirAccessor === \"x\" ? verticalSplit : horizontalSplit;\n    } else {\n      points = dirAccessor === \"x\" ? horizontalSplit : verticalSplit;\n    }\n  } else {\n    const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];\n    const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];\n    if (dirAccessor === \"x\") {\n      points = sourceDir.x === currDir ? targetSource : sourceTarget;\n    } else {\n      points = sourceDir.y === currDir ? sourceTarget : targetSource;\n    }\n    if (sourcePosition === targetPosition) {\n      const diff = Math.abs(source[dirAccessor] - target[dirAccessor]);\n      if (diff <= offset) {\n        const gapOffset = Math.min(offset - 1, offset - diff);\n        if (sourceDir[dirAccessor] === currDir) {\n          sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;\n        } else {\n          targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;\n        }\n      }\n    }\n    if (sourcePosition !== targetPosition) {\n      const dirAccessorOpposite = dirAccessor === \"x\" ? \"y\" : \"x\";\n      const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n      const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n      const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n      const flipSourceTarget = sourceDir[dirAccessor] === 1 && (!isSameDir && sourceGtTargetOppo || isSameDir && sourceLtTargetOppo) || sourceDir[dirAccessor] !== 1 && (!isSameDir && sourceLtTargetOppo || isSameDir && sourceGtTargetOppo);\n      if (flipSourceTarget) {\n        points = dirAccessor === \"x\" ? sourceTarget : targetSource;\n      }\n    }\n    const sourceGapPoint = { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y };\n    const targetGapPoint = { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y };\n    const maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));\n    const maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));\n    if (maxXDistance >= maxYDistance) {\n      centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;\n      centerY = points[0].y;\n    } else {\n      centerX = points[0].x;\n      centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;\n    }\n  }\n  const pathPoints = [\n    source,\n    { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y },\n    ...points,\n    { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y },\n    target\n  ];\n  return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n  const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n  const { x, y } = b;\n  if (a.x === x && x === c.x || a.y === y && y === c.y) {\n    return `L${x} ${y}`;\n  }\n  if (a.y === y) {\n    const xDir2 = a.x < c.x ? -1 : 1;\n    const yDir2 = a.y < c.y ? 1 : -1;\n    return `L ${x + bendSize * xDir2},${y}Q ${x},${y} ${x},${y + bendSize * yDir2}`;\n  }\n  const xDir = a.x < c.x ? 1 : -1;\n  const yDir = a.y < c.y ? -1 : 1;\n  return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\nfunction getSmoothStepPath(smoothStepPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top,\n    borderRadius = 5,\n    centerX,\n    centerY,\n    offset = 20\n  } = smoothStepPathParams;\n  const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n    source: { x: sourceX, y: sourceY },\n    sourcePosition,\n    target: { x: targetX, y: targetY },\n    targetPosition,\n    center: { x: centerX, y: centerY },\n    offset\n  });\n  const path = points.reduce((res, p, i) => {\n    let segment;\n    if (i > 0 && i < points.length - 1) {\n      segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n    } else {\n      segment = `${i === 0 ? \"M\" : \"L\"}${p.x} ${p.y}`;\n    }\n    res += segment;\n    return res;\n  }, \"\");\n  return [path, labelX, labelY, offsetX, offsetY];\n}\nfunction getStraightPath(straightEdgeParams) {\n  const { sourceX, sourceY, targetX, targetY } = straightEdgeParams;\n  const [centerX, centerY, offsetX, offsetY] = getSimpleEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY\n  });\n  return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, centerX, centerY, offsetX, offsetY];\n}\nconst StraightEdge = defineComponent({\n  name: \"StraightEdge\",\n  props: [\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getStraightPath(props);\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst StraightEdge$1 = StraightEdge;\nconst SmoothStepEdge = defineComponent({\n  name: \"SmoothStepEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"borderRadius\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\",\n    \"offset\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getSmoothStepPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst SmoothStepEdge$1 = SmoothStepEdge;\nconst StepEdge = defineComponent({\n  name: \"StepEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  setup(props, { attrs }) {\n    return () => h(SmoothStepEdge$1, { ...props, ...attrs, borderRadius: 0 });\n  }\n});\nconst StepEdge$1 = StepEdge;\nconst BezierEdge = defineComponent({\n  name: \"BezierEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"curvature\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getBezierPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst BezierEdge$1 = BezierEdge;\nconst SimpleBezierEdge = defineComponent({\n  name: \"SimpleBezierEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getSimpleBezierPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst SimpleBezierEdge$1 = SimpleBezierEdge;\nconst defaultNodeTypes = {\n  input: InputNode$1,\n  default: DefaultNode$1,\n  output: OutputNode$1\n};\nconst defaultEdgeTypes = {\n  default: BezierEdge$1,\n  straight: StraightEdge$1,\n  step: StepEdge$1,\n  smoothstep: SmoothStepEdge$1,\n  simplebezier: SimpleBezierEdge$1\n};\nfunction useGetters(state, nodeLookup, edgeLookup) {\n  const getNode = computed(() => (id2) => nodeLookup.value.get(id2));\n  const getEdge = computed(() => (id2) => edgeLookup.value.get(id2));\n  const getEdgeTypes = computed(() => {\n    const edgeTypes = {\n      ...defaultEdgeTypes,\n      ...state.edgeTypes\n    };\n    const keys = Object.keys(edgeTypes);\n    for (const e of state.edges) {\n      e.type && !keys.includes(e.type) && (edgeTypes[e.type] = e.type);\n    }\n    return edgeTypes;\n  });\n  const getNodeTypes = computed(() => {\n    const nodeTypes = {\n      ...defaultNodeTypes,\n      ...state.nodeTypes\n    };\n    const keys = Object.keys(nodeTypes);\n    for (const n of state.nodes) {\n      n.type && !keys.includes(n.type) && (nodeTypes[n.type] = n.type);\n    }\n    return nodeTypes;\n  });\n  const getNodes = computed(() => {\n    if (state.onlyRenderVisibleElements) {\n      return getNodesInside(\n        state.nodes,\n        {\n          x: 0,\n          y: 0,\n          width: state.dimensions.width,\n          height: state.dimensions.height\n        },\n        state.viewport,\n        true\n      );\n    }\n    return state.nodes;\n  });\n  const getEdges = computed(() => {\n    if (state.onlyRenderVisibleElements) {\n      const visibleEdges = [];\n      for (const edge of state.edges) {\n        const source = nodeLookup.value.get(edge.source);\n        const target = nodeLookup.value.get(edge.target);\n        if (isEdgeVisible({\n          sourcePos: source.computedPosition || { x: 0, y: 0 },\n          targetPos: target.computedPosition || { x: 0, y: 0 },\n          sourceWidth: source.dimensions.width,\n          sourceHeight: source.dimensions.height,\n          targetWidth: target.dimensions.width,\n          targetHeight: target.dimensions.height,\n          width: state.dimensions.width,\n          height: state.dimensions.height,\n          viewport: state.viewport\n        })) {\n          visibleEdges.push(edge);\n        }\n      }\n      return visibleEdges;\n    }\n    return state.edges;\n  });\n  const getElements = computed(() => [...getNodes.value, ...getEdges.value]);\n  const getSelectedNodes = computed(() => {\n    const selectedNodes = [];\n    for (const node of state.nodes) {\n      if (node.selected) {\n        selectedNodes.push(node);\n      }\n    }\n    return selectedNodes;\n  });\n  const getSelectedEdges = computed(() => {\n    const selectedEdges = [];\n    for (const edge of state.edges) {\n      if (edge.selected) {\n        selectedEdges.push(edge);\n      }\n    }\n    return selectedEdges;\n  });\n  const getSelectedElements = computed(() => [\n    ...getSelectedNodes.value,\n    ...getSelectedEdges.value\n  ]);\n  const getNodesInitialized = computed(() => {\n    const initializedNodes = [];\n    for (const node of state.nodes) {\n      if (!!node.dimensions.width && !!node.dimensions.height && node.handleBounds !== void 0) {\n        initializedNodes.push(node);\n      }\n    }\n    return initializedNodes;\n  });\n  const areNodesInitialized = computed(\n    () => getNodes.value.length > 0 && getNodesInitialized.value.length === getNodes.value.length\n  );\n  return {\n    getNode,\n    getEdge,\n    getElements,\n    getEdgeTypes,\n    getNodeTypes,\n    getEdges,\n    getNodes,\n    getSelectedElements,\n    getSelectedNodes,\n    getSelectedEdges,\n    getNodesInitialized,\n    areNodesInitialized\n  };\n}\nclass Storage {\n  constructor() {\n    this.currentId = 0;\n    this.flows = /* @__PURE__ */ new Map();\n  }\n  static getInstance() {\n    var _a;\n    const vueApp = (_a = getCurrentInstance()) == null ? void 0 : _a.appContext.app;\n    const existingInstance = (vueApp == null ? void 0 : vueApp.config.globalProperties.$vueFlowStorage) ?? Storage.instance;\n    Storage.instance = existingInstance ?? new Storage();\n    if (vueApp) {\n      vueApp.config.globalProperties.$vueFlowStorage = Storage.instance;\n    }\n    return Storage.instance;\n  }\n  set(id2, flow) {\n    return this.flows.set(id2, flow);\n  }\n  get(id2) {\n    return this.flows.get(id2);\n  }\n  remove(id2) {\n    return this.flows.delete(id2);\n  }\n  create(id2, preloadedState) {\n    const state = useState();\n    const reactiveState = reactive(state);\n    const hooksOn = {};\n    for (const [n, h2] of Object.entries(reactiveState.hooks)) {\n      const name = `on${n.charAt(0).toUpperCase() + n.slice(1)}`;\n      hooksOn[name] = h2.on;\n    }\n    const emits = {};\n    for (const [n, h2] of Object.entries(reactiveState.hooks)) {\n      emits[n] = h2.trigger;\n    }\n    const nodeLookup = computed(() => {\n      const nodesMap = /* @__PURE__ */ new Map();\n      for (const node of reactiveState.nodes) {\n        nodesMap.set(node.id, node);\n      }\n      return nodesMap;\n    });\n    const edgeLookup = computed(() => {\n      const edgesMap = /* @__PURE__ */ new Map();\n      for (const edge of reactiveState.edges) {\n        edgesMap.set(edge.id, edge);\n      }\n      return edgesMap;\n    });\n    const getters = useGetters(reactiveState, nodeLookup, edgeLookup);\n    const actions = useActions(reactiveState, nodeLookup, edgeLookup);\n    actions.setState({ ...reactiveState, ...preloadedState });\n    const flow = {\n      ...hooksOn,\n      ...getters,\n      ...actions,\n      ...toRefs(reactiveState),\n      nodeLookup,\n      edgeLookup,\n      emits,\n      id: id2,\n      vueFlowVersion: \"1.46.5\",\n      $destroy: () => {\n        this.remove(id2);\n      }\n    };\n    this.set(id2, flow);\n    return flow;\n  }\n  getId() {\n    return `vue-flow-${this.currentId++}`;\n  }\n}\nfunction useVueFlow(idOrOpts) {\n  const storage = Storage.getInstance();\n  const scope = getCurrentScope();\n  const isOptsObj = typeof idOrOpts === \"object\";\n  const options = isOptsObj ? idOrOpts : { id: idOrOpts };\n  const id2 = options.id;\n  const vueFlowId = id2 ?? (scope == null ? void 0 : scope.vueFlowId);\n  let vueFlow;\n  if (scope) {\n    const injectedState = inject(VueFlow, null);\n    if (typeof injectedState !== \"undefined\" && injectedState !== null && (!vueFlowId || injectedState.id === vueFlowId)) {\n      vueFlow = injectedState;\n    }\n  }\n  if (!vueFlow) {\n    if (vueFlowId) {\n      vueFlow = storage.get(vueFlowId);\n    }\n  }\n  if (!vueFlow || vueFlowId && vueFlow.id !== vueFlowId) {\n    const name = id2 ?? storage.getId();\n    const state = storage.create(name, options);\n    vueFlow = state;\n    const vfScope = scope ?? effectScope(true);\n    vfScope.run(() => {\n      watch(\n        state.applyDefault,\n        (shouldApplyDefault, __, onCleanup) => {\n          const nodesChangeHandler = (changes) => {\n            state.applyNodeChanges(changes);\n          };\n          const edgesChangeHandler = (changes) => {\n            state.applyEdgeChanges(changes);\n          };\n          if (shouldApplyDefault) {\n            state.onNodesChange(nodesChangeHandler);\n            state.onEdgesChange(edgesChangeHandler);\n          } else {\n            state.hooks.value.nodesChange.off(nodesChangeHandler);\n            state.hooks.value.edgesChange.off(edgesChangeHandler);\n          }\n          onCleanup(() => {\n            state.hooks.value.nodesChange.off(nodesChangeHandler);\n            state.hooks.value.edgesChange.off(edgesChangeHandler);\n          });\n        },\n        { immediate: true }\n      );\n      tryOnScopeDispose(() => {\n        if (vueFlow) {\n          const storedInstance = storage.get(vueFlow.id);\n          if (storedInstance) {\n            storedInstance.$destroy();\n          } else {\n            warn(`No store instance found for id ${vueFlow.id} in storage.`);\n          }\n        }\n      });\n    });\n  } else {\n    if (isOptsObj) {\n      vueFlow.setState(options);\n    }\n  }\n  if (scope) {\n    provide(VueFlow, vueFlow);\n    scope.vueFlowId = vueFlow.id;\n  }\n  if (isOptsObj) {\n    const instance = getCurrentInstance();\n    if ((instance == null ? void 0 : instance.type.name) !== \"VueFlow\") {\n      vueFlow.emits.error(new VueFlowError(ErrorCode.USEVUEFLOW_OPTIONS));\n    }\n  }\n  return vueFlow;\n}\nfunction useResizeHandler(viewportEl) {\n  const { emits, dimensions } = useVueFlow();\n  let resizeObserver;\n  onMounted(() => {\n    const updateDimensions = () => {\n      var _a, _b;\n      if (!viewportEl.value || !(((_b = (_a = viewportEl.value).checkVisibility) == null ? void 0 : _b.call(_a)) ?? true)) {\n        return;\n      }\n      const size = getDimensions(viewportEl.value);\n      if (size.width === 0 || size.height === 0) {\n        emits.error(new VueFlowError(ErrorCode.MISSING_VIEWPORT_DIMENSIONS));\n      }\n      dimensions.value = { width: size.width || 500, height: size.height || 500 };\n    };\n    updateDimensions();\n    window.addEventListener(\"resize\", updateDimensions);\n    if (viewportEl.value) {\n      resizeObserver = new ResizeObserver(() => updateDimensions());\n      resizeObserver.observe(viewportEl.value);\n    }\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"resize\", updateDimensions);\n      if (resizeObserver && viewportEl.value) {\n        resizeObserver.unobserve(viewportEl.value);\n      }\n    });\n  });\n}\nconst __default__$c = {\n  name: \"UserSelection\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$c = /* @__PURE__ */ defineComponent({\n  ...__default__$c,\n  props: {\n    userSelectionRect: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: \"vue-flow__selection vue-flow__container\",\n        style: normalizeStyle({\n          width: `${_ctx.userSelectionRect.width}px`,\n          height: `${_ctx.userSelectionRect.height}px`,\n          transform: `translate(${_ctx.userSelectionRect.x}px, ${_ctx.userSelectionRect.y}px)`\n        })\n      }, null, 4);\n    };\n  }\n});\nconst _hoisted_1$6 = [\"tabIndex\"];\nconst __default__$b = {\n  name: \"NodesSelection\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$b = /* @__PURE__ */ defineComponent({\n  ...__default__$b,\n  setup(__props) {\n    const { emits, viewport, getSelectedNodes, noPanClassName, disableKeyboardA11y, userSelectionActive } = useVueFlow();\n    const updatePositions = useUpdateNodePositions();\n    const el = ref(null);\n    const dragging = useDrag({\n      el,\n      onStart(args) {\n        emits.selectionDragStart(args);\n        emits.nodeDragStart(args);\n      },\n      onDrag(args) {\n        emits.selectionDrag(args);\n        emits.nodeDrag(args);\n      },\n      onStop(args) {\n        emits.selectionDragStop(args);\n        emits.nodeDragStop(args);\n      }\n    });\n    onMounted(() => {\n      var _a;\n      if (!disableKeyboardA11y.value) {\n        (_a = el.value) == null ? void 0 : _a.focus({ preventScroll: true });\n      }\n    });\n    const selectedNodesBBox = computed(() => getRectOfNodes(getSelectedNodes.value));\n    const innerStyle = computed(() => ({\n      width: `${selectedNodesBBox.value.width}px`,\n      height: `${selectedNodesBBox.value.height}px`,\n      top: `${selectedNodesBBox.value.y}px`,\n      left: `${selectedNodesBBox.value.x}px`\n    }));\n    function onContextMenu(event) {\n      emits.selectionContextMenu({ event, nodes: getSelectedNodes.value });\n    }\n    function onKeyDown(event) {\n      if (disableKeyboardA11y) {\n        return;\n      }\n      if (arrowKeyDiffs[event.key]) {\n        event.preventDefault();\n        updatePositions(\n          {\n            x: arrowKeyDiffs[event.key].x,\n            y: arrowKeyDiffs[event.key].y\n          },\n          event.shiftKey\n        );\n      }\n    }\n    return (_ctx, _cache) => {\n      return !unref(userSelectionActive) && selectedNodesBBox.value.width && selectedNodesBBox.value.height ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass([\"vue-flow__nodesselection vue-flow__container\", unref(noPanClassName)]),\n        style: normalizeStyle({ transform: `translate(${unref(viewport).x}px,${unref(viewport).y}px) scale(${unref(viewport).zoom})` })\n      }, [\n        createElementVNode(\"div\", {\n          ref_key: \"el\",\n          ref: el,\n          class: normalizeClass([{ dragging: unref(dragging) }, \"vue-flow__nodesselection-rect\"]),\n          style: normalizeStyle(innerStyle.value),\n          tabIndex: unref(disableKeyboardA11y) ? void 0 : -1,\n          onContextmenu: onContextMenu,\n          onKeydown: onKeyDown\n        }, null, 46, _hoisted_1$6)\n      ], 6)) : createCommentVNode(\"\", true);\n    };\n  }\n});\nfunction getMousePosition(event, containerBounds) {\n  return {\n    x: event.clientX - containerBounds.left,\n    y: event.clientY - containerBounds.top\n  };\n}\nconst __default__$a = {\n  name: \"Pane\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$a = /* @__PURE__ */ defineComponent({\n  ...__default__$a,\n  props: {\n    isSelecting: { type: Boolean },\n    selectionKeyPressed: { type: Boolean }\n  },\n  setup(__props) {\n    const {\n      vueFlowRef,\n      nodes,\n      viewport,\n      emits,\n      userSelectionActive,\n      removeSelectedElements,\n      userSelectionRect,\n      elementsSelectable,\n      nodesSelectionActive,\n      getSelectedEdges,\n      getSelectedNodes,\n      removeNodes,\n      removeEdges,\n      selectionMode,\n      deleteKeyCode,\n      multiSelectionKeyCode,\n      multiSelectionActive,\n      edgeLookup,\n      nodeLookup,\n      connectionLookup,\n      defaultEdgeOptions,\n      connectionStartHandle\n    } = useVueFlow();\n    const container = ref(null);\n    const selectedNodeIds = ref(/* @__PURE__ */ new Set());\n    const selectedEdgeIds = ref(/* @__PURE__ */ new Set());\n    const containerBounds = ref();\n    const hasActiveSelection = toRef(() => elementsSelectable.value && (__props.isSelecting || userSelectionActive.value));\n    const connectionInProgress = toRef(() => connectionStartHandle.value !== null);\n    let selectionInProgress = false;\n    let selectionStarted = false;\n    const deleteKeyPressed = useKeyPress(deleteKeyCode, { actInsideInputWithModifier: false });\n    const multiSelectKeyPressed = useKeyPress(multiSelectionKeyCode);\n    watch(deleteKeyPressed, (isKeyPressed) => {\n      if (!isKeyPressed) {\n        return;\n      }\n      removeNodes(getSelectedNodes.value);\n      removeEdges(getSelectedEdges.value);\n      nodesSelectionActive.value = false;\n    });\n    watch(multiSelectKeyPressed, (isKeyPressed) => {\n      multiSelectionActive.value = isKeyPressed;\n    });\n    function wrapHandler(handler, containerRef) {\n      return (event) => {\n        if (event.target !== containerRef) {\n          return;\n        }\n        handler == null ? void 0 : handler(event);\n      };\n    }\n    function onClick(event) {\n      if (selectionInProgress || connectionInProgress.value) {\n        selectionInProgress = false;\n        return;\n      }\n      emits.paneClick(event);\n      removeSelectedElements();\n      nodesSelectionActive.value = false;\n    }\n    function onContextMenu(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      emits.paneContextMenu(event);\n    }\n    function onWheel(event) {\n      emits.paneScroll(event);\n    }\n    function onPointerDown(event) {\n      var _a, _b, _c;\n      containerBounds.value = (_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect();\n      if (!elementsSelectable.value || !__props.isSelecting || event.button !== 0 || event.target !== container.value || !containerBounds.value) {\n        return;\n      }\n      (_c = (_b = event.target) == null ? void 0 : _b.setPointerCapture) == null ? void 0 : _c.call(_b, event.pointerId);\n      const { x, y } = getMousePosition(event, containerBounds.value);\n      selectionStarted = true;\n      selectionInProgress = false;\n      removeSelectedElements();\n      userSelectionRect.value = {\n        width: 0,\n        height: 0,\n        startX: x,\n        startY: y,\n        x,\n        y\n      };\n      emits.selectionStart(event);\n    }\n    function onPointerMove(event) {\n      var _a;\n      if (!containerBounds.value || !userSelectionRect.value) {\n        return;\n      }\n      selectionInProgress = true;\n      const { x: mouseX, y: mouseY } = getEventPosition(event, containerBounds.value);\n      const { startX = 0, startY = 0 } = userSelectionRect.value;\n      const nextUserSelectRect = {\n        startX,\n        startY,\n        x: mouseX < startX ? mouseX : startX,\n        y: mouseY < startY ? mouseY : startY,\n        width: Math.abs(mouseX - startX),\n        height: Math.abs(mouseY - startY)\n      };\n      const prevSelectedNodeIds = selectedNodeIds.value;\n      const prevSelectedEdgeIds = selectedEdgeIds.value;\n      selectedNodeIds.value = new Set(\n        getNodesInside(nodes.value, nextUserSelectRect, viewport.value, selectionMode.value === SelectionMode.Partial, true).map(\n          (node) => node.id\n        )\n      );\n      selectedEdgeIds.value = /* @__PURE__ */ new Set();\n      const edgesSelectable = ((_a = defaultEdgeOptions.value) == null ? void 0 : _a.selectable) ?? true;\n      for (const nodeId of selectedNodeIds.value) {\n        const connections = connectionLookup.value.get(nodeId);\n        if (!connections) {\n          continue;\n        }\n        for (const { edgeId } of connections.values()) {\n          const edge = edgeLookup.value.get(edgeId);\n          if (edge && (edge.selectable ?? edgesSelectable)) {\n            selectedEdgeIds.value.add(edgeId);\n          }\n        }\n      }\n      if (!areSetsEqual(prevSelectedNodeIds, selectedNodeIds.value)) {\n        const changes = getSelectionChanges(nodeLookup.value, selectedNodeIds.value, true);\n        emits.nodesChange(changes);\n      }\n      if (!areSetsEqual(prevSelectedEdgeIds, selectedEdgeIds.value)) {\n        const changes = getSelectionChanges(edgeLookup.value, selectedEdgeIds.value);\n        emits.edgesChange(changes);\n      }\n      userSelectionRect.value = nextUserSelectRect;\n      userSelectionActive.value = true;\n      nodesSelectionActive.value = false;\n    }\n    function onPointerUp(event) {\n      var _a;\n      if (event.button !== 0 || !selectionStarted) {\n        return;\n      }\n      (_a = event.target) == null ? void 0 : _a.releasePointerCapture(event.pointerId);\n      if (!userSelectionActive.value && userSelectionRect.value && event.target === container.value) {\n        onClick(event);\n      }\n      userSelectionActive.value = false;\n      userSelectionRect.value = null;\n      nodesSelectionActive.value = selectedNodeIds.value.size > 0;\n      emits.selectionEnd(event);\n      if (__props.selectionKeyPressed) {\n        selectionInProgress = false;\n      }\n      selectionStarted = false;\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"container\",\n        ref: container,\n        class: normalizeClass([\"vue-flow__pane vue-flow__container\", { selection: _ctx.isSelecting }]),\n        onClick: _cache[0] || (_cache[0] = (event) => hasActiveSelection.value ? void 0 : wrapHandler(onClick, container.value)(event)),\n        onContextmenu: _cache[1] || (_cache[1] = ($event) => wrapHandler(onContextMenu, container.value)($event)),\n        onWheelPassive: _cache[2] || (_cache[2] = ($event) => wrapHandler(onWheel, container.value)($event)),\n        onPointerenter: _cache[3] || (_cache[3] = (event) => hasActiveSelection.value ? void 0 : unref(emits).paneMouseEnter(event)),\n        onPointerdown: _cache[4] || (_cache[4] = (event) => hasActiveSelection.value ? onPointerDown(event) : unref(emits).paneMouseMove(event)),\n        onPointermove: _cache[5] || (_cache[5] = (event) => hasActiveSelection.value ? onPointerMove(event) : unref(emits).paneMouseMove(event)),\n        onPointerup: _cache[6] || (_cache[6] = (event) => hasActiveSelection.value ? onPointerUp(event) : void 0),\n        onPointerleave: _cache[7] || (_cache[7] = ($event) => unref(emits).paneMouseLeave($event))\n      }, [\n        renderSlot(_ctx.$slots, \"default\"),\n        unref(userSelectionActive) && unref(userSelectionRect) ? (openBlock(), createBlock(_sfc_main$c, {\n          key: 0,\n          \"user-selection-rect\": unref(userSelectionRect)\n        }, null, 8, [\"user-selection-rect\"])) : createCommentVNode(\"\", true),\n        unref(nodesSelectionActive) && unref(getSelectedNodes).length ? (openBlock(), createBlock(_sfc_main$b, { key: 1 })) : createCommentVNode(\"\", true)\n      ], 34);\n    };\n  }\n});\nconst __default__$9 = {\n  name: \"Transform\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  ...__default__$9,\n  setup(__props) {\n    const { viewport, fitViewOnInit, fitViewOnInitDone } = useVueFlow();\n    const isHidden = computed(() => {\n      if (fitViewOnInit.value) {\n        return !fitViewOnInitDone.value;\n      }\n      return false;\n    });\n    const transform = computed(() => `translate(${viewport.value.x}px,${viewport.value.y}px) scale(${viewport.value.zoom})`);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: \"vue-flow__transformationpane vue-flow__container\",\n        style: normalizeStyle({ transform: transform.value, opacity: isHidden.value ? 0 : void 0 })\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 4);\n    };\n  }\n});\nconst __default__$8 = {\n  name: \"Viewport\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  ...__default__$8,\n  setup(__props) {\n    const {\n      minZoom,\n      maxZoom,\n      defaultViewport,\n      translateExtent,\n      zoomActivationKeyCode,\n      selectionKeyCode,\n      panActivationKeyCode,\n      panOnScroll,\n      panOnScrollMode,\n      panOnScrollSpeed,\n      panOnDrag,\n      zoomOnDoubleClick,\n      zoomOnPinch,\n      zoomOnScroll,\n      preventScrolling,\n      noWheelClassName,\n      noPanClassName,\n      emits,\n      connectionStartHandle,\n      userSelectionActive,\n      paneDragging,\n      d3Zoom: storeD3Zoom,\n      d3Selection: storeD3Selection,\n      d3ZoomHandler: storeD3ZoomHandler,\n      viewport,\n      viewportRef,\n      paneClickDistance\n    } = useVueFlow();\n    useResizeHandler(viewportRef);\n    const isZoomingOrPanning = shallowRef(false);\n    const isPanScrolling = shallowRef(false);\n    let panScrollTimeout = null;\n    let zoomedWithRightMouseButton = false;\n    let mouseButton = 0;\n    let prevTransform = {\n      x: 0,\n      y: 0,\n      zoom: 0\n    };\n    const panKeyPressed = useKeyPress(panActivationKeyCode);\n    const selectionKeyPressed = useKeyPress(selectionKeyCode);\n    const zoomKeyPressed = useKeyPress(zoomActivationKeyCode);\n    const shouldPanOnDrag = toRef(\n      () => (!selectionKeyPressed.value || selectionKeyPressed.value && selectionKeyCode.value === true) && (panKeyPressed.value || panOnDrag.value)\n    );\n    const shouldPanOnScroll = toRef(() => panKeyPressed.value || panOnScroll.value);\n    const isSelecting = toRef(() => selectionKeyPressed.value || selectionKeyCode.value === true && shouldPanOnDrag.value !== true);\n    const connectionInProgress = toRef(() => connectionStartHandle.value !== null);\n    onMounted(() => {\n      if (!viewportRef.value) {\n        warn(\"Viewport element is missing\");\n        return;\n      }\n      const viewportElement = viewportRef.value;\n      const bbox = viewportElement.getBoundingClientRect();\n      const d3Zoom = zoom().clickDistance(paneClickDistance.value).scaleExtent([minZoom.value, maxZoom.value]).translateExtent(translateExtent.value);\n      const d3Selection = select(viewportElement).call(d3Zoom);\n      const d3ZoomHandler = d3Selection.on(\"wheel.zoom\");\n      const updatedTransform = identity.translate(defaultViewport.value.x ?? 0, defaultViewport.value.y ?? 0).scale(clamp(defaultViewport.value.zoom ?? 1, minZoom.value, maxZoom.value));\n      const extent = [\n        [0, 0],\n        [bbox.width, bbox.height]\n      ];\n      const constrainedTransform = d3Zoom.constrain()(updatedTransform, extent, translateExtent.value);\n      d3Zoom.transform(d3Selection, constrainedTransform);\n      d3Zoom.wheelDelta(wheelDelta);\n      storeD3Zoom.value = d3Zoom;\n      storeD3Selection.value = d3Selection;\n      storeD3ZoomHandler.value = d3ZoomHandler;\n      viewport.value = { x: constrainedTransform.x, y: constrainedTransform.y, zoom: constrainedTransform.k };\n      d3Zoom.on(\"start\", (event) => {\n        var _a;\n        if (!event.sourceEvent) {\n          return null;\n        }\n        mouseButton = event.sourceEvent.button;\n        isZoomingOrPanning.value = true;\n        const flowTransform = eventToFlowTransform(event.transform);\n        if (((_a = event.sourceEvent) == null ? void 0 : _a.type) === \"mousedown\") {\n          paneDragging.value = true;\n        }\n        prevTransform = flowTransform;\n        emits.viewportChangeStart(flowTransform);\n        emits.moveStart({ event, flowTransform });\n      });\n      d3Zoom.on(\"end\", (event) => {\n        if (!event.sourceEvent) {\n          return null;\n        }\n        isZoomingOrPanning.value = false;\n        paneDragging.value = false;\n        if (isRightClickPan(shouldPanOnDrag.value, mouseButton ?? 0) && !zoomedWithRightMouseButton) {\n          emits.paneContextMenu(event.sourceEvent);\n        }\n        zoomedWithRightMouseButton = false;\n        if (viewChanged(prevTransform, event.transform)) {\n          const flowTransform = eventToFlowTransform(event.transform);\n          prevTransform = flowTransform;\n          emits.viewportChangeEnd(flowTransform);\n          emits.moveEnd({ event, flowTransform });\n        }\n      });\n      d3Zoom.filter((event) => {\n        var _a;\n        const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n        const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n        const eventButton = event.button;\n        const isWheelEvent = event.type === \"wheel\";\n        if (eventButton === 1 && event.type === \"mousedown\" && (isWrappedWithClass(event, \"vue-flow__node\") || isWrappedWithClass(event, \"vue-flow__edge\"))) {\n          return true;\n        }\n        if (!shouldPanOnDrag.value && !zoomScroll && !shouldPanOnScroll.value && !zoomOnDoubleClick.value && !zoomOnPinch.value) {\n          return false;\n        }\n        if (userSelectionActive.value) {\n          return false;\n        }\n        if (connectionInProgress.value && !isWheelEvent) {\n          return false;\n        }\n        if (!zoomOnDoubleClick.value && event.type === \"dblclick\") {\n          return false;\n        }\n        if (isWrappedWithClass(event, noWheelClassName.value) && isWheelEvent) {\n          return false;\n        }\n        if (isWrappedWithClass(event, noPanClassName.value) && (!isWheelEvent || shouldPanOnScroll.value && isWheelEvent && !zoomKeyPressed.value)) {\n          return false;\n        }\n        if (!zoomOnPinch.value && event.ctrlKey && isWheelEvent) {\n          return false;\n        }\n        if (!zoomScroll && !shouldPanOnScroll.value && !pinchZoom && isWheelEvent) {\n          return false;\n        }\n        if (!zoomOnPinch && event.type === \"touchstart\" && ((_a = event.touches) == null ? void 0 : _a.length) > 1) {\n          event.preventDefault();\n          return false;\n        }\n        if (!shouldPanOnDrag.value && (event.type === \"mousedown\" || event.type === \"touchstart\")) {\n          return false;\n        }\n        if (selectionKeyCode.value === true && Array.isArray(panOnDrag.value) && panOnDrag.value.includes(0) && eventButton === 0) {\n          return false;\n        }\n        if (Array.isArray(panOnDrag.value) && !panOnDrag.value.includes(eventButton) && (event.type === \"mousedown\" || event.type === \"touchstart\")) {\n          return false;\n        }\n        const buttonAllowed = Array.isArray(panOnDrag.value) && panOnDrag.value.includes(eventButton) || selectionKeyCode.value === true && Array.isArray(panOnDrag.value) && !panOnDrag.value.includes(0) || !eventButton || eventButton <= 1;\n        return (!event.ctrlKey || panKeyPressed.value || isWheelEvent) && buttonAllowed;\n      });\n      watch(\n        [userSelectionActive, shouldPanOnDrag],\n        () => {\n          if (userSelectionActive.value && !isZoomingOrPanning.value) {\n            d3Zoom.on(\"zoom\", null);\n          } else if (!userSelectionActive.value) {\n            d3Zoom.on(\"zoom\", (event) => {\n              viewport.value = { x: event.transform.x, y: event.transform.y, zoom: event.transform.k };\n              const flowTransform = eventToFlowTransform(event.transform);\n              zoomedWithRightMouseButton = isRightClickPan(shouldPanOnDrag.value, mouseButton ?? 0);\n              emits.viewportChange(flowTransform);\n              emits.move({ event, flowTransform });\n            });\n          }\n        },\n        { immediate: true }\n      );\n      watch(\n        [userSelectionActive, shouldPanOnScroll, panOnScrollMode, zoomKeyPressed, zoomOnPinch, preventScrolling, noWheelClassName],\n        () => {\n          if (shouldPanOnScroll.value && !zoomKeyPressed.value && !userSelectionActive.value) {\n            d3Selection.on(\n              \"wheel.zoom\",\n              (event) => {\n                if (isWrappedWithClass(event, noWheelClassName.value)) {\n                  return false;\n                }\n                const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n                const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n                const scrollEventEnabled = !preventScrolling.value || shouldPanOnScroll.value || zoomScroll || pinchZoom;\n                if (!scrollEventEnabled) {\n                  return false;\n                }\n                event.preventDefault();\n                event.stopImmediatePropagation();\n                const currentZoom = d3Selection.property(\"__zoom\").k || 1;\n                const _isMacOs = isMacOs();\n                if (!panKeyPressed.value && event.ctrlKey && zoomOnPinch.value && _isMacOs) {\n                  const point = pointer(event);\n                  const pinchDelta = wheelDelta(event);\n                  const zoom2 = currentZoom * 2 ** pinchDelta;\n                  d3Zoom.scaleTo(d3Selection, zoom2, point, event);\n                  return;\n                }\n                const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n                let deltaX = panOnScrollMode.value === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n                let deltaY = panOnScrollMode.value === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n                if (!_isMacOs && event.shiftKey && panOnScrollMode.value !== PanOnScrollMode.Vertical && !deltaX && deltaY) {\n                  deltaX = deltaY;\n                  deltaY = 0;\n                }\n                d3Zoom.translateBy(\n                  d3Selection,\n                  -(deltaX / currentZoom) * panOnScrollSpeed.value,\n                  -(deltaY / currentZoom) * panOnScrollSpeed.value\n                );\n                const nextViewport = eventToFlowTransform(d3Selection.property(\"__zoom\"));\n                if (panScrollTimeout) {\n                  clearTimeout(panScrollTimeout);\n                }\n                if (!isPanScrolling.value) {\n                  isPanScrolling.value = true;\n                  emits.moveStart({ event, flowTransform: nextViewport });\n                  emits.viewportChangeStart(nextViewport);\n                } else {\n                  emits.move({ event, flowTransform: nextViewport });\n                  emits.viewportChange(nextViewport);\n                  panScrollTimeout = setTimeout(() => {\n                    emits.moveEnd({ event, flowTransform: nextViewport });\n                    emits.viewportChangeEnd(nextViewport);\n                    isPanScrolling.value = false;\n                  }, 150);\n                }\n              },\n              { passive: false }\n            );\n          } else if (typeof d3ZoomHandler !== \"undefined\") {\n            d3Selection.on(\n              \"wheel.zoom\",\n              function(event, d) {\n                const invalidEvent = !preventScrolling.value && event.type === \"wheel\" && !event.ctrlKey;\n                const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n                const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n                const scrollEventsDisabled = !zoomScroll && !panOnScroll.value && !pinchZoom && event.type === \"wheel\";\n                if (scrollEventsDisabled || invalidEvent || isWrappedWithClass(event, noWheelClassName.value)) {\n                  return null;\n                }\n                event.preventDefault();\n                d3ZoomHandler.call(this, event, d);\n              },\n              { passive: false }\n            );\n          }\n        },\n        { immediate: true }\n      );\n    });\n    function isRightClickPan(pan, usedButton) {\n      return usedButton === 2 && Array.isArray(pan) && pan.includes(2);\n    }\n    function viewChanged(prevViewport, eventTransform) {\n      return prevViewport.x !== eventTransform.x && !Number.isNaN(eventTransform.x) || prevViewport.y !== eventTransform.y && !Number.isNaN(eventTransform.y) || prevViewport.zoom !== eventTransform.k && !Number.isNaN(eventTransform.k);\n    }\n    function eventToFlowTransform(eventTransform) {\n      return {\n        x: eventTransform.x,\n        y: eventTransform.y,\n        zoom: eventTransform.k\n      };\n    }\n    function isWrappedWithClass(event, className) {\n      return event.target.closest(`.${className}`);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"viewportRef\",\n        ref: viewportRef,\n        class: \"vue-flow__viewport vue-flow__container\"\n      }, [\n        createVNode(_sfc_main$a, {\n          \"is-selecting\": isSelecting.value,\n          \"selection-key-pressed\": unref(selectionKeyPressed),\n          class: normalizeClass({\n            connecting: connectionInProgress.value,\n            dragging: unref(paneDragging),\n            draggable: unref(panOnDrag) === true || Array.isArray(unref(panOnDrag)) && unref(panOnDrag).includes(0)\n          })\n        }, {\n          default: withCtx(() => [\n            createVNode(_sfc_main$9, null, {\n              default: withCtx(() => [\n                renderSlot(_ctx.$slots, \"default\")\n              ]),\n              _: 3\n            })\n          ]),\n          _: 3\n        }, 8, [\"is-selecting\", \"selection-key-pressed\", \"class\"])\n      ], 512);\n    };\n  }\n});\nconst _hoisted_1$5 = [\"id\"];\nconst _hoisted_2 = [\"id\"];\nconst _hoisted_3 = [\"id\"];\nconst __default__$7 = {\n  name: \"A11yDescriptions\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  ...__default__$7,\n  setup(__props) {\n    const { id: id2, disableKeyboardA11y, ariaLiveMessage } = useVueFlow();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createElementVNode(\"div\", {\n          id: `${unref(ARIA_NODE_DESC_KEY)}-${unref(id2)}`,\n          style: { \"display\": \"none\" }\n        }, \" Press enter or space to select a node. \" + toDisplayString(!unref(disableKeyboardA11y) ? \"You can then use the arrow keys to move the node around.\" : \"\") + \" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. \", 9, _hoisted_1$5),\n        createElementVNode(\"div\", {\n          id: `${unref(ARIA_EDGE_DESC_KEY)}-${unref(id2)}`,\n          style: { \"display\": \"none\" }\n        }, \" Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. \", 8, _hoisted_2),\n        !unref(disableKeyboardA11y) ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          id: `${unref(ARIA_LIVE_MESSAGE)}-${unref(id2)}`,\n          \"aria-live\": \"assertive\",\n          \"aria-atomic\": \"true\",\n          style: { \"position\": \"absolute\", \"width\": \"1px\", \"height\": \"1px\", \"margin\": \"-1px\", \"border\": \"0\", \"padding\": \"0\", \"overflow\": \"hidden\", \"clip\": \"rect(0px, 0px, 0px, 0px)\", \"clip-path\": \"inset(100%)\" }\n        }, toDisplayString(unref(ariaLiveMessage)), 9, _hoisted_3)) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nfunction useOnInitHandler() {\n  const vfInstance = useVueFlow();\n  watch(\n    () => vfInstance.viewportHelper.value.viewportInitialized,\n    (isInitialized) => {\n      if (isInitialized) {\n        setTimeout(() => {\n          vfInstance.emits.init(vfInstance);\n          vfInstance.emits.paneReady(vfInstance);\n        }, 1);\n      }\n    }\n  );\n}\nfunction shiftX(x, shift, position) {\n  if (position === Position.Left) {\n    return x - shift;\n  }\n  if (position === Position.Right) {\n    return x + shift;\n  }\n  return x;\n}\nfunction shiftY(y, shift, position) {\n  if (position === Position.Top) {\n    return y - shift;\n  }\n  if (position === Position.Bottom) {\n    return y + shift;\n  }\n  return y;\n}\nconst EdgeAnchor = function({\n  radius = 10,\n  centerX = 0,\n  centerY = 0,\n  position = Position.Top,\n  type\n}) {\n  return h(\"circle\", {\n    class: `vue-flow__edgeupdater vue-flow__edgeupdater-${type}`,\n    cx: shiftX(centerX, radius, position),\n    cy: shiftY(centerY, radius, position),\n    r: radius,\n    stroke: \"transparent\",\n    fill: \"transparent\"\n  });\n};\nEdgeAnchor.props = [\"radius\", \"centerX\", \"centerY\", \"position\", \"type\"];\nEdgeAnchor.compatConfig = { MODE: 3 };\nconst EdgeAnchor$1 = EdgeAnchor;\nconst EdgeWrapper = defineComponent({\n  name: \"Edge\",\n  compatConfig: { MODE: 3 },\n  props: [\"id\"],\n  setup(props) {\n    const {\n      id: vueFlowId,\n      addSelectedEdges,\n      connectionMode,\n      edgeUpdaterRadius,\n      emits,\n      nodesSelectionActive,\n      noPanClassName,\n      getEdgeTypes,\n      removeSelectedEdges,\n      findEdge,\n      findNode,\n      isValidConnection,\n      multiSelectionActive,\n      disableKeyboardA11y,\n      elementsSelectable,\n      edgesUpdatable,\n      edgesFocusable,\n      hooks\n    } = useVueFlow();\n    const edge = computed(() => findEdge(props.id));\n    const { emit, on } = useEdgeHooks(edge.value, emits);\n    const slots = inject(Slots);\n    const instance = getCurrentInstance();\n    const mouseOver = ref(false);\n    const updating = ref(false);\n    const nodeId = ref(\"\");\n    const handleId = ref(null);\n    const edgeUpdaterType = ref(\"source\");\n    const edgeEl = ref(null);\n    const isSelectable = toRef(\n      () => typeof edge.value.selectable === \"undefined\" ? elementsSelectable.value : edge.value.selectable\n    );\n    const isUpdatable = toRef(() => typeof edge.value.updatable === \"undefined\" ? edgesUpdatable.value : edge.value.updatable);\n    const isFocusable = toRef(() => typeof edge.value.focusable === \"undefined\" ? edgesFocusable.value : edge.value.focusable);\n    provide(EdgeId, props.id);\n    provide(EdgeRef, edgeEl);\n    const edgeClass = computed(() => edge.value.class instanceof Function ? edge.value.class(edge.value) : edge.value.class);\n    const edgeStyle = computed(() => edge.value.style instanceof Function ? edge.value.style(edge.value) : edge.value.style);\n    const edgeCmp = computed(() => {\n      const name = edge.value.type || \"default\";\n      const slot = slots == null ? void 0 : slots[`edge-${name}`];\n      if (slot) {\n        return slot;\n      }\n      let edgeType = edge.value.template ?? getEdgeTypes.value[name];\n      if (typeof edgeType === \"string\") {\n        if (instance) {\n          const components = Object.keys(instance.appContext.components);\n          if (components && components.includes(name)) {\n            edgeType = resolveComponent(name, false);\n          }\n        }\n      }\n      if (edgeType && typeof edgeType !== \"string\") {\n        return edgeType;\n      }\n      emits.error(new VueFlowError(ErrorCode.EDGE_TYPE_MISSING, edgeType));\n      return false;\n    });\n    const { handlePointerDown } = useHandle({\n      nodeId,\n      handleId,\n      type: edgeUpdaterType,\n      isValidConnection,\n      edgeUpdaterType,\n      onEdgeUpdate,\n      onEdgeUpdateEnd\n    });\n    return () => {\n      const sourceNode = findNode(edge.value.source);\n      const targetNode = findNode(edge.value.target);\n      const pathOptions = \"pathOptions\" in edge.value ? edge.value.pathOptions : {};\n      if (!sourceNode && !targetNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_SOURCE_TARGET_MISSING, edge.value.id, edge.value.source, edge.value.target));\n        return null;\n      }\n      if (!sourceNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_SOURCE_MISSING, edge.value.id, edge.value.source));\n        return null;\n      }\n      if (!targetNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_TARGET_MISSING, edge.value.id, edge.value.target));\n        return null;\n      }\n      if (!edge.value || edge.value.hidden || sourceNode.hidden || targetNode.hidden) {\n        return null;\n      }\n      let sourceNodeHandles;\n      if (connectionMode.value === ConnectionMode.Strict) {\n        sourceNodeHandles = sourceNode.handleBounds.source;\n      } else {\n        sourceNodeHandles = [...sourceNode.handleBounds.source || [], ...sourceNode.handleBounds.target || []];\n      }\n      const sourceHandle = getEdgeHandle(sourceNodeHandles, edge.value.sourceHandle);\n      let targetNodeHandles;\n      if (connectionMode.value === ConnectionMode.Strict) {\n        targetNodeHandles = targetNode.handleBounds.target;\n      } else {\n        targetNodeHandles = [...targetNode.handleBounds.target || [], ...targetNode.handleBounds.source || []];\n      }\n      const targetHandle = getEdgeHandle(targetNodeHandles, edge.value.targetHandle);\n      const sourcePosition = (sourceHandle == null ? void 0 : sourceHandle.position) || Position.Bottom;\n      const targetPosition = (targetHandle == null ? void 0 : targetHandle.position) || Position.Top;\n      const { x: sourceX, y: sourceY } = getHandlePosition(sourceNode, sourceHandle, sourcePosition);\n      const { x: targetX, y: targetY } = getHandlePosition(targetNode, targetHandle, targetPosition);\n      edge.value.sourceX = sourceX;\n      edge.value.sourceY = sourceY;\n      edge.value.targetX = targetX;\n      edge.value.targetY = targetY;\n      return h(\n        \"g\",\n        {\n          \"ref\": edgeEl,\n          \"key\": props.id,\n          \"data-id\": props.id,\n          \"class\": [\n            \"vue-flow__edge\",\n            `vue-flow__edge-${edgeCmp.value === false ? \"default\" : edge.value.type || \"default\"}`,\n            noPanClassName.value,\n            edgeClass.value,\n            {\n              updating: mouseOver.value,\n              selected: edge.value.selected,\n              animated: edge.value.animated,\n              inactive: !isSelectable.value && !hooks.value.edgeClick.hasListeners()\n            }\n          ],\n          \"tabIndex\": isFocusable.value ? 0 : void 0,\n          \"aria-label\": edge.value.ariaLabel === null ? void 0 : edge.value.ariaLabel ?? `Edge from ${edge.value.source} to ${edge.value.target}`,\n          \"aria-describedby\": isFocusable.value ? `${ARIA_EDGE_DESC_KEY}-${vueFlowId}` : void 0,\n          \"aria-roledescription\": \"edge\",\n          \"role\": isFocusable.value ? \"group\" : \"img\",\n          ...edge.value.domAttributes,\n          \"onClick\": onEdgeClick,\n          \"onContextmenu\": onEdgeContextMenu,\n          \"onDblclick\": onDoubleClick,\n          \"onMouseenter\": onEdgeMouseEnter,\n          \"onMousemove\": onEdgeMouseMove,\n          \"onMouseleave\": onEdgeMouseLeave,\n          \"onKeyDown\": isFocusable.value ? onKeyDown : void 0\n        },\n        [\n          updating.value ? null : h(edgeCmp.value === false ? getEdgeTypes.value.default : edgeCmp.value, {\n            id: props.id,\n            sourceNode,\n            targetNode,\n            source: edge.value.source,\n            target: edge.value.target,\n            type: edge.value.type,\n            updatable: isUpdatable.value,\n            selected: edge.value.selected,\n            animated: edge.value.animated,\n            label: edge.value.label,\n            labelStyle: edge.value.labelStyle,\n            labelShowBg: edge.value.labelShowBg,\n            labelBgStyle: edge.value.labelBgStyle,\n            labelBgPadding: edge.value.labelBgPadding,\n            labelBgBorderRadius: edge.value.labelBgBorderRadius,\n            data: edge.value.data,\n            events: { ...edge.value.events, ...on },\n            style: edgeStyle.value,\n            markerStart: `url('#${getMarkerId(edge.value.markerStart, vueFlowId)}')`,\n            markerEnd: `url('#${getMarkerId(edge.value.markerEnd, vueFlowId)}')`,\n            sourcePosition,\n            targetPosition,\n            sourceX,\n            sourceY,\n            targetX,\n            targetY,\n            sourceHandleId: edge.value.sourceHandle,\n            targetHandleId: edge.value.targetHandle,\n            interactionWidth: edge.value.interactionWidth,\n            ...pathOptions\n          }),\n          [\n            isUpdatable.value === \"source\" || isUpdatable.value === true ? [\n              h(\n                \"g\",\n                {\n                  onMousedown: onEdgeUpdaterSourceMouseDown,\n                  onMouseenter: onEdgeUpdaterMouseEnter,\n                  onMouseout: onEdgeUpdaterMouseOut\n                },\n                h(EdgeAnchor$1, {\n                  \"position\": sourcePosition,\n                  \"centerX\": sourceX,\n                  \"centerY\": sourceY,\n                  \"radius\": edgeUpdaterRadius.value,\n                  \"type\": \"source\",\n                  \"data-type\": \"source\"\n                })\n              )\n            ] : null,\n            isUpdatable.value === \"target\" || isUpdatable.value === true ? [\n              h(\n                \"g\",\n                {\n                  onMousedown: onEdgeUpdaterTargetMouseDown,\n                  onMouseenter: onEdgeUpdaterMouseEnter,\n                  onMouseout: onEdgeUpdaterMouseOut\n                },\n                h(EdgeAnchor$1, {\n                  \"position\": targetPosition,\n                  \"centerX\": targetX,\n                  \"centerY\": targetY,\n                  \"radius\": edgeUpdaterRadius.value,\n                  \"type\": \"target\",\n                  \"data-type\": \"target\"\n                })\n              )\n            ] : null\n          ]\n        ]\n      );\n    };\n    function onEdgeUpdaterMouseEnter() {\n      mouseOver.value = true;\n    }\n    function onEdgeUpdaterMouseOut() {\n      mouseOver.value = false;\n    }\n    function onEdgeUpdate(event, connection) {\n      emit.update({ event, edge: edge.value, connection });\n    }\n    function onEdgeUpdateEnd(event) {\n      emit.updateEnd({ event, edge: edge.value });\n      updating.value = false;\n    }\n    function handleEdgeUpdater(event, isSourceHandle) {\n      if (event.button !== 0) {\n        return;\n      }\n      updating.value = true;\n      nodeId.value = isSourceHandle ? edge.value.target : edge.value.source;\n      handleId.value = (isSourceHandle ? edge.value.targetHandle : edge.value.sourceHandle) ?? null;\n      edgeUpdaterType.value = isSourceHandle ? \"target\" : \"source\";\n      emit.updateStart({ event, edge: edge.value });\n      handlePointerDown(event);\n    }\n    function onEdgeClick(event) {\n      var _a;\n      const data = { event, edge: edge.value };\n      if (isSelectable.value) {\n        nodesSelectionActive.value = false;\n        if (edge.value.selected && multiSelectionActive.value) {\n          removeSelectedEdges([edge.value]);\n          (_a = edgeEl.value) == null ? void 0 : _a.blur();\n        } else {\n          addSelectedEdges([edge.value]);\n        }\n      }\n      emit.click(data);\n    }\n    function onEdgeContextMenu(event) {\n      emit.contextMenu({ event, edge: edge.value });\n    }\n    function onDoubleClick(event) {\n      emit.doubleClick({ event, edge: edge.value });\n    }\n    function onEdgeMouseEnter(event) {\n      emit.mouseEnter({ event, edge: edge.value });\n    }\n    function onEdgeMouseMove(event) {\n      emit.mouseMove({ event, edge: edge.value });\n    }\n    function onEdgeMouseLeave(event) {\n      emit.mouseLeave({ event, edge: edge.value });\n    }\n    function onEdgeUpdaterSourceMouseDown(event) {\n      handleEdgeUpdater(event, true);\n    }\n    function onEdgeUpdaterTargetMouseDown(event) {\n      handleEdgeUpdater(event, false);\n    }\n    function onKeyDown(event) {\n      var _a;\n      if (!disableKeyboardA11y.value && elementSelectionKeys.includes(event.key) && isSelectable.value) {\n        const unselect = event.key === \"Escape\";\n        if (unselect) {\n          (_a = edgeEl.value) == null ? void 0 : _a.blur();\n          removeSelectedEdges([findEdge(props.id)]);\n        } else {\n          addSelectedEdges([findEdge(props.id)]);\n        }\n      }\n    }\n  }\n});\nconst EdgeWrapper$1 = EdgeWrapper;\nconst ConnectionLine = defineComponent({\n  name: \"ConnectionLine\",\n  compatConfig: { MODE: 3 },\n  setup() {\n    var _a;\n    const {\n      id: id2,\n      connectionMode,\n      connectionStartHandle,\n      connectionEndHandle,\n      connectionPosition,\n      connectionLineType,\n      connectionLineStyle,\n      connectionLineOptions,\n      connectionStatus,\n      viewport,\n      findNode\n    } = useVueFlow();\n    const connectionLineComponent = (_a = inject(Slots)) == null ? void 0 : _a[\"connection-line\"];\n    const fromNode = computed(() => {\n      var _a2;\n      return findNode((_a2 = connectionStartHandle.value) == null ? void 0 : _a2.nodeId);\n    });\n    const toNode = computed(() => {\n      var _a2;\n      return findNode((_a2 = connectionEndHandle.value) == null ? void 0 : _a2.nodeId) ?? null;\n    });\n    const toXY = computed(() => {\n      return {\n        x: (connectionPosition.value.x - viewport.value.x) / viewport.value.zoom,\n        y: (connectionPosition.value.y - viewport.value.y) / viewport.value.zoom\n      };\n    });\n    const markerStart = computed(\n      () => connectionLineOptions.value.markerStart ? `url(#${getMarkerId(connectionLineOptions.value.markerStart, id2)})` : \"\"\n    );\n    const markerEnd = computed(\n      () => connectionLineOptions.value.markerEnd ? `url(#${getMarkerId(connectionLineOptions.value.markerEnd, id2)})` : \"\"\n    );\n    return () => {\n      var _a2, _b, _c;\n      if (!fromNode.value || !connectionStartHandle.value) {\n        return null;\n      }\n      const startHandleId = connectionStartHandle.value.id;\n      const handleType = connectionStartHandle.value.type;\n      const fromHandleBounds = fromNode.value.handleBounds;\n      let handleBounds = (fromHandleBounds == null ? void 0 : fromHandleBounds[handleType]) ?? [];\n      if (connectionMode.value === ConnectionMode.Loose) {\n        const oppositeBounds = (fromHandleBounds == null ? void 0 : fromHandleBounds[handleType === \"source\" ? \"target\" : \"source\"]) ?? [];\n        handleBounds = [...handleBounds, ...oppositeBounds];\n      }\n      if (!handleBounds) {\n        return null;\n      }\n      const fromHandle = (startHandleId ? handleBounds.find((d) => d.id === startHandleId) : handleBounds[0]) ?? null;\n      const fromPosition = (fromHandle == null ? void 0 : fromHandle.position) ?? Position.Top;\n      const { x: fromX, y: fromY } = getHandlePosition(fromNode.value, fromHandle, fromPosition);\n      let toHandle = null;\n      if (toNode.value) {\n        if (connectionMode.value === ConnectionMode.Strict) {\n          toHandle = ((_a2 = toNode.value.handleBounds[handleType === \"source\" ? \"target\" : \"source\"]) == null ? void 0 : _a2.find(\n            (d) => {\n              var _a3;\n              return d.id === ((_a3 = connectionEndHandle.value) == null ? void 0 : _a3.id);\n            }\n          )) || null;\n        } else {\n          toHandle = ((_b = [...toNode.value.handleBounds.source ?? [], ...toNode.value.handleBounds.target ?? []]) == null ? void 0 : _b.find(\n            (d) => {\n              var _a3;\n              return d.id === ((_a3 = connectionEndHandle.value) == null ? void 0 : _a3.id);\n            }\n          )) || null;\n        }\n      }\n      const toPosition = ((_c = connectionEndHandle.value) == null ? void 0 : _c.position) ?? (fromPosition ? oppositePosition[fromPosition] : null);\n      if (!fromPosition || !toPosition) {\n        return null;\n      }\n      const type = connectionLineType.value ?? connectionLineOptions.value.type ?? ConnectionLineType.Bezier;\n      let dAttr = \"\";\n      const pathParams = {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toXY.value.x,\n        targetY: toXY.value.y,\n        targetPosition: toPosition\n      };\n      if (type === ConnectionLineType.Bezier) {\n        [dAttr] = getBezierPath(pathParams);\n      } else if (type === ConnectionLineType.Step) {\n        [dAttr] = getSmoothStepPath({\n          ...pathParams,\n          borderRadius: 0\n        });\n      } else if (type === ConnectionLineType.SmoothStep) {\n        [dAttr] = getSmoothStepPath(pathParams);\n      } else if (type === ConnectionLineType.SimpleBezier) {\n        [dAttr] = getSimpleBezierPath(pathParams);\n      } else {\n        dAttr = `M${fromX},${fromY} ${toXY.value.x},${toXY.value.y}`;\n      }\n      return h(\n        \"svg\",\n        { class: \"vue-flow__edges vue-flow__connectionline vue-flow__container\" },\n        h(\n          \"g\",\n          { class: \"vue-flow__connection\" },\n          connectionLineComponent ? h(connectionLineComponent, {\n            sourceX: fromX,\n            sourceY: fromY,\n            sourcePosition: fromPosition,\n            targetX: toXY.value.x,\n            targetY: toXY.value.y,\n            targetPosition: toPosition,\n            sourceNode: fromNode.value,\n            sourceHandle: fromHandle,\n            targetNode: toNode.value,\n            targetHandle: toHandle,\n            markerEnd: markerEnd.value,\n            markerStart: markerStart.value,\n            connectionStatus: connectionStatus.value\n          }) : h(\"path\", {\n            \"d\": dAttr,\n            \"class\": [connectionLineOptions.value.class, connectionStatus.value, \"vue-flow__connection-path\"],\n            \"style\": {\n              ...connectionLineStyle.value,\n              ...connectionLineOptions.value.style\n            },\n            \"marker-end\": markerEnd.value,\n            \"marker-start\": markerStart.value\n          })\n        )\n      );\n    };\n  }\n});\nconst ConnectionLine$1 = ConnectionLine;\nconst _hoisted_1$4 = [\"id\", \"markerWidth\", \"markerHeight\", \"markerUnits\", \"orient\"];\nconst __default__$6 = {\n  name: \"MarkerType\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$6 = /* @__PURE__ */ defineComponent({\n  ...__default__$6,\n  props: {\n    id: {},\n    type: {},\n    color: { default: \"none\" },\n    width: { default: 12.5 },\n    height: { default: 12.5 },\n    markerUnits: { default: \"strokeWidth\" },\n    orient: { default: \"auto-start-reverse\" },\n    strokeWidth: { default: 1 }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"marker\", {\n        id: _ctx.id,\n        class: \"vue-flow__arrowhead\",\n        viewBox: \"-10 -10 20 20\",\n        refX: \"0\",\n        refY: \"0\",\n        markerWidth: `${_ctx.width}`,\n        markerHeight: `${_ctx.height}`,\n        markerUnits: _ctx.markerUnits,\n        orient: _ctx.orient\n      }, [\n        _ctx.type === unref(MarkerType).ArrowClosed ? (openBlock(), createElementBlock(\"polyline\", {\n          key: 0,\n          style: normalizeStyle({\n            stroke: _ctx.color,\n            fill: _ctx.color,\n            strokeWidth: _ctx.strokeWidth\n          }),\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          points: \"-5,-4 0,0 -5,4 -5,-4\"\n        }, null, 4)) : createCommentVNode(\"\", true),\n        _ctx.type === unref(MarkerType).Arrow ? (openBlock(), createElementBlock(\"polyline\", {\n          key: 1,\n          style: normalizeStyle({\n            stroke: _ctx.color,\n            strokeWidth: _ctx.strokeWidth\n          }),\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          fill: \"none\",\n          points: \"-5,-4 0,0 -5,4\"\n        }, null, 4)) : createCommentVNode(\"\", true)\n      ], 8, _hoisted_1$4);\n    };\n  }\n});\nconst _hoisted_1$3 = {\n  class: \"vue-flow__marker vue-flow__container\",\n  \"aria-hidden\": \"true\"\n};\nconst __default__$5 = {\n  name: \"MarkerDefinitions\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$5 = /* @__PURE__ */ defineComponent({\n  ...__default__$5,\n  setup(__props) {\n    const { id: vueFlowId, edges, connectionLineOptions, defaultMarkerColor: defaultColor } = useVueFlow();\n    const markers = computed(() => {\n      const ids = /* @__PURE__ */ new Set();\n      const markers2 = [];\n      const createMarkers = (marker) => {\n        if (marker) {\n          const markerId = getMarkerId(marker, vueFlowId);\n          if (!ids.has(markerId)) {\n            if (typeof marker === \"object\") {\n              markers2.push({ ...marker, id: markerId, color: marker.color || defaultColor.value });\n            } else {\n              markers2.push({ id: markerId, color: defaultColor.value, type: marker });\n            }\n            ids.add(markerId);\n          }\n        }\n      };\n      for (const marker of [connectionLineOptions.value.markerEnd, connectionLineOptions.value.markerStart]) {\n        createMarkers(marker);\n      }\n      for (const edge of edges.value) {\n        for (const marker of [edge.markerStart, edge.markerEnd]) {\n          createMarkers(marker);\n        }\n      }\n      return markers2.sort((a, b) => a.id.localeCompare(b.id));\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", _hoisted_1$3, [\n        createElementVNode(\"defs\", null, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList(markers.value, (marker) => {\n            return openBlock(), createBlock(_sfc_main$6, {\n              id: marker.id,\n              key: marker.id,\n              type: marker.type,\n              color: marker.color,\n              width: marker.width,\n              height: marker.height,\n              markerUnits: marker.markerUnits,\n              \"stroke-width\": marker.strokeWidth,\n              orient: marker.orient\n            }, null, 8, [\"id\", \"type\", \"color\", \"width\", \"height\", \"markerUnits\", \"stroke-width\", \"orient\"]);\n          }), 128))\n        ])\n      ]);\n    };\n  }\n});\nconst __default__$4 = {\n  name: \"Edges\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  ...__default__$4,\n  setup(__props) {\n    const { findNode, getEdges, elevateEdgesOnSelect } = useVueFlow();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createVNode(_sfc_main$5),\n        (openBlock(true), createElementBlock(Fragment, null, renderList(unref(getEdges), (edge) => {\n          return openBlock(), createElementBlock(\"svg\", {\n            key: edge.id,\n            class: \"vue-flow__edges vue-flow__container\",\n            style: normalizeStyle({ zIndex: unref(getEdgeZIndex)(edge, unref(findNode), unref(elevateEdgesOnSelect)) })\n          }, [\n            createVNode(unref(EdgeWrapper$1), {\n              id: edge.id\n            }, null, 8, [\"id\"])\n          ], 4);\n        }), 128)),\n        createVNode(unref(ConnectionLine$1))\n      ], 64);\n    };\n  }\n});\nconst NodeWrapper = defineComponent({\n  name: \"Node\",\n  compatConfig: { MODE: 3 },\n  props: [\"id\", \"resizeObserver\"],\n  setup(props) {\n    const {\n      id: vueFlowId,\n      noPanClassName,\n      selectNodesOnDrag,\n      nodesSelectionActive,\n      multiSelectionActive,\n      emits,\n      removeSelectedNodes,\n      addSelectedNodes,\n      updateNodeDimensions,\n      onUpdateNodeInternals,\n      getNodeTypes,\n      nodeExtent,\n      elevateNodesOnSelect,\n      disableKeyboardA11y,\n      ariaLiveMessage,\n      snapToGrid,\n      snapGrid,\n      nodeDragThreshold,\n      nodesDraggable,\n      elementsSelectable,\n      nodesConnectable,\n      nodesFocusable,\n      hooks\n    } = useVueFlow();\n    const nodeElement = ref(null);\n    provide(NodeRef, nodeElement);\n    provide(NodeId, props.id);\n    const slots = inject(Slots);\n    const instance = getCurrentInstance();\n    const updateNodePositions = useUpdateNodePositions();\n    const { node, parentNode } = useNode(props.id);\n    const { emit, on } = useNodeHooks(node, emits);\n    const isDraggable = toRef(() => typeof node.draggable === \"undefined\" ? nodesDraggable.value : node.draggable);\n    const isSelectable = toRef(() => typeof node.selectable === \"undefined\" ? elementsSelectable.value : node.selectable);\n    const isConnectable = toRef(() => typeof node.connectable === \"undefined\" ? nodesConnectable.value : node.connectable);\n    const isFocusable = toRef(() => typeof node.focusable === \"undefined\" ? nodesFocusable.value : node.focusable);\n    const hasPointerEvents = computed(\n      () => isSelectable.value || isDraggable.value || hooks.value.nodeClick.hasListeners() || hooks.value.nodeDoubleClick.hasListeners() || hooks.value.nodeMouseEnter.hasListeners() || hooks.value.nodeMouseMove.hasListeners() || hooks.value.nodeMouseLeave.hasListeners()\n    );\n    const isInit = toRef(() => !!node.dimensions.width && !!node.dimensions.height);\n    const nodeCmp = computed(() => {\n      const name = node.type || \"default\";\n      const slot = slots == null ? void 0 : slots[`node-${name}`];\n      if (slot) {\n        return slot;\n      }\n      let nodeType = node.template || getNodeTypes.value[name];\n      if (typeof nodeType === \"string\") {\n        if (instance) {\n          const components = Object.keys(instance.appContext.components);\n          if (components && components.includes(name)) {\n            nodeType = resolveComponent(name, false);\n          }\n        }\n      }\n      if (nodeType && typeof nodeType !== \"string\") {\n        return nodeType;\n      }\n      emits.error(new VueFlowError(ErrorCode.NODE_TYPE_MISSING, nodeType));\n      return false;\n    });\n    const dragging = useDrag({\n      id: props.id,\n      el: nodeElement,\n      disabled: () => !isDraggable.value,\n      selectable: isSelectable,\n      dragHandle: () => node.dragHandle,\n      onStart(event) {\n        emit.dragStart(event);\n      },\n      onDrag(event) {\n        emit.drag(event);\n      },\n      onStop(event) {\n        emit.dragStop(event);\n      },\n      onClick(event) {\n        onSelectNode(event);\n      }\n    });\n    const getClass = computed(() => node.class instanceof Function ? node.class(node) : node.class);\n    const getStyle = computed(() => {\n      const styles = (node.style instanceof Function ? node.style(node) : node.style) || {};\n      const width = node.width instanceof Function ? node.width(node) : node.width;\n      const height = node.height instanceof Function ? node.height(node) : node.height;\n      if (!styles.width && width) {\n        styles.width = typeof width === \"string\" ? width : `${width}px`;\n      }\n      if (!styles.height && height) {\n        styles.height = typeof height === \"string\" ? height : `${height}px`;\n      }\n      return styles;\n    });\n    const zIndex = toRef(() => Number(node.zIndex ?? getStyle.value.zIndex ?? 0));\n    onUpdateNodeInternals((updateIds) => {\n      if (updateIds.includes(props.id) || !updateIds.length) {\n        updateInternals();\n      }\n    });\n    onMounted(() => {\n      watch(\n        () => node.hidden,\n        (isHidden = false, _, onCleanup) => {\n          if (!isHidden && nodeElement.value) {\n            props.resizeObserver.observe(nodeElement.value);\n            onCleanup(() => {\n              if (nodeElement.value) {\n                props.resizeObserver.unobserve(nodeElement.value);\n              }\n            });\n          }\n        },\n        { immediate: true, flush: \"post\" }\n      );\n    });\n    watch([() => node.type, () => node.sourcePosition, () => node.targetPosition], () => {\n      nextTick(() => {\n        updateNodeDimensions([{ id: props.id, nodeElement: nodeElement.value, forceUpdate: true }]);\n      });\n    });\n    watch(\n      [\n        () => node.position.x,\n        () => node.position.y,\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.x;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.y;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.z;\n        },\n        zIndex,\n        () => node.selected,\n        () => node.dimensions.height,\n        () => node.dimensions.width,\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.dimensions.height;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.dimensions.width;\n        }\n      ],\n      ([newX, newY, parentX, parentY, parentZ, nodeZIndex]) => {\n        const xyzPos = {\n          x: newX,\n          y: newY,\n          z: nodeZIndex + (elevateNodesOnSelect.value ? node.selected ? 1e3 : 0 : 0)\n        };\n        if (typeof parentX !== \"undefined\" && typeof parentY !== \"undefined\") {\n          node.computedPosition = getXYZPos({ x: parentX, y: parentY, z: parentZ }, xyzPos);\n        } else {\n          node.computedPosition = xyzPos;\n        }\n      },\n      { flush: \"post\", immediate: true }\n    );\n    watch([() => node.extent, nodeExtent], ([nodeExtent2, globalExtent], [oldNodeExtent, oldGlobalExtent]) => {\n      if (nodeExtent2 !== oldNodeExtent || globalExtent !== oldGlobalExtent) {\n        clampPosition2();\n      }\n    });\n    if (node.extent === \"parent\" || typeof node.extent === \"object\" && \"range\" in node.extent && node.extent.range === \"parent\") {\n      until(() => isInit).toBe(true).then(clampPosition2);\n    } else {\n      clampPosition2();\n    }\n    return () => {\n      if (node.hidden) {\n        return null;\n      }\n      return h(\n        \"div\",\n        {\n          \"ref\": nodeElement,\n          \"data-id\": node.id,\n          \"class\": [\n            \"vue-flow__node\",\n            `vue-flow__node-${nodeCmp.value === false ? \"default\" : node.type || \"default\"}`,\n            {\n              [noPanClassName.value]: isDraggable.value,\n              dragging: dragging == null ? void 0 : dragging.value,\n              draggable: isDraggable.value,\n              selected: node.selected,\n              selectable: isSelectable.value,\n              parent: node.isParent\n            },\n            getClass.value\n          ],\n          \"style\": {\n            visibility: isInit.value ? \"visible\" : \"hidden\",\n            zIndex: node.computedPosition.z ?? zIndex.value,\n            transform: `translate(${node.computedPosition.x}px,${node.computedPosition.y}px)`,\n            pointerEvents: hasPointerEvents.value ? \"all\" : \"none\",\n            ...getStyle.value\n          },\n          \"tabIndex\": isFocusable.value ? 0 : void 0,\n          \"role\": isFocusable.value ? \"group\" : void 0,\n          \"aria-describedby\": disableKeyboardA11y.value ? void 0 : `${ARIA_NODE_DESC_KEY}-${vueFlowId}`,\n          \"aria-label\": node.ariaLabel,\n          \"aria-roledescription\": \"node\",\n          ...node.domAttributes,\n          \"onMouseenter\": onMouseEnter,\n          \"onMousemove\": onMouseMove,\n          \"onMouseleave\": onMouseLeave,\n          \"onContextmenu\": onContextMenu,\n          \"onClick\": onSelectNode,\n          \"onDblclick\": onDoubleClick,\n          \"onKeydown\": onKeyDown\n        },\n        [\n          h(nodeCmp.value === false ? getNodeTypes.value.default : nodeCmp.value, {\n            id: node.id,\n            type: node.type,\n            data: node.data,\n            events: { ...node.events, ...on },\n            selected: node.selected,\n            resizing: node.resizing,\n            dragging: dragging.value,\n            connectable: isConnectable.value,\n            position: node.computedPosition,\n            dimensions: node.dimensions,\n            isValidTargetPos: node.isValidTargetPos,\n            isValidSourcePos: node.isValidSourcePos,\n            parent: node.parentNode,\n            parentNodeId: node.parentNode,\n            zIndex: node.computedPosition.z ?? zIndex.value,\n            targetPosition: node.targetPosition,\n            sourcePosition: node.sourcePosition,\n            label: node.label,\n            dragHandle: node.dragHandle,\n            onUpdateNodeInternals: updateInternals\n          })\n        ]\n      );\n    };\n    function clampPosition2() {\n      const nextPosition = node.computedPosition;\n      const { computedPosition, position } = calcNextPosition(\n        node,\n        snapToGrid.value ? snapPosition(nextPosition, snapGrid.value) : nextPosition,\n        emits.error,\n        nodeExtent.value,\n        parentNode.value\n      );\n      if (node.computedPosition.x !== computedPosition.x || node.computedPosition.y !== computedPosition.y) {\n        node.computedPosition = { ...node.computedPosition, ...computedPosition };\n      }\n      if (node.position.x !== position.x || node.position.y !== position.y) {\n        node.position = position;\n      }\n    }\n    function updateInternals() {\n      if (nodeElement.value) {\n        updateNodeDimensions([{ id: props.id, nodeElement: nodeElement.value, forceUpdate: true }]);\n      }\n    }\n    function onMouseEnter(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseEnter({ event, node });\n      }\n    }\n    function onMouseMove(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseMove({ event, node });\n      }\n    }\n    function onMouseLeave(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseLeave({ event, node });\n      }\n    }\n    function onContextMenu(event) {\n      return emit.contextMenu({ event, node });\n    }\n    function onDoubleClick(event) {\n      return emit.doubleClick({ event, node });\n    }\n    function onSelectNode(event) {\n      if (isSelectable.value && (!selectNodesOnDrag.value || !isDraggable.value || nodeDragThreshold.value > 0)) {\n        handleNodeClick(\n          node,\n          multiSelectionActive.value,\n          addSelectedNodes,\n          removeSelectedNodes,\n          nodesSelectionActive,\n          false,\n          nodeElement.value\n        );\n      }\n      emit.click({ event, node });\n    }\n    function onKeyDown(event) {\n      if (isInputDOMNode(event) || disableKeyboardA11y.value) {\n        return;\n      }\n      if (elementSelectionKeys.includes(event.key) && isSelectable.value) {\n        const unselect = event.key === \"Escape\";\n        handleNodeClick(\n          node,\n          multiSelectionActive.value,\n          addSelectedNodes,\n          removeSelectedNodes,\n          nodesSelectionActive,\n          unselect,\n          nodeElement.value\n        );\n      } else if (isDraggable.value && node.selected && arrowKeyDiffs[event.key]) {\n        event.preventDefault();\n        ariaLiveMessage.value = `Moved selected node ${event.key.replace(\"Arrow\", \"\").toLowerCase()}. New position, x: ${~~node.position.x}, y: ${~~node.position.y}`;\n        updateNodePositions(\n          {\n            x: arrowKeyDiffs[event.key].x,\n            y: arrowKeyDiffs[event.key].y\n          },\n          event.shiftKey\n        );\n      }\n    }\n  }\n});\nconst NodeWrapper$1 = NodeWrapper;\nconst _hoisted_1$2 = {\n  height: \"0\",\n  width: \"0\"\n};\nconst __default__$3 = {\n  name: \"EdgeLabelRenderer\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$3 = /* @__PURE__ */ defineComponent({\n  ...__default__$3,\n  setup(__props) {\n    const { viewportRef } = useVueFlow();\n    const teleportTarget = toRef(() => {\n      var _a;\n      return (_a = viewportRef.value) == null ? void 0 : _a.getElementsByClassName(\"vue-flow__edge-labels\")[0];\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", null, [\n        (openBlock(), createElementBlock(\"foreignObject\", _hoisted_1$2, [\n          (openBlock(), createBlock(Teleport, {\n            to: teleportTarget.value,\n            disabled: !teleportTarget.value\n          }, [\n            renderSlot(_ctx.$slots, \"default\")\n          ], 8, [\"to\", \"disabled\"]))\n        ]))\n      ]);\n    };\n  }\n});\nfunction useNodesInitialized(options = { includeHiddenNodes: false }) {\n  const { nodes } = useVueFlow();\n  return computed(() => {\n    if (nodes.value.length === 0) {\n      return false;\n    }\n    for (const node of nodes.value) {\n      if (options.includeHiddenNodes || !node.hidden) {\n        if ((node == null ? void 0 : node.handleBounds) === void 0 || node.dimensions.width === 0 || node.dimensions.height === 0) {\n          return false;\n        }\n      }\n    }\n    return true;\n  });\n}\nconst _hoisted_1$1 = { class: \"vue-flow__nodes vue-flow__container\" };\nconst __default__$2 = {\n  name: \"Nodes\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$2 = /* @__PURE__ */ defineComponent({\n  ...__default__$2,\n  setup(__props) {\n    const { getNodes, updateNodeDimensions, emits } = useVueFlow();\n    const nodesInitialized = useNodesInitialized();\n    const resizeObserver = ref();\n    watch(\n      nodesInitialized,\n      (isInit) => {\n        if (isInit) {\n          nextTick(() => {\n            emits.nodesInitialized(getNodes.value);\n          });\n        }\n      },\n      { immediate: true }\n    );\n    onMounted(() => {\n      resizeObserver.value = new ResizeObserver((entries) => {\n        const updates = entries.map((entry) => {\n          const id2 = entry.target.getAttribute(\"data-id\");\n          return {\n            id: id2,\n            nodeElement: entry.target,\n            forceUpdate: true\n          };\n        });\n        nextTick(() => updateNodeDimensions(updates));\n      });\n    });\n    onBeforeUnmount(() => {\n      var _a;\n      return (_a = resizeObserver.value) == null ? void 0 : _a.disconnect();\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$1, [\n        resizeObserver.value ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(unref(getNodes), (node, __, ___, _cached) => {\n          const _memo = [node.id];\n          if (_cached && _cached.key === node.id && isMemoSame(_cached, _memo))\n            return _cached;\n          const _item = (openBlock(), createBlock(unref(NodeWrapper$1), {\n            id: node.id,\n            key: node.id,\n            \"resize-observer\": resizeObserver.value\n          }, null, 8, [\"id\", \"resize-observer\"]));\n          _item.memo = _memo;\n          return _item;\n        }, _cache, 0), 128)) : createCommentVNode(\"\", true)\n      ]);\n    };\n  }\n});\nfunction useStylesLoadedWarning() {\n  const { emits } = useVueFlow();\n  onMounted(() => {\n    if (isDev()) {\n      const pane = document.querySelector(\".vue-flow__pane\");\n      if (pane && !(window.getComputedStyle(pane).zIndex === \"1\")) {\n        emits.error(new VueFlowError(ErrorCode.MISSING_STYLES));\n      }\n    }\n  });\n}\nconst _hoisted_1 = /* @__PURE__ */ createElementVNode(\"div\", { class: \"vue-flow__edge-labels\" }, null, -1);\nconst __default__$1 = {\n  name: \"VueFlow\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  ...__default__$1,\n  props: {\n    id: {},\n    modelValue: {},\n    nodes: {},\n    edges: {},\n    edgeTypes: {},\n    nodeTypes: {},\n    connectionMode: {},\n    connectionLineType: {},\n    connectionLineStyle: { default: void 0 },\n    connectionLineOptions: { default: void 0 },\n    connectionRadius: {},\n    isValidConnection: { type: [Function, null], default: void 0 },\n    deleteKeyCode: { default: void 0 },\n    selectionKeyCode: { type: [Boolean, null], default: void 0 },\n    multiSelectionKeyCode: { default: void 0 },\n    zoomActivationKeyCode: { default: void 0 },\n    panActivationKeyCode: { default: void 0 },\n    snapToGrid: { type: Boolean, default: void 0 },\n    snapGrid: {},\n    onlyRenderVisibleElements: { type: Boolean, default: void 0 },\n    edgesUpdatable: { type: [Boolean, String], default: void 0 },\n    nodesDraggable: { type: Boolean, default: void 0 },\n    nodesConnectable: { type: Boolean, default: void 0 },\n    nodeDragThreshold: {},\n    elementsSelectable: { type: Boolean, default: void 0 },\n    selectNodesOnDrag: { type: Boolean, default: void 0 },\n    panOnDrag: { type: [Boolean, Array], default: void 0 },\n    minZoom: {},\n    maxZoom: {},\n    defaultViewport: {},\n    translateExtent: {},\n    nodeExtent: {},\n    defaultMarkerColor: {},\n    zoomOnScroll: { type: Boolean, default: void 0 },\n    zoomOnPinch: { type: Boolean, default: void 0 },\n    panOnScroll: { type: Boolean, default: void 0 },\n    panOnScrollSpeed: {},\n    panOnScrollMode: {},\n    paneClickDistance: {},\n    zoomOnDoubleClick: { type: Boolean, default: void 0 },\n    preventScrolling: { type: Boolean, default: void 0 },\n    selectionMode: {},\n    edgeUpdaterRadius: {},\n    fitViewOnInit: { type: Boolean, default: void 0 },\n    connectOnClick: { type: Boolean, default: void 0 },\n    applyDefault: { type: Boolean, default: void 0 },\n    autoConnect: { type: [Boolean, Function], default: void 0 },\n    noDragClassName: {},\n    noWheelClassName: {},\n    noPanClassName: {},\n    defaultEdgeOptions: {},\n    elevateEdgesOnSelect: { type: Boolean, default: void 0 },\n    elevateNodesOnSelect: { type: Boolean, default: void 0 },\n    disableKeyboardA11y: { type: Boolean, default: void 0 },\n    edgesFocusable: { type: Boolean, default: void 0 },\n    nodesFocusable: { type: Boolean, default: void 0 },\n    autoPanOnConnect: { type: Boolean, default: void 0 },\n    autoPanOnNodeDrag: { type: Boolean, default: void 0 },\n    autoPanSpeed: {}\n  },\n  emits: [\"nodesChange\", \"edgesChange\", \"nodesInitialized\", \"paneReady\", \"init\", \"updateNodeInternals\", \"error\", \"connect\", \"connectStart\", \"connectEnd\", \"clickConnectStart\", \"clickConnectEnd\", \"moveStart\", \"move\", \"moveEnd\", \"selectionDragStart\", \"selectionDrag\", \"selectionDragStop\", \"selectionContextMenu\", \"selectionStart\", \"selectionEnd\", \"viewportChangeStart\", \"viewportChange\", \"viewportChangeEnd\", \"paneScroll\", \"paneClick\", \"paneContextMenu\", \"paneMouseEnter\", \"paneMouseMove\", \"paneMouseLeave\", \"edgeUpdate\", \"edgeContextMenu\", \"edgeMouseEnter\", \"edgeMouseMove\", \"edgeMouseLeave\", \"edgeDoubleClick\", \"edgeClick\", \"edgeUpdateStart\", \"edgeUpdateEnd\", \"nodeContextMenu\", \"nodeMouseEnter\", \"nodeMouseMove\", \"nodeMouseLeave\", \"nodeDoubleClick\", \"nodeClick\", \"nodeDragStart\", \"nodeDrag\", \"nodeDragStop\", \"miniMapNodeClick\", \"miniMapNodeDoubleClick\", \"miniMapNodeMouseEnter\", \"miniMapNodeMouseMove\", \"miniMapNodeMouseLeave\", \"update:modelValue\", \"update:nodes\", \"update:edges\"],\n  setup(__props, { expose: __expose, emit }) {\n    const props = __props;\n    const slots = useSlots();\n    const modelValue = useVModel(props, \"modelValue\", emit);\n    const modelNodes = useVModel(props, \"nodes\", emit);\n    const modelEdges = useVModel(props, \"edges\", emit);\n    const vfInstance = useVueFlow(props);\n    const disposeWatchers = useWatchProps({ modelValue, nodes: modelNodes, edges: modelEdges }, props, vfInstance);\n    useHooks(emit, vfInstance.hooks);\n    useOnInitHandler();\n    useStylesLoadedWarning();\n    provide(Slots, slots);\n    onUnmounted(disposeWatchers);\n    __expose(vfInstance);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref: unref(vfInstance).vueFlowRef,\n        class: \"vue-flow\"\n      }, [\n        createVNode(_sfc_main$8, null, {\n          default: withCtx(() => [\n            createVNode(_sfc_main$4),\n            _hoisted_1,\n            createVNode(_sfc_main$2),\n            renderSlot(_ctx.$slots, \"zoom-pane\")\n          ]),\n          _: 3\n        }),\n        renderSlot(_ctx.$slots, \"default\"),\n        createVNode(_sfc_main$7)\n      ], 512);\n    };\n  }\n});\nconst __default__ = {\n  name: \"Panel\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    position: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const { userSelectionActive } = useVueFlow();\n    const positionClasses = computed(() => `${props.position}`.split(\"-\"));\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([\"vue-flow__panel\", positionClasses.value]),\n        style: normalizeStyle({ pointerEvents: unref(userSelectionActive) ? \"none\" : \"all\" })\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 6);\n    };\n  }\n});\nfunction useConnection() {\n  const {\n    connectionStartHandle: startHandle,\n    connectionEndHandle: endHandle,\n    connectionStatus: status,\n    connectionPosition: position\n  } = useVueFlow();\n  return {\n    startHandle,\n    endHandle,\n    status,\n    position\n  };\n}\nfunction useHandleConnections(params) {\n  const { type, id: id2, nodeId, onConnect, onDisconnect } = params;\n  const { connectionLookup } = useVueFlow();\n  const _nodeId = useNodeId();\n  const currentNodeId = toRef(() => toValue$1(nodeId) ?? _nodeId);\n  const handleType = toRef(() => toValue$1(type));\n  const handleId = toRef(() => toValue$1(id2) ?? null);\n  const prevConnections = ref(null);\n  const connections = ref();\n  watch(\n    () => connectionLookup.value.get(`${currentNodeId.value}-${handleType.value}-${handleId.value}`),\n    (nextConnections) => {\n      if (areConnectionMapsEqual(connections.value, nextConnections)) {\n        return;\n      }\n      connections.value = nextConnections;\n    },\n    { immediate: true }\n  );\n  watch(\n    [connections, () => typeof onConnect !== \"undefined\", () => typeof onDisconnect !== \"undefined\"],\n    ([currentConnections = /* @__PURE__ */ new Map()]) => {\n      if (prevConnections.value && prevConnections.value !== currentConnections) {\n        handleConnectionChange(prevConnections.value, currentConnections, onDisconnect);\n        handleConnectionChange(currentConnections, prevConnections.value, onConnect);\n      }\n      prevConnections.value = currentConnections;\n    },\n    { immediate: true }\n  );\n  return computed(() => {\n    if (!connections.value) {\n      return [];\n    }\n    return Array.from(connections.value.values());\n  });\n}\nfunction useNodeConnections(params = {}) {\n  const { handleType, handleId, nodeId, onConnect, onDisconnect } = params;\n  const { connectionLookup } = useVueFlow();\n  const _nodeId = useNodeId();\n  const prevConnections = ref(null);\n  const connections = ref();\n  const lookupKey = computed(() => {\n    const currNodeId = toValue$1(nodeId) ?? _nodeId;\n    const currentHandleType = toValue$1(handleType);\n    const currHandleId = toValue$1(handleId);\n    let handleSuffix = \"\";\n    if (currentHandleType) {\n      handleSuffix = currHandleId ? `-${currentHandleType}-${currHandleId}` : `-${currentHandleType}`;\n    }\n    return `${currNodeId}${handleSuffix}`;\n  });\n  watch(\n    () => connectionLookup.value.get(lookupKey.value),\n    (nextConnections) => {\n      if (areConnectionMapsEqual(connections.value, nextConnections)) {\n        return;\n      }\n      connections.value = nextConnections;\n    },\n    { immediate: true }\n  );\n  watch(\n    [connections, () => typeof onConnect !== \"undefined\", () => typeof onDisconnect !== \"undefined\"],\n    ([currentConnections = /* @__PURE__ */ new Map()]) => {\n      if (prevConnections.value && prevConnections.value !== currentConnections) {\n        handleConnectionChange(prevConnections.value, currentConnections, onDisconnect);\n        handleConnectionChange(currentConnections, prevConnections.value, onConnect);\n      }\n      prevConnections.value = currentConnections;\n    },\n    { immediate: true }\n  );\n  return computed(() => {\n    if (!connections.value) {\n      return [];\n    }\n    return Array.from(connections.value.values());\n  });\n}\nfunction useNodesData(_nodeIds) {\n  const { findNode } = useVueFlow();\n  return computed({\n    get() {\n      const nodeIds = toValue$1(_nodeIds);\n      if (!Array.isArray(nodeIds)) {\n        const node = findNode(nodeIds);\n        if (node) {\n          return {\n            id: node.id,\n            type: node.type,\n            data: node.data\n          };\n        }\n        return null;\n      }\n      const data = [];\n      for (const nodeId of nodeIds) {\n        const node = findNode(nodeId);\n        if (node) {\n          data.push({\n            id: node.id,\n            type: node.type,\n            data: node.data\n          });\n        }\n      }\n      return data;\n    },\n    set() {\n      warn(\"You are trying to set node data via useNodesData. This is not supported.\");\n    }\n  });\n}\nfunction useEdgesData(_edgeIds) {\n  const { findEdge } = useVueFlow();\n  return computed({\n    get() {\n      const edgeIds = toValue$1(_edgeIds);\n      if (!Array.isArray(edgeIds)) {\n        const edge = findEdge(edgeIds);\n        if (edge) {\n          return {\n            id: edge.id,\n            type: edge.type,\n            data: edge.data ?? null\n          };\n        }\n        return null;\n      }\n      const data = [];\n      for (const edgeId of edgeIds) {\n        const edge = findEdge(edgeId);\n        if (edge) {\n          data.push({\n            id: edge.id,\n            type: edge.type,\n            data: edge.data ?? null\n          });\n        }\n      }\n      return data;\n    },\n    set() {\n      warn(\"You are trying to set edge data via useEdgesData. This is not supported.\");\n    }\n  });\n}\nexport {\n  _sfc_main$d as BaseEdge,\n  BezierEdge$1 as BezierEdge,\n  ConnectionLineType,\n  ConnectionMode,\n  _sfc_main$3 as EdgeLabelRenderer,\n  _sfc_main$e as EdgeText,\n  ErrorCode,\n  _sfc_main$f as Handle,\n  MarkerType,\n  NodeId as NodeIdInjection,\n  PanOnScrollMode,\n  _sfc_main as Panel,\n  PanelPosition,\n  Position,\n  SelectionMode,\n  SimpleBezierEdge$1 as SimpleBezierEdge,\n  SmoothStepEdge$1 as SmoothStepEdge,\n  StepEdge$1 as StepEdge,\n  StraightEdge$1 as StraightEdge,\n  _sfc_main$1 as VueFlow,\n  VueFlowError,\n  VueFlow as VueFlowInjection,\n  addEdge,\n  applyChanges,\n  applyEdgeChanges,\n  applyNodeChanges,\n  clamp,\n  connectionExists,\n  defaultEdgeTypes,\n  defaultNodeTypes,\n  getBezierEdgeCenter,\n  getBezierPath,\n  getBoundsofRects,\n  getConnectedEdges,\n  getIncomers,\n  getMarkerId,\n  getNodesInside,\n  getOutgoers,\n  getRectOfNodes,\n  getSimpleBezierPath,\n  getSimpleEdgeCenter,\n  getSmoothStepPath,\n  getStraightPath,\n  getTransformForBounds,\n  rendererPointToPoint as graphPosToZoomedPos,\n  isEdge,\n  isErrorOfType,\n  isGraphEdge,\n  isGraphNode,\n  isMacOs,\n  isNode,\n  pointToRendererPoint,\n  rendererPointToPoint,\n  updateEdge,\n  useConnection,\n  useEdge,\n  useEdgesData,\n  useGetPointerPosition,\n  useHandle,\n  useHandleConnections,\n  useKeyPress,\n  useNode,\n  useNodeConnections,\n  useNodeId,\n  useNodesData,\n  useNodesInitialized,\n  useVueFlow,\n  useZoomPanHelper,\n  wheelDelta\n};\n","import { h, defineComponent, computed, toRef, openBlock, createElementBlock, normalizeStyle, renderSlot, createElementVNode, unref, createBlock, createCommentVNode } from \"vue\";\nimport { useVueFlow } from \"@vue-flow/core\";\nvar BackgroundVariant = /* @__PURE__ */ ((BackgroundVariant2) => {\n  BackgroundVariant2[\"Lines\"] = \"lines\";\n  BackgroundVariant2[\"Dots\"] = \"dots\";\n  return BackgroundVariant2;\n})(BackgroundVariant || {});\nconst LinePattern = function({ dimensions, size, color }) {\n  return h(\"path\", {\n    \"stroke\": color,\n    \"stroke-width\": size,\n    \"d\": `M${dimensions[0] / 2} 0 V${dimensions[1]} M0 ${dimensions[1] / 2} H${dimensions[0]}`\n  });\n};\nconst DotPattern = function({ radius, color }) {\n  return h(\"circle\", { cx: radius, cy: radius, r: radius, fill: color });\n};\n({\n  [BackgroundVariant.Lines]: LinePattern,\n  [BackgroundVariant.Dots]: DotPattern\n});\nconst DefaultBgColors = {\n  [BackgroundVariant.Dots]: \"#81818a\",\n  [BackgroundVariant.Lines]: \"#eee\"\n};\nconst _hoisted_1 = [\"id\", \"x\", \"y\", \"width\", \"height\", \"patternTransform\"];\nconst _hoisted_2 = {\n  key: 2,\n  height: \"100\",\n  width: \"100\"\n};\nconst _hoisted_3 = [\"fill\"];\nconst _hoisted_4 = [\"x\", \"y\", \"fill\"];\nconst __default__ = {\n  name: \"Background\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    id: {},\n    variant: { default: () => BackgroundVariant.Dots },\n    gap: { default: 20 },\n    size: { default: 1 },\n    lineWidth: { default: 1 },\n    patternColor: {},\n    color: {},\n    bgColor: {},\n    height: { default: 100 },\n    width: { default: 100 },\n    x: { default: 0 },\n    y: { default: 0 },\n    offset: { default: 0 }\n  },\n  setup(__props) {\n    const { id: vueFlowId, viewport } = useVueFlow();\n    const background = computed(() => {\n      const zoom = viewport.value.zoom;\n      const [gapX, gapY] = Array.isArray(__props.gap) ? __props.gap : [__props.gap, __props.gap];\n      const scaledGap = [gapX * zoom || 1, gapY * zoom || 1];\n      const scaledSize = __props.size * zoom;\n      const [offsetX, offsetY] = Array.isArray(__props.offset) ? __props.offset : [__props.offset, __props.offset];\n      const scaledOffset = [offsetX * zoom || 1 + scaledGap[0] / 2, offsetY * zoom || 1 + scaledGap[1] / 2];\n      return {\n        scaledGap,\n        offset: scaledOffset,\n        size: scaledSize\n      };\n    });\n    const patternId = toRef(() => `pattern-${vueFlowId}${__props.id ? `-${__props.id}` : \"\"}`);\n    const patternColor = toRef(() => __props.color || __props.patternColor || DefaultBgColors[__props.variant || BackgroundVariant.Dots]);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", {\n        class: \"vue-flow__background vue-flow__container\",\n        style: normalizeStyle({\n          height: `${_ctx.height > 100 ? 100 : _ctx.height}%`,\n          width: `${_ctx.width > 100 ? 100 : _ctx.width}%`\n        })\n      }, [\n        renderSlot(_ctx.$slots, \"pattern-container\", { id: patternId.value }, () => [\n          createElementVNode(\"pattern\", {\n            id: patternId.value,\n            x: unref(viewport).x % background.value.scaledGap[0],\n            y: unref(viewport).y % background.value.scaledGap[1],\n            width: background.value.scaledGap[0],\n            height: background.value.scaledGap[1],\n            patternTransform: `translate(-${background.value.offset[0]},-${background.value.offset[1]})`,\n            patternUnits: \"userSpaceOnUse\"\n          }, [\n            renderSlot(_ctx.$slots, \"pattern\", {}, () => [\n              _ctx.variant === unref(BackgroundVariant).Lines ? (openBlock(), createBlock(unref(LinePattern), {\n                key: 0,\n                size: _ctx.lineWidth,\n                color: patternColor.value,\n                dimensions: background.value.scaledGap\n              }, null, 8, [\"size\", \"color\", \"dimensions\"])) : _ctx.variant === unref(BackgroundVariant).Dots ? (openBlock(), createBlock(unref(DotPattern), {\n                key: 1,\n                color: patternColor.value,\n                radius: background.value.size / 2\n              }, null, 8, [\"color\", \"radius\"])) : createCommentVNode(\"\", true),\n              _ctx.bgColor ? (openBlock(), createElementBlock(\"svg\", _hoisted_2, [\n                createElementVNode(\"rect\", {\n                  width: \"100%\",\n                  height: \"100%\",\n                  fill: _ctx.bgColor\n                }, null, 8, _hoisted_3)\n              ])) : createCommentVNode(\"\", true)\n            ])\n          ], 8, _hoisted_1)\n        ]),\n        createElementVNode(\"rect\", {\n          x: _ctx.x,\n          y: _ctx.y,\n          width: \"100%\",\n          height: \"100%\",\n          fill: `url(#${patternId.value})`\n        }, null, 8, _hoisted_4),\n        renderSlot(_ctx.$slots, \"default\", { id: patternId.value })\n      ], 4);\n    };\n  }\n});\nexport {\n  _sfc_main as Background,\n  BackgroundVariant\n};\n","<template>\n  <div class=\"ultra-card-wrapper\">\n    <!-- Main Card Container -->\n    <div\n      :class=\"[\n        'ultra-card',\n        `card-${nodeCategory}`,\n        {\n          'card-ai-wide': isAIAgent,\n          'card-tool-narrow': isLangchainTool,\n          'card-running': isActive,\n          'card-executing': data.isExecuting || data.status === 'executing',\n          'card-error': hasError,\n          'card-selected': selected\n        }\n      ]\"\n    >\n      <!-- Top Ribbon with Category -->\n      <div class=\"card-ribbon\" :style=\"{ background: ribbonGradient }\">\n        <span class=\"ribbon-text\">{{ categoryText }}</span>\n      </div>\n\n      <!-- Main Card Content -->\n      <div class=\"card-content\">\n        <!-- Large Central Icon -->\n        <div class=\"icon-container\" :style=\"{ background: iconBackground }\">\n          <Icon :icon=\"nodeIcon\" class=\"main-icon\" />\n          <div class=\"icon-pulse\"></div>\n        </div>\n\n        <!-- Title Only -->\n        <div class=\"text-content\">\n          <h3 class=\"card-title\">{{ businessTitle }}</h3>\n        </div>\n\n      </div>\n\n      <!-- Bottom Tech Strip -->\n      <div class=\"tech-strip\">\n        <div class=\"tech-dots\">\n          <span v-for=\"i in 3\" :key=\"i\" class=\"tech-dot\"></span>\n        </div>\n        <span class=\"tech-type\">{{ techTypeLabel }}</span>\n        <div class=\"tech-badge\" v-if=\"techBadge\">\n          <span>{{ techBadge }}</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- Modern Handle Placement -->\n    <template v-if=\"isAIAgent\">\n      <!-- AI Agent: Lateral for main flow, bottom for tools -->\n      <Handle\n        type=\"target\"\n        :position=\"Position.Left\"\n        id=\"left\"\n        class=\"ultra-handle handle-main\"\n      />\n      <Handle\n        type=\"source\"\n        :position=\"Position.Right\"\n        id=\"right\"\n        class=\"ultra-handle handle-main\"\n      />\n      <!-- Bottom handles for tool connections -->\n      <Handle\n        v-for=\"i in 4\"\n        :key=\"`tool-out-${i}`\"\n        type=\"source\"\n        :position=\"Position.Bottom\"\n        :id=\"`tool-${i - 1}`\"\n        class=\"ultra-handle handle-tool\"\n        :style=\"{ left: `${20 + (i - 1) * 20}%` }\"\n      />\n    </template>\n\n    <template v-else-if=\"isLangchainTool\">\n      <!-- Tools: Connect FROM top (coming from agent) -->\n      <Handle\n        type=\"target\"\n        :position=\"Position.Top\"\n        id=\"top\"\n        class=\"ultra-handle handle-tool-input\"\n      />\n      <Handle\n        type=\"source\"\n        :position=\"Position.Bottom\"\n        id=\"bottom\"\n        class=\"ultra-handle handle-tool-output\"\n      />\n    </template>\n\n    <template v-else-if=\"nodeCategory === 'storage'\">\n      <!-- Storage: Vertical flow -->\n      <Handle\n        type=\"target\"\n        :position=\"Position.Top\"\n        id=\"top\"\n        class=\"ultra-handle handle-data\"\n      />\n      <Handle\n        type=\"source\"\n        :position=\"Position.Bottom\"\n        id=\"bottom\"\n        class=\"ultra-handle handle-data\"\n      />\n    </template>\n\n    <template v-else-if=\"nodeCategory === 'trigger'\">\n      <!-- Trigger: Only output -->\n      <Handle\n        type=\"source\"\n        :position=\"Position.Right\"\n        id=\"right\"\n        class=\"ultra-handle handle-trigger\"\n      />\n    </template>\n\n    <template v-else>\n      <!-- Default: Standard flow -->\n      <Handle\n        type=\"target\"\n        :position=\"Position.Left\"\n        id=\"left\"\n        class=\"ultra-handle handle-standard\"\n      />\n      <Handle\n        type=\"source\"\n        :position=\"Position.Right\"\n        id=\"right\"\n        class=\"ultra-handle handle-standard\"\n      />\n    </template>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { Handle, Position } from '@vue-flow/core'\nimport { Icon } from '@iconify/vue'\n\ninterface Props {\n  data: {\n    label: string\n    type: string\n    nodeType?: string\n    status?: 'active' | 'pending' | 'error' | 'success' | 'idle' | 'executing'\n    executionCount?: number\n    successRate?: number\n    avgTime?: string\n    inputs?: string[]\n    outputs?: string[]\n    isExecuting?: boolean  // New: track if node is currently executing\n  }\n  selected?: boolean\n}\n\nconst props = defineProps<Props>()\n\n// Detect Langchain tools for narrower cards (separate nodes connected to agents)\nconst isLangchainTool = computed(() => {\n  const nodeType = props.data.nodeType || ''\n  const type = props.data.type || ''\n  const label = props.data.label.toLowerCase()\n\n  // Check type returned by getNodeTypeFromN8nType\n  // These are SEPARATE tool nodes that connect TO the agent\n  // Based on REAL node names from database\n  return type === 'tool' ||  // This is what getNodeTypeFromN8nType returns for tools!\n         nodeType.includes('toolWorkflow') ||\n         nodeType.includes('dateTimeTool') ||\n         nodeType.includes('vectorStoreQdrant') ||\n         nodeType.includes('embeddingsOpenAi') ||\n         nodeType.includes('lmChatOpenAi') ||\n         nodeType.includes('outputParser') ||\n         // Real node names from Milena workflow\n         label === 'info ordini' ||\n         label === 'date & time' ||\n         label === 'parcelapp' ||\n         label === 'formatta risposta' ||\n         label.includes('retriever') ||\n         label.includes('memory') ||\n         label.includes('buffer')\n})\n\n// Detect AI/Langchain agents for wider cards\nconst isAIAgent = computed(() => {\n  const nodeType = props.data.nodeType || ''\n  const type = props.data.type || ''\n  const label = props.data.label.toLowerCase()\n\n  // Check both type (from getNodeTypeFromN8nType) and nodeType (original)\n  // Based on REAL node names from database\n  // ONLY true AI agents should be wide\n  const result = type === 'ai' && nodeType.includes('langchain.agent')\n\n  if (result) {\n    console.log('🤖 AI Agent detected:', label, 'type:', type, 'nodeType:', nodeType)\n  }\n\n  return result\n})\n\n// Smart categorization\nconst nodeCategory = computed(() => {\n  const type = props.data.type\n  const nodeType = props.data.nodeType || ''\n  const label = props.data.label.toLowerCase()\n\n  if (type === 'trigger' || nodeType.includes('trigger')) return 'trigger'\n  if (type === 'ai' || nodeType.includes('agent') || nodeType.includes('openai')) return 'ai'\n  if (type === 'storage' || nodeType.includes('database') || nodeType.includes('vector')) return 'storage'\n  if (nodeType.includes('if') || nodeType.includes('switch')) return 'logic'\n  if (nodeType.includes('http') || nodeType.includes('webhook')) return 'integration'\n  if (nodeType.includes('code') || nodeType.includes('function')) return 'transform'\n  if (label.includes('email') || label.includes('slack')) return 'communication'\n\n  return 'process'\n})\n\n// Category icons - unique set\nconst categoryIcon = computed(() => {\n  const icons: Record<string, string> = {\n    'trigger': 'carbon:flash',\n    'ai': 'carbon:watson-machine-learning',\n    'storage': 'carbon:db2-database',\n    'logic': 'carbon:decision-tree',\n    'integration': 'carbon:api',\n    'transform': 'carbon:transform',\n    'communication': 'carbon:email',\n    'process': 'carbon:flow'\n  }\n  return icons[nodeCategory.value] || 'carbon:circle-solid'\n})\n\n// Main node icons - different from category\nconst nodeIcon = computed(() => {\n  const name = props.data.label.toLowerCase()\n  const type = props.data.nodeType || ''\n\n  // Brand icons - Use official logos\n  if (type.includes('postgres') || name.includes('postgres')) return 'simple-icons:postgresql'\n  if (type.includes('mysql') || name.includes('mysql')) return 'simple-icons:mysql'\n  if (type.includes('mongodb') || name.includes('mongo')) return 'simple-icons:mongodb'\n  if (type.includes('redis') || name.includes('redis')) return 'simple-icons:redis'\n  if (type.includes('supabase') || name.includes('supabase')) return 'simple-icons:supabase'\n\n  // Microsoft/Office services - Check first!\n  if (type === 'n8n-nodes-base.microsoftOutlook' ||\n      type === 'n8n-nodes-base.microsoftOutlookTrigger' ||\n      type.includes('microsoftOutlook') ||\n      type.includes('outlook') ||\n      name.includes('outlook') ||\n      name.includes('mail') && (name.includes('ordini') || name.includes('email'))) return 'vscode-icons:file-type-outlook'\n  if (type.includes('telegram') || name.includes('telegram')) return 'simple-icons:telegram'\n  if (type.includes('slack') || name.includes('slack')) return 'simple-icons:slack'\n  if (type.includes('gmail') || name.includes('gmail')) return 'simple-icons:gmail'\n  if (type.includes('discord') || name.includes('discord')) return 'simple-icons:discord'\n  if (type.includes('whatsapp') || name.includes('whatsapp')) return 'simple-icons:whatsapp'\n\n  // AI Services - Check AI Agents first with better icons\n  if (type.includes('langchain.agent') ||\n      (type === 'ai' && nodeType.includes('agent')) ||\n      name.includes('agent') || name.includes('assistente') ||\n      name.includes('milena')) {\n    return 'fluent:brain-circuit-20-regular' // Modern AI brain circuit icon\n  }\n  if (type.includes('openai') || name.includes('openai') || name.includes('gpt')) return 'simple-icons:openai'\n  if (type.includes('anthropic') || name.includes('claude')) return 'simple-icons:anthropic'\n  if (type.includes('langchain')) return 'carbon:flow-data' // Better for LangChain\n\n  // Cloud & APIs\n  if (type.includes('google') || name.includes('google')) return 'simple-icons:google'\n  if (type.includes('aws') || name.includes('aws')) return 'simple-icons:amazonaws'\n  if (type.includes('azure') || name.includes('azure')) return 'simple-icons:microsoftazure'\n  if (type.includes('github') || name.includes('github')) return 'simple-icons:github'\n  if (type.includes('gitlab') || name.includes('gitlab')) return 'simple-icons:gitlab'\n\n  // Dev tools\n  if (type.includes('docker') || name.includes('docker')) return 'simple-icons:docker'\n  if (type.includes('kubernetes') || name.includes('kubernetes')) return 'simple-icons:kubernetes'\n  if (type.includes('git') || name.includes('git')) return 'simple-icons:git'\n\n  // Social Media\n  if (type.includes('twitter') || name.includes('twitter')) return 'simple-icons:x'\n  if (type.includes('facebook') || name.includes('facebook')) return 'simple-icons:facebook'\n  if (type.includes('instagram') || name.includes('instagram')) return 'simple-icons:instagram'\n  if (type.includes('linkedin') || name.includes('linkedin')) return 'simple-icons:linkedin'\n\n  // Other services\n  if (type.includes('stripe') || name.includes('stripe')) return 'simple-icons:stripe'\n  if (type.includes('paypal') || name.includes('paypal')) return 'simple-icons:paypal'\n  if (type.includes('shopify') || name.includes('shopify')) return 'simple-icons:shopify'\n  if (type.includes('wordpress') || name.includes('wordpress')) return 'simple-icons:wordpress'\n\n  // File formats\n  if (type.includes('excel') || name.includes('excel')) return 'vscode-icons:file-type-excel'\n  if (type.includes('csv') || name.includes('csv')) return 'vscode-icons:file-type-csv'\n  if (type.includes('json') || name.includes('json')) return 'vscode-icons:file-type-json'\n  if (type.includes('xml') || name.includes('xml')) return 'vscode-icons:file-type-xml'\n  if (type.includes('pdf') || name.includes('pdf')) return 'vscode-icons:file-type-pdf'\n\n  // N8n specific nodes\n  if (type.includes('n8n-nodes-base.spreadsheetFile')) return 'vscode-icons:file-type-excel'\n  if (type.includes('n8n-nodes-base.googleSheets')) return 'simple-icons:googlesheets'\n  if (type.includes('n8n-nodes-base.googleDrive')) return 'simple-icons:googledrive'\n  if (type.includes('n8n-nodes-base.notion')) return 'simple-icons:notion'\n  if (type.includes('n8n-nodes-base.airtable')) return 'simple-icons:airtable'\n  if (type.includes('n8n-nodes-base.trello')) return 'simple-icons:trello'\n  if (type.includes('n8n-nodes-base.jira')) return 'simple-icons:jira'\n  if (type.includes('n8n-nodes-base.asana')) return 'simple-icons:asana'\n  if (type.includes('n8n-nodes-base.monday')) return 'simple-icons:mondaydotcom'\n  if (type.includes('n8n-nodes-base.clickup')) return 'simple-icons:clickup'\n  if (type.includes('n8n-nodes-base.hubspot')) return 'simple-icons:hubspot'\n  if (type.includes('n8n-nodes-base.salesforce')) return 'simple-icons:salesforce'\n  if (type.includes('n8n-nodes-base.zendesk')) return 'simple-icons:zendesk'\n  if (type.includes('n8n-nodes-base.twilio')) return 'simple-icons:twilio'\n  if (type.includes('n8n-nodes-base.sendgrid')) return 'simple-icons:sendgrid'\n  if (type.includes('n8n-nodes-base.mailchimp')) return 'simple-icons:mailchimp'\n  if (type.includes('n8n-nodes-base.calendly')) return 'simple-icons:calendly'\n  if (type.includes('n8n-nodes-base.zoom')) return 'simple-icons:zoom'\n  if (type.includes('n8n-nodes-base.teams')) return 'simple-icons:microsoftteams'\n  if (type.includes('n8n-nodes-base.dropbox')) return 'simple-icons:dropbox'\n  if (type.includes('n8n-nodes-base.box')) return 'simple-icons:box'\n  if (type.includes('n8n-nodes-base.onedrive')) return 'simple-icons:microsoftonedrive'\n\n  // Generic node types with nice icons\n  if (type.includes('webhook')) return 'carbon:webhook'\n  if (type.includes('schedule') || type.includes('cron')) return 'carbon:alarm'\n  if (type.includes('httpRequest')) return 'carbon:http'\n  if (type.includes('n8n-nodes-base.code')) return 'carbon:code'\n  if (type.includes('n8n-nodes-base.function')) return 'carbon:function'\n  if (type.includes('n8n-nodes-base.if')) return 'carbon:decision-tree'\n  if (type.includes('n8n-nodes-base.switch')) return 'carbon:flow-switch'\n  if (type.includes('n8n-nodes-base.merge')) return 'carbon:join-inner'\n  if (type.includes('n8n-nodes-base.wait')) return 'carbon:hourglass'\n  if (type.includes('n8n-nodes-base.set')) return 'carbon:settings-adjust'\n  if (type.includes('n8n-nodes-base.splitInBatches')) return 'carbon:batch-job'\n  if (type.includes('email')) return 'carbon:email'\n\n  // Fallback to category icon\n  return categoryIcon.value\n})\n\n// Business-friendly titles\nconst businessTitle = computed(() => {\n  const name = props.data.label\n\n  const mapping: Record<string, string> = {\n    'Webhook': 'Data Receiver',\n    'Schedule Trigger': 'Scheduled Process',\n    'Manual Trigger': 'Manual Start',\n    'OpenAI': 'AI Processing',\n    'Chat Model': 'AI Conversation',\n    'Agent': 'Smart Assistant',\n    'Postgres': 'Database Operations',\n    'Vector Store': 'Knowledge Store',\n    'HTTP Request': 'API Call',\n    'If': 'Decision Logic',\n    'Switch': 'Multi-Path Router',\n    'Code': 'Custom Processing',\n    'Function': 'Data Transform'\n  }\n\n  for (const [key, value] of Object.entries(mapping)) {\n    if (name.includes(key)) return value\n  }\n\n  return name\n})\n\n// Descriptions\nconst nodeDescription = computed(() => {\n  const descriptions: Record<string, string> = {\n    'trigger': 'Initiates business process',\n    'ai': 'Intelligent processing',\n    'storage': 'Data persistence layer',\n    'logic': 'Business rule evaluation',\n    'integration': 'External system bridge',\n    'transform': 'Data manipulation',\n    'communication': 'Message handling',\n    'process': 'Business operation'\n  }\n  return descriptions[nodeCategory.value] || 'Processing node'\n})\n\n// Category text\nconst categoryText = computed(() => {\n  const texts: Record<string, string> = {\n    'trigger': 'PROCESS START',\n    'ai': 'INTELLIGENCE',\n    'storage': 'DATA LAYER',\n    'logic': 'DECISION',\n    'integration': 'INTEGRATION',\n    'transform': 'TRANSFORM',\n    'communication': 'MESSAGING',\n    'process': 'OPERATION'\n  }\n  return texts[nodeCategory.value] || 'PROCESS'\n})\n\n// Tech type badge\nconst techType = computed(() => {\n  const types: Record<string, string> = {\n    'trigger': 'ASYNC',\n    'ai': 'ML/AI',\n    'storage': 'CRUD',\n    'logic': 'CONDITIONAL',\n    'integration': 'REST/API',\n    'transform': 'COMPUTE',\n    'communication': 'SMTP/WEBHOOK',\n    'process': 'SYNC'\n  }\n  return types[nodeCategory.value] || 'PROCESS'\n})\n\n// Modern gradients\nconst ribbonGradient = computed(() => {\n  const gradients: Record<string, string> = {\n    'trigger': 'linear-gradient(135deg, #2f855a, #276749)',\n    'ai': 'linear-gradient(135deg, #553c9a, #434190)',\n    'storage': 'linear-gradient(135deg, #2b6cb0, #2c5282)',\n    'logic': 'linear-gradient(135deg, #4a5568, #2d3748)',\n    'integration': 'linear-gradient(135deg, #742a2a, #63171b)',\n    'transform': 'linear-gradient(135deg, #234e52, #1a4044)',\n    'communication': 'linear-gradient(135deg, #744210, #5f370e)',\n    'process': 'linear-gradient(135deg, #2d3748, #1a202c)'\n  }\n  return gradients[nodeCategory.value] || gradients['process']\n})\n\nconst iconBackground = computed(() => {\n  const color = {\n    'trigger': '#276749',\n    'ai': '#434190',\n    'storage': '#2c5282',\n    'logic': '#2d3748',\n    'integration': '#63171b',\n    'transform': '#1a4044',\n    'communication': '#5f370e',\n    'process': '#1a202c'\n  }[nodeCategory.value] || '#1a202c'\n\n  return `radial-gradient(circle, ${color}22, ${color}11)`\n})\n\n// Computed properties\nconst inputs = computed(() => props.data.inputs || ['input'])\nconst outputs = computed(() => props.data.outputs || ['output'])\nconst isActive = computed(() => props.data.status === 'active')\nconst hasError = computed(() => props.data.status === 'error')\nconst status = computed(() => props.data.status || 'idle')\nconst showMetrics = computed(() => nodeCategory.value !== 'trigger')\nconst executionCount = computed(() => props.data.executionCount)\nconst successRate = computed(() => props.data.successRate)\nconst avgTime = computed(() => props.data.avgTime)\n\n// Tech type label with execution mode\nconst techTypeLabel = computed(() => {\n  const nodeType = props.data.nodeType || ''\n  const label = props.data.label.toLowerCase()\n  const type = props.data.type || ''\n\n  // Check if it's async (webhooks, triggers, wait nodes, cron)\n  if (nodeType.includes('trigger') || nodeType.includes('webhook') ||\n      nodeType.includes('wait') || nodeType.includes('cron') ||\n      nodeType.includes('schedule') || type === 'trigger') {\n    return 'ASYNC'\n  }\n\n  // Check if it's a code node\n  if (nodeType.includes('n8n-nodes-base.code') ||\n      nodeType.includes('n8n-nodes-base.function') ||\n      nodeType.includes('javascript') || nodeType.includes('python') ||\n      label.includes('code') || label.includes('function')) {\n    return 'CODE'\n  }\n\n  // Check if it's an AI node\n  if (nodeType.includes('langchain') || nodeType.includes('openai') ||\n      nodeType.includes('ai') || type === 'ai' || type === 'tool') {\n    return 'AI'\n  }\n\n  // Check if it's a database node\n  if (nodeType.includes('postgres') || nodeType.includes('mysql') ||\n      nodeType.includes('mongo') || nodeType.includes('redis') ||\n      nodeType.includes('supabase') || type === 'storage') {\n    return 'DB'\n  }\n\n  // Check if it's an HTTP/API node\n  if (nodeType.includes('httpRequest') || nodeType.includes('webhook') ||\n      nodeType.includes('api') || label.includes('http')) {\n    return 'API'\n  }\n\n  // Check for IF/Switch nodes (conditional logic)\n  if (nodeType.includes('n8n-nodes-base.if') ||\n      nodeType.includes('switch') || label.includes('if')) {\n    return 'LOGIC'\n  }\n\n  // Default is SYNC\n  return 'SYNC'\n})\n\n// Tech badge for additional info\nconst techBadge = computed(() => {\n  const nodeType = props.data.nodeType || ''\n  const label = props.data.label.toLowerCase()\n\n  // Code nodes show custom code indicator\n  if (nodeType.includes('n8n-nodes-base.code')) {\n    return '</>'\n  }\n  if (nodeType.includes('n8n-nodes-base.function')) {\n    return 'f(x)'\n  }\n  if (nodeType.includes('javascript')) {\n    return 'JS'\n  }\n  if (nodeType.includes('python')) {\n    return 'PY'\n  }\n\n  // AI specific badges\n  if (nodeType.includes('langchain.agent')) {\n    return 'AI'\n  }\n  if (nodeType.includes('openai') || nodeType.includes('gpt')) {\n    return 'GPT'\n  }\n  if (nodeType.includes('embeddings')) {\n    return '↗️'\n  }\n\n  // Database specific\n  if (nodeType.includes('postgres')) {\n    return 'PG'\n  }\n  if (nodeType.includes('mysql')) {\n    return 'SQL'\n  }\n  if (nodeType.includes('qdrant') || nodeType.includes('vectorStore')) {\n    return 'VEC'\n  }\n\n  // Communication badges\n  if (nodeType.includes('telegram')) {\n    return 'TG'\n  }\n  if (nodeType.includes('gmail') || nodeType.includes('email')) {\n    return '✉️'\n  }\n  if (nodeType.includes('slack')) {\n    return 'SK'\n  }\n\n  // Conditional logic\n  if (nodeType.includes('n8n-nodes-base.if')) {\n    return 'IF'\n  }\n  if (nodeType.includes('switch')) {\n    return '⇄'\n  }\n  if (nodeType.includes('merge')) {\n    return '⊕'\n  }\n\n  // Time-based\n  if (nodeType.includes('cron')) {\n    return '⏰'\n  }\n  if (nodeType.includes('wait')) {\n    return '⏸'\n  }\n\n  return null\n})\n</script>\n\n<style scoped>\n.ultra-card-wrapper {\n  position: relative;\n}\n\n.ultra-card {\n  width: 280px;\n  min-height: 160px;\n  background: linear-gradient(135deg, #2a2f3e, #1f2430);\n  border-radius: 20px;\n  overflow: hidden;\n  box-shadow:\n    0 20px 40px rgba(0, 0, 0, 0.4),\n    0 0 1px rgba(255, 255, 255, 0.1),\n    inset 0 1px 0 rgba(255, 255, 255, 0.05);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  border: 1px solid rgba(255, 255, 255, 0.08);\n}\n\n/* Wider cards for AI/Langchain agents - same height, more width */\n.card-ai-wide {\n  width: 380px; /* 100px wider than standard */\n  background: linear-gradient(135deg, #242938, #1a1f2e),\n              linear-gradient(135deg, rgba(236, 72, 153, 0.05), transparent);\n  border: 2px solid rgba(236, 72, 153, 0.2);\n}\n\n/* Narrower cards for Langchain tools - same height, less width */\n.card-tool-narrow {\n  width: 200px; /* 80px narrower than standard */\n  background: linear-gradient(135deg, #242938, #1a1f2e),\n              linear-gradient(135deg, rgba(59, 130, 246, 0.05), transparent);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n\n.card-tool-narrow .card-content {\n  padding: 12px;\n}\n\n.card-tool-narrow .card-title {\n  font-size: 13px;\n}\n\n.card-tool-narrow .metrics-row {\n  display: none; /* Hide metrics for tools to save space */\n}\n\n.ultra-card:hover {\n  transform: translateY(-4px);\n  box-shadow:\n    0 30px 60px rgba(0, 0, 0, 0.5),\n    0 0 1px rgba(255, 255, 255, 0.2),\n    inset 0 1px 0 rgba(255, 255, 255, 0.1);\n}\n\n/* Ribbon */\n.card-ribbon {\n  height: 32px;\n  display: flex;\n  align-items: center;\n  padding: 0 12px;\n  position: relative;\n  overflow: hidden;\n}\n\n.card-ribbon::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n}\n\n.ribbon-icon {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 6px;\n  margin-right: 8px;\n}\n\n.ribbon-icon-svg {\n  width: 14px;\n  height: 14px;\n  color: white;\n}\n\n.ribbon-text {\n  flex: 1;\n  font-size: 10px;\n  font-weight: 700;\n  color: white;\n  letter-spacing: 1px;\n  opacity: 0.95;\n}\n\n.ribbon-status {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.status-light {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #475569;\n  position: relative;\n}\n\n.status-light::after {\n  content: '';\n  position: absolute;\n  inset: -4px;\n  border-radius: 50%;\n  background: inherit;\n  opacity: 0.3;\n  animation: pulse-ring 2s infinite;\n}\n\n.light-active {\n  background: #3b82f6;\n  box-shadow: 0 0 10px #3b82f6;\n  animation: pulse-light 1s infinite;\n}\n\n.light-success {\n  background: #10b981;\n  box-shadow: 0 0 10px #10b981;\n}\n\n.light-error {\n  background: #ef4444;\n  box-shadow: 0 0 10px #ef4444;\n  animation: pulse-light 0.5s infinite;\n}\n\n@keyframes pulse-light {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.6; }\n}\n\n@keyframes pulse-ring {\n  0% { transform: scale(1); opacity: 0.3; }\n  50% { transform: scale(1.5); opacity: 0; }\n  100% { transform: scale(1); opacity: 0; }\n}\n\n/* Content */\n.card-content {\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  background: rgba(255, 255, 255, 0.03);\n  border-radius: 12px 12px 0 0;\n}\n\n.icon-container {\n  width: 56px;\n  height: 56px;\n  border-radius: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  align-self: center;\n  backdrop-filter: blur(10px);\n}\n\n.icon-pulse {\n  position: absolute;\n  inset: 0;\n  border-radius: 16px;\n  background: inherit;\n  opacity: 0.3;\n  animation: icon-pulse 3s infinite;\n}\n\n@keyframes icon-pulse {\n  0%, 100% { transform: scale(1); opacity: 0.3; }\n  50% { transform: scale(1.1); opacity: 0; }\n}\n\n.main-icon {\n  width: 36px;\n  height: 36px;\n  color: white !important;\n  fill: white !important;\n  z-index: 1;\n  position: relative;\n  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));\n}\n\n/* Force all SVG icons to be white */\n.main-icon :deep(svg) {\n  fill: white !important;\n  color: white !important;\n}\n\n.main-icon :deep(path) {\n  fill: white !important;\n}\n\n.text-content {\n  text-align: center;\n}\n\n.card-title {\n  font-size: 15px;\n  font-weight: 600;\n  color: #f1f5f9;\n  margin: 0 0 4px 0;\n  line-height: 1.2;\n}\n\n.card-subtitle {\n  font-size: 11px;\n  color: #64748b;\n  margin: 0;\n  line-height: 1.3;\n}\n\n/* Metrics Row */\n.metrics-row {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  padding: 8px;\n  background: rgba(255, 255, 255, 0.02);\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.metric-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.metric-icon {\n  width: 14px;\n  height: 14px;\n  color: #64748b;\n}\n\n.metric-icon.success {\n  color: #10b981;\n}\n\n.metric-value {\n  font-size: 13px;\n  font-weight: 600;\n  color: #f1f5f9;\n}\n\n.metric-label {\n  font-size: 10px;\n  color: #475569;\n  margin-left: 2px;\n}\n\n.metric-divider {\n  width: 1px;\n  height: 16px;\n  background: rgba(255, 255, 255, 0.1);\n}\n\n/* Tech Strip */\n.tech-strip {\n  height: 24px;\n  background: rgba(10, 10, 15, 0.7);\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 12px;\n  border-radius: 0 0 12px 12px;\n  backdrop-filter: blur(4px);\n}\n\n.tech-dots {\n  display: flex;\n  gap: 3px;\n}\n\n.tech-dot {\n  width: 3px;\n  height: 3px;\n  border-radius: 50%;\n  background: #4a5568;\n  opacity: 0.6;\n}\n\n.tech-type {\n  font-size: 9px;\n  font-weight: 600;\n  color: #718096;\n  letter-spacing: 0.5px;\n  opacity: 0.8;\n}\n\n.tech-badge {\n  display: flex;\n  align-items: center;\n}\n\n.tech-badge span {\n  font-size: 8px;\n  font-weight: 700;\n  color: #10b981;\n  background: rgba(16, 185, 129, 0.1);\n  padding: 2px 5px;\n  border-radius: 3px;\n  letter-spacing: 0.3px;\n  font-family: 'Monaco', 'Courier New', monospace;\n}\n\n.tech-connections {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 10px;\n  color: #64748b;\n}\n\n.tech-icon {\n  width: 12px;\n  height: 12px;\n}\n\n/* Handles */\n.ultra-handle {\n  position: absolute;\n  width: 10px !important;\n  height: 10px !important;\n  background: linear-gradient(135deg, #3b82f6, #8b5cf6) !important;\n  border: 2px solid #1a1f2e !important;\n  border-radius: 50%;\n  transition: all 0.2s;\n}\n\n.handle-main {\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.handle-main:first-of-type {\n  left: -5px;\n}\n\n.handle-main:last-of-type {\n  right: -5px;\n}\n\n.handle-tool {\n  bottom: -5px;\n}\n\n.handle-data {\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.handle-data:first-of-type {\n  top: -5px;\n}\n\n.handle-data:last-of-type {\n  bottom: -5px;\n}\n\n.handle-trigger {\n  right: -5px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: linear-gradient(135deg, #10b981, #3b82f6) !important;\n}\n\n.handle-standard {\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.handle-standard:first-of-type {\n  left: -5px;\n}\n\n.handle-standard:last-of-type {\n  right: -5px;\n}\n\n/* Special styles for tool connections */\n.handle-tool-input {\n  top: -5px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: linear-gradient(135deg, #3b82f6, #06b6d4) !important;\n}\n\n.handle-tool-output {\n  bottom: -5px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.ultra-handle:hover {\n  transform: scale(1.5) translateY(-50%);\n  box-shadow: 0 0 12px currentColor;\n  background: linear-gradient(135deg, #8b5cf6, #ec4899) !important;\n}\n\n.handle-data:hover,\n.handle-tool-input:hover,\n.handle-tool-output:hover {\n  transform: scale(1.5) translateX(-50%);\n}\n\n/* States */\n.card-running {\n  animation: running-pulse 2s infinite;\n}\n\n/* Node currently executing - site green animated glow */\n.card-executing {\n  animation: executing-glow 1.0s ease-in-out infinite !important;\n  border: 3px solid #10b981 !important;\n  position: relative;\n  transform: scale(1.05) !important;\n  transition: all 0.3s ease;\n  z-index: 1000 !important;\n}\n\n.card-executing .card-ribbon {\n  background: linear-gradient(135deg, #10b981, #059669) !important;\n  animation: ribbon-pulse 1.0s ease-in-out infinite;\n}\n\n.card-executing .icon-container {\n  animation: icon-pulse 2s ease-in-out infinite;\n}\n\n.card-executing .main-icon {\n  color: #10b981 !important;\n  filter: drop-shadow(0 0 8px rgba(16, 185, 129, 0.6));\n}\n\n@keyframes executing-glow {\n  0%, 100% {\n    box-shadow:\n      0 20px 40px rgba(0, 0, 0, 0.4),\n      0 0 30px rgba(16, 185, 129, 0.7),\n      0 0 60px rgba(16, 185, 129, 0.4),\n      inset 0 0 15px rgba(16, 185, 129, 0.15);\n  }\n  50% {\n    box-shadow:\n      0 20px 40px rgba(0, 0, 0, 0.5),\n      0 0 45px rgba(16, 185, 129, 0.9),\n      0 0 80px rgba(16, 185, 129, 0.6),\n      inset 0 0 25px rgba(16, 185, 129, 0.25);\n  }\n}\n\n@keyframes icon-pulse {\n  0%, 100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  50% {\n    transform: scale(1.1);\n    opacity: 0.8;\n  }\n}\n\n@keyframes ribbon-pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.8;\n  }\n}\n\n@keyframes running-pulse {\n  0%, 100% {\n    box-shadow:\n      0 20px 40px rgba(0, 0, 0, 0.4),\n      0 0 30px rgba(59, 130, 246, 0.3);\n  }\n  50% {\n    box-shadow:\n      0 20px 40px rgba(0, 0, 0, 0.4),\n      0 0 40px rgba(59, 130, 246, 0.5);\n  }\n}\n\n.card-error {\n  border-color: #ef4444;\n  animation: error-shake 0.5s;\n}\n\n@keyframes error-shake {\n  0%, 100% { transform: translateX(0); }\n  25% { transform: translateX(-4px); }\n  75% { transform: translateX(4px); }\n}\n\n.card-selected {\n  border: 2px solid #8b5cf6;\n  box-shadow:\n    0 20px 40px rgba(0, 0, 0, 0.4),\n    0 0 40px rgba(139, 92, 246, 0.4);\n}\n\n/* Trigger - Same rectangular shape as others with distinctive color */\n.card-trigger {\n  background: linear-gradient(135deg, #2f3444, #242938),\n              linear-gradient(135deg, rgba(16, 185, 129, 0.08), transparent);\n  border: 1px solid rgba(16, 185, 129, 0.2);\n}\n\n.card-ai {\n  background: linear-gradient(135deg, #242938, #1a1f2e),\n              linear-gradient(135deg, rgba(238, 9, 121, 0.03), transparent);\n}\n\n.card-storage {\n  background: linear-gradient(135deg, #242938, #1a1f2e),\n              linear-gradient(135deg, rgba(0, 201, 255, 0.03), transparent);\n}\n</style>","<template>\n  <Teleport to=\"body\">\n    <div\n      v-if=\"show\"\n      class=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\"\n      @click.self=\"$emit('close')\"\n    >\n      <div class=\"w-full max-w-6xl max-h-[90vh] bg-surface border border-border rounded-xl shadow-2xl overflow-hidden\">\n        \n        <!-- Header -->\n        <div class=\"flex items-center justify-between p-6 border-b border-border\">\n          <div class=\"flex items-center gap-4\">\n            <div class=\"p-3 bg-primary/10 border border-primary/30 rounded-lg\">\n              <Icon icon=\"lucide:git-branch\" class=\"h-6 w-6 text-primary\" />\n            </div>\n            <div>\n              <h2 class=\"text-xl font-semibold text-text\">{{ workflow.name }}</h2>\n              <div class=\"flex items-center gap-3 mt-1\">\n                <span class=\"text-sm text-text-muted\">ID: {{ workflow.id }}</span>\n                <span :class=\"[\n                  'px-2 py-1 rounded text-xs font-medium',\n                  workflow.active\n                    ? 'bg-primary/10 border border-primary/30 text-primary'\n                    : 'bg-yellow-500/10 border border-yellow-500/30 text-yellow-400'\n                ]\">\n                  {{ workflow.active ? 'Active' : 'Inactive' }}\n                </span>\n                <span v-if=\"workflow.has_webhook\" class=\"px-2 py-1 bg-blue-500/10 border border-blue-500/30 text-blue-400 rounded text-xs font-medium\">\n                  Icon icon=\"lucide:webhook\"\n                </span>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"flex items-center gap-2\">\n            <button\n              @click=\"copyToClipboard(workflow.id)\"\n              class=\"p-2 text-text-muted hover:text-primary transition-colors\"\n              title=\"Copy ID\"\n            >\n              <Icon icon=\"lucide:copy\" class=\"h-4 w-4\" />\n            </button>\n            <button\n              @click=\"handleExport\"\n              class=\"p-2 text-text-muted hover:text-primary transition-colors\"\n              title=\"Export JSON\"\n            >\n              <Icon icon=\"lucide:download\" class=\"h-4 w-4\" />\n            </button>\n            <button\n              @click=\"handleForceRefresh\"\n              :disabled=\"isLoading\"\n              class=\"p-2 text-text-muted hover:text-primary disabled:text-gray-600 transition-colors\"\n              :title=\"isLoading ? 'Refreshing...' : 'Force Refresh from n8n'\"\n            >\n              <Icon icon=\"lucide:refresh-cw\" :class=\"['h-4 w-4', { 'animate-spin': isLoading }]\" />\n            </button>\n            <button\n              @click=\"$emit('close')\"\n              class=\"p-2 text-text-muted hover:text-red-400 transition-colors\"\n            >\n              <Icon icon=\"lucide:x\" class=\"h-5 w-5\" />\n            </button>\n          </div>\n        </div>\n\n        <!-- Loading State -->\n        <div v-if=\"isLoading\" class=\"flex items-center justify-center p-12\">\n          <div class=\"text-center\">\n            <div class=\"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n            <p class=\"mt-4 text-text-muted\">Caricamento dettagli workflow...</p>\n          </div>\n        </div>\n\n        <!-- Error State -->\n        <div v-else-if=\"error\" class=\"p-6\">\n          <div class=\"flex items-center justify-between mb-4\">\n            <h2 class=\"text-lg font-semibold text-error\">Errore nel caricamento</h2>\n          </div>\n          <p class=\"text-text-muted\">Impossibile caricare i dettagli del workflow. Riprova più tardi.</p>\n          <p class=\"text-sm text-text-secondary mt-2\">{{ error.message || 'Errore sconosciuto' }}</p>\n          <div class=\"mt-4 flex gap-2\">\n            <button @click=\"refreshData\" class=\"btn-control-primary\">Riprova</button>\n            <button @click=\"$emit('close')\" class=\"btn-control\">Chiudi</button>\n          </div>\n        </div>\n\n        <!-- Content -->\n        <div v-else>\n          <!-- Tabs -->\n          <div class=\"flex items-center gap-1 p-2 border-b border-border bg-gray-900/50\">\n            <button\n              v-for=\"tab in tabs\"\n              :key=\"tab.id\"\n              @click=\"activeTab = tab.id\"\n              :class=\"[\n                'flex items-center gap-2 px-4 py-2 rounded-md text-sm transition-all',\n                activeTab === tab.id\n                  ? 'bg-primary text-white'\n                  : 'text-text-secondary hover:bg-surface hover:text-text'\n              ]\"\n            >\n              <Icon :icon=\"tab.icon\" class=\"h-4 w-4\" />\n              {{ tab.label }}\n            </button>\n          </div>\n\n          <!-- Tab Content -->\n          <div class=\"overflow-y-auto\" style=\"max-height: calc(90vh - 200px);\">\n            \n            <!-- Overview Tab -->\n            <div v-if=\"activeTab === 'overview'\" class=\"p-6 space-y-6\">\n              \n              <!-- Business Description (Sticky Notes) -->\n              <div v-if=\"businessDescription\" class=\"control-card p-6 border-blue-500/30\">\n                <h3 class=\"text-lg font-semibold text-text mb-4 flex items-center gap-2\">\n                  <Icon icon=\"lucide:info\" class=\"h-5 w-5 text-blue-400\" />\n                  Business Description\n                </h3>\n                <div class=\"space-y-3\">\n                  <div v-for=\"(note, index) in businessDescription\" :key=\"index\" \n                       class=\"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg\">\n                    <Icon icon=\"lucide:file-text\" class=\"h-4 w-4 text-yellow-400 float-left mr-2 mt-1\" />\n                    <div class=\"text-text text-sm whitespace-pre-wrap\">{{ note }}</div>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Stats Cards -->\n              <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                <div class=\"control-card p-4\">\n                  <div class=\"flex items-center justify-between mb-2\">\n                    <span class=\"text-sm text-text-muted\">Total Nodes</span>\n                    <Icon icon=\"lucide:box\" class=\"h-4 w-4 text-gray-600\" />\n                  </div>\n                  <p class=\"text-base font-bold text-text\">{{ nodeAnalysis.totalNodes || workflow.node_count || 0 }}</p>\n                </div>\n                \n                <div class=\"control-card p-4\">\n                  <div class=\"flex items-center justify-between mb-2\">\n                    <span class=\"text-sm text-text-muted\">Total Executions</span>\n                    <Icon icon=\"lucide:play\" class=\"h-4 w-4 text-gray-600\" />\n                  </div>\n                  <p class=\"text-base font-bold text-text\">{{ executionStats.total || workflow.execution_count || 0 }}</p>\n                </div>\n                \n                <div class=\"control-card p-4\">\n                  <div class=\"flex items-center justify-between mb-2\">\n                    <span class=\"text-sm text-text-muted\">Success Rate</span>\n                    <Icon icon=\"lucide:check-circle\" class=\"h-4 w-4 text-gray-600\" />\n                  </div>\n                  <p class=\"text-base font-bold text-primary\">\n                    {{ executionStats.total > 0 \n                      ? `${((executionStats.successful / executionStats.total) * 100).toFixed(1)}%`\n                      : 'N/A' }}\n                  </p>\n                </div>\n                \n                <div class=\"control-card p-4\">\n                  <div class=\"flex items-center justify-between mb-2\">\n                    <span class=\"text-sm text-text-muted\">Avg Duration</span>\n                    <Icon icon=\"lucide:clock\" class=\"h-4 w-4 text-gray-600\" />\n                  </div>\n                  <p class=\"text-base font-bold text-text\">\n                    {{ formatDuration(executionStats.averageDuration) }}\n                  </p>\n                </div>\n              </div>\n\n              <!-- Info Sections -->\n              <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <div class=\"control-card p-6\">\n                  <h3 class=\"text-lg font-semibold text-text mb-4 flex items-center gap-2\">\n                    <Info class=\"h-5 w-5 text-primary\" />\n                    Workflow Information\n                  </h3>\n                  <div class=\"space-y-3\">\n                    <div class=\"flex justify-between\">\n                      <span class=\"text-text-muted\">Created</span>\n                      <span class=\"text-text\">{{ formatDate(workflow.created_at) }}</span>\n                    </div>\n                    <div class=\"flex justify-between\">\n                      <span class=\"text-text-muted\">Updated</span>\n                      <span class=\"text-text\">{{ formatDate(workflow.updated_at) }}</span>\n                    </div>\n                    <div class=\"flex justify-between\">\n                      <span class=\"text-text-muted\">Last Execution</span>\n                      <span class=\"text-text\">\n                        {{ workflow.last_execution ? formatDate(workflow.last_execution) : 'Never' }}\n                      </span>\n                    </div>\n                    <div class=\"flex justify-between\">\n                      <span class=\"text-text-muted\">Icon icon=\"lucide:webhook\"</span>\n                      <span :class=\"workflow.has_webhook ? 'text-primary' : 'text-text-secondary'\">\n                        {{ workflow.has_webhook ? 'Enabled' : 'Disabled' }}\n                      </span>\n                    </div>\n                    <div class=\"flex justify-between\">\n                      <span class=\"text-text-muted\">Archived</span>\n                      <span :class=\"workflow.is_archived ? 'text-yellow-400' : 'text-text-secondary'\">\n                        {{ workflow.is_archived ? 'Yes' : 'No' }}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"control-card p-6\">\n                  <h3 class=\"text-lg font-semibold text-text mb-4 flex items-center gap-2\">\n                    <Icon icon=\"lucide:activity\" class=\"h-5 w-5 text-blue-400\" />\n                    Quick Stats\n                  </h3>\n                  <div class=\"space-y-3\">\n                    <div class=\"flex justify-between\">\n                      <span class=\"text-text-muted\">Successful Runs</span>\n                      <span class=\"text-primary font-bold\">{{ executionStats.successful }}</span>\n                    </div>\n                    <div class=\"flex justify-between\">\n                      <span class=\"text-text-muted\">Failed Runs</span>\n                      <span class=\"text-red-400 font-bold\">{{ executionStats.failed }}</span>\n                    </div>\n                    <div class=\"flex justify-between\">\n                      <span class=\"text-text-muted\">AI Agents</span>\n                      <span class=\"text-purple-400 font-bold\">{{ nodeAnalysis.aiAgents?.length || 0 }}</span>\n                    </div>\n                    <div class=\"flex justify-between\">\n                      <span class=\"text-text-muted\">Tools</span>\n                      <span class=\"text-orange-400 font-bold\">{{ nodeAnalysis.tools?.length || 0 }}</span>\n                    </div>\n                    <div class=\"flex justify-between\">\n                      <span class=\"text-text-muted\">Error Rate</span>\n                      <span class=\"text-yellow-400\">{{ performance.errorRate || 0 }}%</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Executions Tab -->\n            <div v-if=\"activeTab === 'executions'\" class=\"p-6 space-y-6\">\n              <div class=\"control-card p-6\">\n                <h3 class=\"text-lg font-semibold text-text mb-4 flex items-center gap-2\">\n                  <Icon icon=\"lucide:clock\" class=\"h-5 w-5 text-blue-400\" />\n                  Recent Executions\n                </h3>\n                <div class=\"space-y-3\">\n                  <div v-if=\"executionStats.recentExecutions?.length === 0\" \n                       class=\"text-text-secondary text-center py-4\">\n                    No recent executions\n                  </div>\n                  <div v-else v-for=\"(exec, index) in (executionStats.recentExecutions || [])\" \n                       :key=\"exec.id || index\" \n                       class=\"flex items-center justify-between p-3 bg-surface rounded-lg\">\n                    <div class=\"flex items-center gap-3\">\n                      <Icon v-if=\"exec.status === 'success'\" icon=\"lucide:check-circle\" class=\"h-4 w-4 text-primary\" />\n                      <Icon v-else-if=\"exec.status === 'error'\" icon=\"lucide:x-circle\" class=\"h-4 w-4 text-red-400\" />\n                      <Icon v-else icon=\"lucide:alert-triangle\" class=\"h-4 w-4 text-yellow-400\" />\n                      <div>\n                        <p class=\"text-text text-sm\">Execution #{{ exec.id }}</p>\n                        <p class=\"text-xs text-text-muted\">{{ formatDate(exec.started_at) }}</p>\n                      </div>\n                    </div>\n                    <div class=\"text-right\">\n                      <p class=\"text-text text-sm\">{{ formatDuration(exec.duration_ms || 0) }}</p>\n                      <p :class=\"[\n                        'text-xs',\n                        exec.status === 'success' ? 'text-primary' : \n                        exec.status === 'error' ? 'text-red-400' : 'text-yellow-400'\n                      ]\">\n                        {{ exec.status }}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Nodes Tab -->\n            <div v-if=\"activeTab === 'nodes'\" class=\"p-6 space-y-6\">\n              \n              <!-- AI Agents Section -->\n              <div v-if=\"nodeAnalysis.aiAgents?.length > 0\" class=\"control-card p-6 border-purple-500/30\">\n                <h3 class=\"text-lg font-semibold text-text mb-4 flex items-center gap-2\">\n                  <Icon icon=\"lucide:brain\" class=\"h-5 w-5 text-purple-400\" />\n                  AI Agents ({{ nodeAnalysis.aiAgents.length }})\n                </h3>\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div v-for=\"(agent, index) in nodeAnalysis.aiAgents\" \n                       :key=\"index\" \n                       class=\"p-4 bg-purple-500/10 border border-purple-500/30 rounded-lg\">\n                    <div class=\"flex items-start justify-between mb-2\">\n                      <h4 class=\"text-text font-medium\">{{ agent.name }}</h4>\n                      <Icon icon=\"lucide:brain\" class=\"h-5 w-5 text-purple-400\" />\n                    </div>\n                    <div class=\"space-y-1 text-sm\">\n                      <p class=\"text-text-muted\">Type: <span class=\"text-purple-300\">{{ agent.type }}</span></p>\n                      <p v-if=\"agent.model !== 'unknown'\" class=\"text-text-muted\">\n                        Model: <span class=\"text-purple-300\">{{ agent.model }}</span>\n                      </p>\n                      <div v-if=\"agent.connectedTools?.length > 0\" class=\"mt-2\">\n                        <p class=\"text-text-muted mb-1\">Connected Tools:</p>\n                        <div class=\"flex flex-wrap gap-1\">\n                          <span v-for=\"(tool, idx) in agent.connectedTools\" \n                                :key=\"idx\"\n                                class=\"px-2 py-1 bg-purple-500/20 text-purple-300 rounded text-xs\">\n                            {{ tool }}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Tools & Workflow Flow -->\n              <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <!-- Triggers -->\n                <div class=\"control-card p-6\">\n                  <h3 class=\"text-lg font-semibold text-text mb-4 flex items-center gap-2\">\n                    <Icon icon=\"lucide:zap\" class=\"h-5 w-5 text-yellow-400\" />\n                    Triggers\n                  </h3>\n                  <div v-if=\"nodeAnalysis.triggers?.length > 0\" class=\"space-y-3\">\n                    <div v-for=\"(trigger, index) in nodeAnalysis.triggers\" \n                         :key=\"index\" \n                         class=\"flex items-center gap-3 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg\">\n                      <Icon icon=\"lucide:webhook\" class=\"h-5 w-5 text-yellow-400\" />\n                      <div class=\"flex-1\">\n                        <p class=\"text-text font-medium\">{{ trigger.name }}</p>\n                        <p class=\"text-xs text-text-muted\">{{ trigger.type }}</p>\n                      </div>\n                    </div>\n                  </div>\n                  <p v-else class=\"text-text-secondary text-center py-4\">No triggers</p>\n                </div>\n\n                <!-- Processing -->\n                <div class=\"control-card p-6\">\n                  <h3 class=\"text-lg font-semibold text-text mb-4 flex items-center gap-2\">\n                    <Icon icon=\"lucide:layers\" class=\"h-5 w-5 text-blue-400\" />\n                    Processing\n                  </h3>\n                  <div class=\"space-y-3\">\n                    <template v-for=\"([category, count]) in Object.entries(nodeAnalysis.nodesByType || {})\" \n                              :key=\"category\">\n                      <div v-if=\"category !== 'Triggers' && category !== 'Output/Response'\"\n                           class=\"flex items-center justify-between p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg\">\n                        <div class=\"flex items-center gap-2\">\n                          <Icon icon=\"lucide:package\" class=\"h-4 w-4 text-blue-400\" />\n                          <span class=\"text-text text-sm\">{{ category }}</span>\n                        </div>\n                        <span class=\"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs font-bold\">\n                          {{ count }}\n                        </span>\n                      </div>\n                    </template>\n                  </div>\n                </div>\n\n                <!-- Outputs -->\n                <div class=\"control-card p-6\">\n                  <h3 class=\"text-lg font-semibold text-text mb-4 flex items-center gap-2\">\n                    <Icon icon=\"lucide:external-link\" class=\"h-5 w-5 text-primary\" />\n                    Outputs\n                  </h3>\n                  <div v-if=\"nodeAnalysis.outputs?.length > 0\" class=\"space-y-3\">\n                    <div v-for=\"(output, index) in nodeAnalysis.outputs\" \n                         :key=\"index\" \n                         class=\"flex items-center gap-3 p-3 bg-primary/10 border border-primary/30 rounded-lg\">\n                      <Icon icon=\"lucide:send\" class=\"h-5 w-5 text-primary\" />\n                      <div class=\"flex-1\">\n                        <p class=\"text-text font-medium\">{{ output.name }}</p>\n                        <p class=\"text-xs text-text-muted\">{{ output.type }}</p>\n                      </div>\n                    </div>\n                  </div>\n                  <p v-else class=\"text-text-secondary text-center py-4\">No outputs</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Performance Tab -->\n            <div v-if=\"activeTab === 'performance'\" class=\"p-6 space-y-6\">\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div class=\"control-card p-6\">\n                  <div class=\"flex items-center justify-between mb-4\">\n                    <span class=\"text-sm text-text-muted\">Min Execution Time</span>\n                    <Icon icon=\"lucide:trending-up\" class=\"h-4 w-4 text-primary\" />\n                  </div>\n                  <p class=\"text-base font-bold text-text\">\n                    {{ formatDuration(performance.minExecutionTime || 0) }}\n                  </p>\n                </div>\n                \n                <div class=\"control-card p-6\">\n                  <div class=\"flex items-center justify-between mb-4\">\n                    <span class=\"text-sm text-text-muted\">Average Time</span>\n                    <Activity class=\"h-4 w-4 text-blue-400\" />\n                  </div>\n                  <p class=\"text-base font-bold text-text\">\n                    {{ formatDuration(performance.avgExecutionTime || 0) }}\n                  </p>\n                </div>\n                \n                <div class=\"control-card p-6\">\n                  <div class=\"flex items-center justify-between mb-4\">\n                    <span class=\"text-sm text-text-muted\">Max Execution Time</span>\n                    <AlertTriangle class=\"h-4 w-4 text-red-400\" />\n                  </div>\n                  <p class=\"text-base font-bold text-text\">\n                    {{ formatDuration(performance.maxExecutionTime || 0) }}\n                  </p>\n                </div>\n              </div>\n\n              <!-- Common Errors -->\n              <div v-if=\"performance.commonErrors?.length > 0\" class=\"control-card p-6\">\n                <h3 class=\"text-lg font-semibold text-text mb-4 flex items-center gap-2\">\n                  <XCircle class=\"h-5 w-5 text-red-400\" />\n                  Common Errors\n                </h3>\n                <div class=\"space-y-3\">\n                  <div v-for=\"(error, index) in performance.commonErrors\" \n                       :key=\"index\" \n                       class=\"p-4 bg-red-500/10 border border-red-500/30 rounded-lg\">\n                    <div class=\"flex items-start justify-between\">\n                      <div class=\"flex-1\">\n                        <p class=\"text-red-400 font-medium\">{{ error.message }}</p>\n                        <p class=\"text-xs text-text-muted mt-1\">Occurred {{ error.count }} times</p>\n                      </div>\n                      <span class=\"text-xs text-text-secondary\">{{ error.lastOccurred }}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Activity Tab -->\n            <div v-if=\"activeTab === 'activity'\" class=\"p-6\">\n              <div class=\"control-card p-6\">\n                <h3 class=\"text-lg font-semibold text-text mb-4 flex items-center gap-2\">\n                  <Icon icon=\"lucide:clock\" class=\"h-5 w-5 text-blue-400\" />\n                  Recent Activity Timeline\n                </h3>\n                <div class=\"space-y-4\">\n                  <div v-for=\"(exec, index) in (executionStats.recentExecutions || []).slice(0, 20)\" \n                       :key=\"exec.id || index\" \n                       class=\"flex items-start gap-4\">\n                    <div class=\"flex-shrink-0 mt-1\">\n                      <div v-if=\"exec.status === 'success'\" \n                           class=\"w-8 h-8 bg-primary/10 border border-primary/30 rounded-full flex items-center justify-center\">\n                        <CheckCircle class=\"h-4 w-4 text-primary\" />\n                      </div>\n                      <div v-else-if=\"exec.status === 'error'\" \n                           class=\"w-8 h-8 bg-red-500/10 border border-red-500/30 rounded-full flex items-center justify-center\">\n                        <XCircle class=\"h-4 w-4 text-red-400\" />\n                      </div>\n                      <div v-else \n                           class=\"w-8 h-8 bg-yellow-500/10 border border-yellow-500/30 rounded-full flex items-center justify-center\">\n                        <Icon icon=\"lucide:clock\" class=\"h-4 w-4 text-yellow-400\" />\n                      </div>\n                    </div>\n                    <div class=\"flex-1 pb-4 border-l-2 border-border pl-4 -ml-4\">\n                      <div class=\"flex items-center justify-between mb-1\">\n                        <p class=\"text-text font-medium\">\n                          Execution {{ exec.status === 'success' ? 'completed' : \n                                     exec.status === 'error' ? 'failed' : 'started' }}\n                        </p>\n                        <span class=\"text-xs text-text-secondary\">{{ formatDate(exec.started_at) }}</span>\n                      </div>\n                      <p class=\"text-sm text-text-muted\">\n                        Duration: {{ formatDuration(exec.duration_ms || 0) }}\n                      </p>\n                      <p v-if=\"exec.error_message\" class=\"text-sm text-red-400 mt-1\">\n                        {{ exec.error_message }}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, watch } from 'vue'\nimport { Icon } from '@iconify/vue'\nimport { useUIStore } from '../../stores/ui'\nimport { businessAPI } from '../../services/api-client'\nimport type { Workflow } from '../../types'\n\n// Props\ninterface Props {\n  workflow: Workflow\n  show: boolean\n}\n\nconst props = defineProps<Props>()\n\n// Emits\nconst emit = defineEmits<{\n  close: []\n}>()\n\n// State\nconst uiStore = useUIStore()\nconst isLoading = ref(false)\nconst error = ref<Error | null>(null)\nconst activeTab = ref('overview')\n\n// Workflow detail data\nconst businessDescription = ref<string[]>([])\nconst nodeAnalysis = ref<any>({\n  totalNodes: 0,\n  nodesByType: {},\n  triggers: [],\n  outputs: [],\n  aiAgents: [],\n  tools: [],\n  subWorkflows: [],\n  connections: []\n})\nconst executionStats = ref<any>({\n  total: 0,\n  successful: 0,\n  failed: 0,\n  averageDuration: 0,\n  recentExecutions: []\n})\nconst performance = ref<any>({\n  minExecutionTime: 0,\n  avgExecutionTime: 0,\n  maxExecutionTime: 0,\n  errorRate: 0,\n  commonErrors: []\n})\n\n// Tab configuration\nconst tabs = [\n  { id: 'overview', label: 'Overview', icon: 'lucide:info' },\n  { id: 'executions', label: 'Executions', icon: 'lucide:activity' },\n  { id: 'nodes', label: 'Nodes', icon: 'lucide:layers' },\n  { id: 'performance', label: 'Performance', icon: 'lucide:trending-up' },\n  { id: 'activity', label: 'Activity', icon: 'lucide:clock' },\n]\n\n// Load workflow details\nconst loadWorkflowDetails = async () => {\n  isLoading.value = true\n  error.value = null\n  \n  try {\n    console.log('🔄 [MODAL DEBUG] Loading workflow details for:', props.workflow.id, {\n      modalShow: props.show,\n      workflowName: props.workflow.name,\n      callStack: new Error().stack?.split('\\n')[1]?.trim()\n    })\n    \n    // Get detailed workflow data from backend using OFETCH\n    const data = await businessAPI.getProcessDetails(props.workflow.id)\n    console.log('✅ Workflow details loaded:', data.data)\n    \n    // Extract business description from sticky notes\n    if (data.data.businessDescription) {\n      businessDescription.value = Array.isArray(data.data.businessDescription) \n        ? data.data.businessDescription \n        : [data.data.businessDescription]\n    }\n    \n    // Set node analysis\n    nodeAnalysis.value = {\n      totalNodes: data.data.nodeCount || 0,\n      nodesByType: data.data.nodesByType || {},\n      triggers: data.data.triggers || [],\n      outputs: data.data.outputs || [],\n      aiAgents: data.data.aiAgents || [],\n      tools: data.data.tools || [],\n      subWorkflows: data.data.subWorkflows || [],\n      connections: data.data.connections || []\n    }\n    \n    // Set execution stats\n    executionStats.value = {\n      total: data.data.totalExecutions || props.workflow.execution_count || 0,\n      successful: data.data.successfulExecutions || 0,\n      failed: data.data.failedExecutions || 0,\n      averageDuration: data.data.avgDuration || 0,\n      recentExecutions: data.data.recentExecutions || []\n    }\n    \n    // Set performance data\n    performance.value = {\n      minExecutionTime: data.data.minExecutionTime || 0,\n      avgExecutionTime: data.data.avgExecutionTime || 0,\n      maxExecutionTime: data.data.maxExecutionTime || 0,\n      errorRate: data.data.errorRate || 0,\n      commonErrors: data.data.commonErrors || []\n    }\n    \n    // Also load business description from sticky notes directly\n    await loadBusinessDescription()\n    \n  } catch (err: any) {\n    console.error('❌ Failed to load workflow details:', err)\n    error.value = err\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Load business description from sticky notes\nconst loadBusinessDescription = async () => {\n  try {\n    // Get sticky notes content from n8n workflow\n    const data = await businessAPI.getProcessDetails(props.workflow.id)\n      \n    if (data?.data?.stickyNotes?.length > 0) {\n      businessDescription.value = data.data.stickyNotes.map((note: any) => note.content).filter(Boolean)\n      console.log('✅ Business description loaded from sticky notes:', businessDescription.value.length)\n    }\n  } catch (err) {\n    console.warn('⚠️ Could not load sticky notes:', err)\n  }\n}\n\n// Utility functions\nconst formatDuration = (ms: number) => {\n  if (ms < 1000) return `${ms}ms`\n  if (ms < 60000) return `${(ms / 1000).toFixed(1)}s`\n  return `${(ms / 60000).toFixed(1)}min`\n}\n\nconst formatDate = (dateString: string) => {\n  return new Date(dateString).toLocaleDateString('it-IT', {\n    day: '2-digit',\n    month: '2-digit', \n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\nconst copyToClipboard = (text: string) => {\n  navigator.clipboard.writeText(text)\n  uiStore.showToast('Success', 'ID copiato negli appunti', 'success')\n}\n\nconst handleExport = () => {\n  const dataStr = JSON.stringify(props.workflow, null, 2)\n  const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr)\n  const exportFileDefaultName = `workflow-${props.workflow.name}-${Date.now()}.json`\n  \n  const linkElement = document.createElement('a')\n  linkElement.setAttribute('href', dataUri)\n  linkElement.setAttribute('download', exportFileDefaultName)\n  linkElement.click()\n  \n  uiStore.showToast('Success', 'Workflow esportato', 'success')\n}\n\nconst handleForceRefresh = async () => {\n  console.log('🔄 Force refresh requested for workflow', props.workflow.id)\n  await loadWorkflowDetails()\n  uiStore.showToast('Success', 'Dati aggiornati dal backend', 'success')\n}\n\nconst refreshData = () => {\n  loadWorkflowDetails()\n}\n\n// Watchers\nwatch(() => props.show, (newShow) => {\n  console.log('🔍 [MODAL DEBUG] Show prop changed:', {\n    newShow,\n    oldShow: !newShow,\n    workflowId: props.workflow?.id,\n    workflowName: props.workflow?.name\n  })\n  \n  if (newShow) {\n    console.log('📊 [MODAL DEBUG] Modal opened for workflow:', props.workflow.name)\n    loadWorkflowDetails()\n    activeTab.value = 'overview'\n  }\n})\n\n// Lifecycle\nonMounted(() => {\n  console.log('🎬 [MODAL DEBUG] Modal mounted:', {\n    show: props.show,\n    workflowId: props.workflow?.id,\n    workflowName: props.workflow?.name\n  })\n  \n  if (props.show) {\n    console.log('📊 [MODAL DEBUG] Modal mounted and showing - loading details')\n    loadWorkflowDetails()\n  }\n})\n</script>\n\n<style scoped>\n/* All styles now handled by Design System! */\n</style>","<template>\n  <div class=\"node-icon\" :class=\"[className, shapeClasses]\" :title=\"`Shape: ${nodeShape}, Type: ${nodeType}`\">\n    <Icon\n      v-if=\"iconName\"\n      :icon=\"iconName\"\n      :width=\"48\"\n      :height=\"48\"\n      class=\"icon-styled\"\n      :style=\"{ color: categoryColor }\"\n    />\n    <div v-else class=\"placeholder-icon\" :title=\"`Iconify mapping needed: ${nodeType}`\">\n      <span class=\"placeholder-text\">{{ placeholderText }}</span>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport { Icon } from '@iconify/vue'\n\ninterface Props {\n  nodeType: string\n  className?: string\n}\n\nconst props = defineProps<Props>()\n\n// CATEGORY-BASED ICON SYSTEM - Categorie semantiche con colori\ninterface NodeMapping {\n  icon: string\n  category: string\n  shape?: 'diamond' | 'rectangle' | 'diamond-flat' | 'circle'\n}\n\nconst iconifyMap: Record<string, NodeMapping> = {\n  // SCHEDULE TRIGGERS - Trigger temporali (🔵 Blu elettrico)\n  'n8n-nodes-base.cron': { icon: 'mdi:timer-outline', category: 'schedule_triggers', shape: 'diamond' },\n  'n8n-nodes-base.scheduleTrigger': { icon: 'mdi:calendar-clock', category: 'schedule_triggers', shape: 'diamond' },\n\n  // WEBHOOK TRIGGERS - Trigger HTTP esterni (🔴 Rosso intenso)\n  'n8n-nodes-base.webhook': { icon: 'mdi:webhook', category: 'webhook_triggers', shape: 'diamond' },\n  'n8n-nodes-base.formTrigger': { icon: 'mdi:form-select', category: 'webhook_triggers', shape: 'diamond' },\n\n  // EMAIL TRIGGERS - Trigger email (🟡 Giallo ambra)\n  'n8n-nodes-base.gmailTrigger': { icon: 'simple-icons:gmail', category: 'email_triggers', shape: 'diamond' },\n  'n8n-nodes-base.microsoftOutlookTrigger': { icon: 'simple-icons:microsoftoutlook', category: 'email_triggers', shape: 'diamond' },\n  'n8n-nodes-base.emailReadImap': { icon: 'mdi:email-receive-outline', category: 'email_triggers', shape: 'diamond' },\n\n  // SOCIAL TRIGGERS - Trigger social/messaging (🟢 Verde vivace)\n  'n8n-nodes-base.telegramTrigger': { icon: 'simple-icons:telegram', category: 'social_triggers', shape: 'diamond' },\n  'n8n-nodes-base.whatsAppTrigger': { icon: 'simple-icons:whatsapp', category: 'social_triggers', shape: 'diamond' },\n\n  // WORKFLOW TRIGGERS - Trigger interni workflow (🟣 Viola)\n  'n8n-nodes-base.manualTrigger': { icon: 'mdi:play-circle', category: 'workflow_triggers', shape: 'diamond' },\n  'n8n-nodes-base.executeWorkflowTrigger': { icon: 'mdi:play-circle', category: 'workflow_triggers', shape: 'diamond' },\n\n  // AI TRIGGERS - Trigger AI/Chat (🟪 Rosa magenta)\n  '@n8n/n8n-nodes-langchain.chatTrigger': { icon: 'mdi:chat-outline', category: 'ai_triggers', shape: 'diamond' },\n\n  // MARKETING TRIGGERS - Trigger marketing (🟠 Arancione)\n  'n8n-nodes-base.activeCampaignTrigger': { icon: 'mdi:email-newsletter', category: 'marketing_triggers', shape: 'diamond' },\n\n  // DATA_PROCESSING - Elaborano dati (🟢 Verde)\n  'n8n-nodes-base.set': { icon: 'mdi:pencil-circle', category: 'data_processing' },\n  'n8n-nodes-base.filter': { icon: 'mdi:filter-outline', category: 'data_processing' },\n  'n8n-nodes-base.sort': { icon: 'mdi:sort-variant', category: 'data_processing' },\n  'n8n-nodes-base.limit': { icon: 'mdi:numeric', category: 'data_processing' },\n  'n8n-nodes-base.splitInBatches': { icon: 'mdi:format-list-bulleted', category: 'data_processing' },\n  'n8n-nodes-base.splitOut': { icon: 'mdi:call-split', category: 'data_processing' },\n\n  // COMMUNICATION - Comunicazioni esterne (🟡 Giallo)\n  'n8n-nodes-base.telegram': { icon: 'simple-icons:telegram', category: 'communication', shape: 'circle' },\n  'n8n-nodes-base.whatsApp': { icon: 'simple-icons:whatsapp', category: 'communication', shape: 'circle' },\n  'n8n-nodes-base.slack': { icon: 'simple-icons:slack', category: 'communication', shape: 'circle' },\n  'n8n-nodes-base.gmail': { icon: 'simple-icons:gmail', category: 'communication', shape: 'circle' },\n  'n8n-nodes-base.microsoftOutlook': { icon: 'simple-icons:microsoftoutlook', category: 'communication', shape: 'circle' },\n  'n8n-nodes-base.emailSend': { icon: 'mdi:email-send-outline', category: 'communication', shape: 'circle' },\n\n  // DATABASES - Database e storage (🟠 Arancione)\n  'n8n-nodes-base.postgres': { icon: 'simple-icons:postgresql', category: 'databases' },\n  'n8n-nodes-base.supabase': { icon: 'simple-icons:supabase', category: 'databases' },\n  'n8n-nodes-base.googleSheets': { icon: 'simple-icons:googlesheets', category: 'databases' },\n\n  // FILE_OPERATIONS - Operazioni file (🟣 Viola intenso)\n  'n8n-nodes-base.googleDrive': { icon: 'simple-icons:googledrive', category: 'file_operations' },\n  'n8n-nodes-base.extractFromFile': { icon: 'mdi:file-document-outline', category: 'file_operations' },\n\n  // HTTP_API - Richieste web/API (🔴 Rosso)\n  'n8n-nodes-base.httpRequest': { icon: 'mdi:web', category: 'http_api' },\n  'n8n-nodes-base.httpRequestTool': { icon: 'mdi:api', category: 'http_api' },\n  'n8n-nodes-base.respondToWebhook': { icon: 'mdi:webhook', category: 'http_api' },\n\n  // CODE - Sviluppo e scripting (🟪 Magenta)\n  'n8n-nodes-base.code': { icon: 'mdi:code-braces', category: 'code' },\n  'n8n-nodes-base.function': { icon: 'mdi:function', category: 'code' },\n\n  // WORKFLOW_CONTROL - Controllo flusso (🔵 Indaco)\n  'n8n-nodes-base.if': { icon: 'mdi:help-rhombus-outline', category: 'workflow_control', shape: 'diamond-flat' },\n  'n8n-nodes-base.switch': { icon: 'mdi:electric-switch', category: 'workflow_control', shape: 'diamond-flat' },\n  'n8n-nodes-base.merge': { icon: 'mdi:merge', category: 'workflow_control', shape: 'diamond-flat' },\n  'n8n-nodes-base.wait': { icon: 'mdi:timer-sand', category: 'workflow_control', shape: 'circle' },\n  'n8n-nodes-base.executeWorkflow': { icon: 'mdi:play-circle-outline', category: 'workflow_control', shape: 'circle' },\n\n  // LOGGING_MONITORING - Log e monitoraggio (⚪ Grigio neutro)\n  'n8n-nodes-base.debug': { icon: 'mdi:bug-outline', category: 'logging_monitoring' },\n\n  // UTILITIES - Utilità e supporto (⚪ Grigio)\n  'n8n-nodes-base.noOp': { icon: 'mdi:minus-circle-outline', category: 'utilities' },\n  'n8n-nodes-base.stickyNote': { icon: 'mdi:note-text-outline', category: 'utilities' },\n\n  // PARSERS - Parsing documenti (🟤 Marrone)\n  'n8n-nodes-base.html': { icon: 'mdi:language-html5', category: 'parsers' },\n  'n8n-nodes-base.markdown': { icon: 'simple-icons:markdown', category: 'parsers' },\n  'n8n-nodes-base.dateTimeTool': { icon: 'mdi:calendar-clock', category: 'parsers' },\n\n  // CALENDAR_SCHEDULING - Calendari e appuntamenti (🟢 Verde smeraldo)\n  'n8n-nodes-base.googleCalendar': { icon: 'simple-icons:googlecalendar', category: 'calendar_scheduling' },\n\n  // AI_ML - Intelligenza artificiale (🟣 Viola)\n  'n8n-nodes-base.openAi': { icon: 'simple-icons:openai', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.agent': { icon: 'mdi:robot-outline', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.lmChatOpenAi': { icon: 'simple-icons:openai', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.embeddingsOpenAi': { icon: 'simple-icons:openai', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.openAi': { icon: 'simple-icons:openai', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.lmChatGoogleGemini': { icon: 'simple-icons:google', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.chainLlm': { icon: 'mdi:brain', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.chainSummarization': { icon: 'mdi:format-list-text', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.textClassifier': { icon: 'mdi:text-box-check-outline', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.textSplitterTokenSplitter': { icon: 'mdi:format-text-wrapping-clip', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.memoryBufferWindow': { icon: 'mdi:memory', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.memoryPostgresChat': { icon: 'simple-icons:postgresql', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.vectorStoreQdrant': { icon: 'mdi:database-search', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.vectorStorePinecone': { icon: 'mdi:pine-tree', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.vectorStoreSupabase': { icon: 'simple-icons:supabase', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.retrieverVectorStore': { icon: 'mdi:database-arrow-down', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.rerankerCohere': { icon: 'mdi:sort-ascending', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.outputParserStructured': { icon: 'mdi:code-braces', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.documentDefaultDataLoader': { icon: 'mdi:file-upload-outline', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.chatTrigger': { icon: 'mdi:chat-outline', category: 'triggers' }, // È un trigger\n\n  // AI TOOLS - Strumenti AI (🟣 Viola)\n  '@n8n/n8n-nodes-langchain.toolSerpApi': { icon: 'mdi:google', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.toolCalculator': { icon: 'mdi:calculator', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.toolVectorStore': { icon: 'mdi:database-search-outline', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.toolWorkflow': { icon: 'mdi:workflow', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.toolHttpRequest': { icon: 'mdi:web', category: 'http_api', shape: 'rectangle' }, // È HTTP\n  '@n8n/n8n-nodes-langchain.toolConvertToFile': { icon: 'mdi:file-document-outline', category: 'ai_ml', shape: 'rectangle' },\n  '@n8n/n8n-nodes-langchain.mcpClientTool': { icon: 'mdi:connection', category: 'ai_ml', shape: 'rectangle' },\n\n  // PARSERS aggiuntivi - Parsing documenti (🟤 Marrone)\n  'n8n-nodes-base.xml': { icon: 'mdi:code-tags', category: 'parsers' },\n  'n8n-nodes-base.json': { icon: 'mdi:code-json', category: 'parsers' },\n  'n8n-nodes-base.csv': { icon: 'mdi:file-delimited-outline', category: 'parsers' },\n  'n8n-nodes-base.yaml': { icon: 'mdi:file-code-outline', category: 'parsers' },\n\n  // CODE aggiuntivi - Sviluppo e scripting (🟪 Magenta)\n  'n8n-nodes-base.javascript': { icon: 'vscode-icons:file-type-js-official', category: 'code' },\n  'n8n-nodes-base.typescript': { icon: 'vscode-icons:file-type-typescript-official', category: 'code' },\n  'n8n-nodes-base.python': { icon: 'vscode-icons:file-type-python', category: 'code' },\n\n  // UTILITIES aggiuntive - Utilità e supporto (⚪ Grigio)\n  'n8n-nodes-base.start': { icon: 'mdi:play-circle', category: 'utilities' },\n  'n8n-nodes-base.itemLists': { icon: 'mdi:format-list-bulleted', category: 'utilities' },\n  'n8n-nodes-base.database': { icon: 'vscode-icons:file-type-sql', category: 'utilities' }\n}\n\n// ADVANCED PROFESSIONAL COLOR PALETTE - Sistema categorizzazione esteso\nconst categoryColors: Record<string, string> = {\n  // Core Categories\n  triggers: '#4F709C',           // Blu scuro - Attivano workflow\n  data_processing: '#5F8A5F',    // Verde foresta - Elaborano dati\n  communication: '#B8860B',      // Oro opaco - Comunicazioni\n  ai_ml: '#6B46C1',             // Viola profondo - Intelligenza artificiale\n  databases: '#C2793D',         // Bronzo - Database e storage\n  http_api: '#B91C1C',          // Rosso scuro - Richieste web/API\n  code: '#A855F7',              // Magenta - Sviluppo e scripting\n  utilities: '#64748B',         // Grigio ardesia - Utilità e supporto\n  parsers: '#8B5A2B',           // Marrone cioccolato - Parsing documenti\n  cloud_services: '#0284C7',    // Azzurro - Servizi cloud\n\n  // Advanced Categories\n  media_processing: '#DC2626',   // Rosso vivace - Audio, video, immagini\n  file_operations: '#7C3AED',    // Viola intenso - Operazioni file\n  calendar_scheduling: '#059669', // Verde smeraldo - Calendari e appuntamenti\n  business_intelligence: '#D97706', // Ambra - Analytics e report\n  order_management: '#1D4ED8',   // Blu reale - Gestione ordini\n  notification_systems: '#DC2626', // Rosso alert - Sistemi notifica\n  authentication: '#374151',     // Grigio scuro - Autenticazione\n  workflow_control: '#6366F1',   // Indaco - Controllo flusso\n  logging_monitoring: '#6B7280', // Grigio neutro - Log e monitoraggio\n  document_processing: '#92400E', // Marrone scuro - Elaborazione documenti\n\n  // N8N TRIGGER CATEGORIES - Classificazione nativa trigger\n  schedule_triggers: '#2563EB',   // Blu elettrico - Trigger temporali\n  webhook_triggers: '#DC2626',    // Rosso intenso - Trigger HTTP esterni\n  email_triggers: '#F59E0B',      // Giallo ambra - Trigger email\n  social_triggers: '#10B981',     // Verde vivace - Trigger social/messaging\n  workflow_triggers: '#8B5CF6',   // Viola - Trigger interni workflow\n  ai_triggers: '#EC4899',         // Rosa magenta - Trigger AI/Chat\n  marketing_triggers: '#F97316'   // Arancione - Trigger marketing\n}\n\n// Computed properties\nconst nodeMapping = computed(() => {\n  return iconifyMap[props.nodeType] || null\n})\n\nconst iconName = computed(() => {\n  return nodeMapping.value?.icon || null\n})\n\nconst categoryColor = computed(() => {\n  const category = nodeMapping.value?.category || 'utilities'\n  return categoryColors[category] || categoryColors.utilities\n})\n\nconst nodeShape = computed(() => {\n  return nodeMapping.value?.shape || 'rectangle'\n})\n\nconst shapeClasses = computed(() => {\n  return `shape-${nodeShape.value}`\n})\n\nconst placeholderText = computed(() => {\n  const parts = props.nodeType.split('.')\n  return parts[parts.length - 1].substring(0, 3).toUpperCase()\n})\n</script>\n\n<style scoped>\n.node-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  transition: all 0.2s ease;\n  /* Dimensioni base - sovrascritte dalle forme specifiche */\n  width: 48px;\n  height: 48px;\n}\n\n/* N8N GEOMETRIC SHAPES - Forme specifiche per categorie */\n\n/* Default: Rectangle (Actions) - Rettangolo più largo */\n.shape-rectangle {\n  width: 56px !important;\n  height: 40px !important;\n  border-radius: 8px;\n}\n\n/* Diamond (Triggers) - Forma a diamante per trigger */\n.shape-diamond {\n  width: 48px !important;\n  height: 48px !important;\n  transform: rotate(45deg);\n  border-radius: 6px;\n}\n\n.shape-diamond .icon-styled,\n.shape-diamond .placeholder-icon {\n  transform: rotate(-45deg);\n}\n\n/* Diamond Flat (Logic/Control) - Rombo schiacciato per controlli */\n.shape-diamond-flat {\n  width: 48px !important;\n  height: 48px !important;\n  transform: rotate(45deg) scaleY(0.6);\n  border-radius: 4px;\n}\n\n.shape-diamond-flat .icon-styled,\n.shape-diamond-flat .placeholder-icon {\n  transform: rotate(-45deg) scaleY(1.67);\n}\n\n/* Circle (Outputs) - Cerchio per endpoint */\n.shape-circle {\n  width: 48px !important;\n  height: 48px !important;\n  border-radius: 50%;\n}\n\n/* PROFESSIONAL CATEGORY COLORING - Icone con palette sofisticata */\n.icon-styled {\n  opacity: 0.8;\n  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.08));\n}\n\n.node-icon:hover .icon-styled {\n  opacity: 0.95;\n  transform: scale(1.03);\n  filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.12));\n}\n\n/* Placeholder per nodi senza mapping */\n.placeholder-icon {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #374151;\n  border: 2px dashed #6B7280;\n  border-radius: 8px;\n  transition: all 0.2s ease;\n}\n\n.placeholder-icon:hover {\n  background: #4B5563;\n  border-color: #9CA3AF;\n}\n\n.placeholder-text {\n  font-size: 10px;\n  font-weight: bold;\n  color: #9CA3AF;\n  transition: color 0.2s ease;\n}\n\n.placeholder-icon:hover .placeholder-text {\n  color: #D1D5DB;\n}\n</style>","<template>\n  <MainLayout>\n    <div class=\"h-[calc(100vh-4rem)] overflow-auto\">\n\n      <!-- KPI Stats Row - SOTTILE per massimizzare canvas -->\n      <div class=\"grid grid-cols-6 gap-3 mb-3\">\n        <!-- Total Executions Card - COMPATTO -->\n        <Card class=\"premium-glass premium-hover-lift\">\n          <template #content>\n            <div class=\"p-2\">\n              <div class=\"flex items-center justify-between mb-1\">\n                <p class=\"text-lg font-bold text-text\">{{ totalExecutions.toLocaleString() }}</p>\n                <Badge value=\"Totali\" severity=\"info\" class=\"text-xs badge-white-text\" />\n              </div>\n              <p class=\"text-xs text-text-muted\">Prod. executions • Last 7 days</p>\n            </div>\n          </template>\n        </Card>\n\n        <!-- Failed Executions Card - COMPATTO -->\n        <Card class=\"premium-glass premium-hover-lift\">\n          <template #content>\n            <div class=\"p-2\">\n              <div class=\"flex items-center justify-between mb-1\">\n                <p class=\"text-lg font-bold text-text\">{{ failedExecutions }}</p>\n                <Badge value=\"Fallite\" severity=\"danger\" class=\"text-xs badge-white-text\" />\n              </div>\n              <p class=\"text-xs text-text-muted\">Failed prod. executions • Last 7 days</p>\n            </div>\n          </template>\n        </Card>\n\n        <!-- Success Rate Card - COMPATTO -->\n        <Card class=\"premium-glass premium-hover-lift\">\n          <template #content>\n            <div class=\"p-2\">\n              <div class=\"flex items-center justify-between mb-1\">\n                <p class=\"text-lg font-bold text-cyan-500\">{{ Math.round(100 - failureRate) }}%</p>\n                <Badge value=\"SUCCESS\" severity=\"info\" class=\"text-xs badge-white-text\" />\n              </div>\n              <p class=\"text-xs text-text-muted\">Tasso Successo • Last 7 days</p>\n            </div>\n          </template>\n        </Card>\n\n        <!-- Time Saved Card - COMPATTO -->\n        <Card class=\"premium-glass premium-hover-lift\">\n          <template #content>\n            <div class=\"p-2\">\n              <div class=\"flex items-center justify-between mb-1\">\n                <p class=\"text-lg font-bold text-warning\">{{ timeSaved }}h</p>\n                <Badge value=\"SAVED\" severity=\"warning\" class=\"text-xs badge-white-text\" />\n              </div>\n              <p class=\"text-xs text-text-muted\">Time saved • Last 7 days</p>\n            </div>\n          </template>\n        </Card>\n\n        <!-- Run Time Card - COMPATTO -->\n        <Card class=\"premium-glass premium-hover-lift\">\n          <template #content>\n            <div class=\"p-2\">\n              <div class=\"flex items-center justify-between mb-1\">\n                <p class=\"text-lg font-bold text-text\">{{ avgRunTime }}</p>\n                <Badge value=\"AVG\" severity=\"info\" class=\"text-xs badge-white-text\" />\n              </div>\n              <p class=\"text-xs text-text-muted\">Run time (avg.) • Last 7 days</p>\n            </div>\n          </template>\n        </Card>\n\n        <!-- System Health Card - COMPATTO -->\n        <Card class=\"premium-glass premium-hover-lift\">\n          <template #content>\n            <div class=\"p-2\">\n              <div class=\"flex items-center justify-between mb-1\">\n                <p class=\"text-lg font-bold text-blue-500\">{{ activeWorkflows }}/{{ totalWorkflows }}</p>\n                <Badge value=\"SYSTEM\" severity=\"info\" class=\"text-xs badge-white-text\" />\n              </div>\n              <p class=\"text-xs text-text-muted\">Active workflows • System status</p>\n            </div>\n          </template>\n        </Card>\n      </div>\n\n      <!-- Main Layout: Collapsible Sidebar + Flow + Details -->\n      <div class=\"flex gap-4 h-[calc(100%-4rem)]\">\n        \n        <!-- Collapsible Left Sidebar: Workflow List -->\n        <div \n          :class=\"sidebarCollapsed ? 'w-12' : 'w-48'\"\n          class=\"premium-glass rounded-lg overflow-hidden transition-all duration-300 flex-shrink-0\"\n        >\n          <!-- Sidebar Header -->\n          <div class=\"p-3 border-b border-border flex items-center justify-between\">\n            <h3 v-if=\"!sidebarCollapsed\" class=\"text-xs font-bold text-text\">BUSINESS PROCESSES</h3>\n            <button \n              @click=\"sidebarCollapsed = !sidebarCollapsed\"\n              class=\"p-1 text-text-muted hover:text-text transition-colors\"\n            >\n              <Icon icon=\"lucide:chevron-left\" :class=\"{ 'rotate-180': sidebarCollapsed }\" class=\"w-4 h-4 transition-transform\" />\n            </button>\n          </div>\n          \n          <!-- Sidebar Content -->\n          <div v-if=\"!sidebarCollapsed\" class=\"p-4 overflow-y-auto h-full\">\n            <div class=\"flex items-center justify-between mb-3\">\n              <span class=\"text-xs text-text-muted\">{{ activeWorkflows }}/{{ totalWorkflows }} active</span>\n            </div>\n            \n            <!-- Real Workflow List -->\n            <div class=\"space-y-1.5\">\n              <div\n                v-for=\"workflow in realWorkflows\"\n                :key=\"workflow.id\"\n                @click=\"selectWorkflow(workflow)\"\n                class=\"p-2 rounded-md cursor-pointer transition-all text-xs\"\n                :class=\"selectedWorkflowId === workflow.id\n                  ? 'selected-workflow'\n                  : 'bg-surface/50 hover:bg-surface border border-transparent hover:border-border'\"\n              >\n                <div class=\"flex items-center gap-2 mb-1\">\n                  <div \n                    class=\"w-1.5 h-1.5 rounded-full\"\n                    :class=\"workflow.is_active ? 'bg-primary animate-pulse' : 'bg-text-muted'\"\n                  />\n                  <span class=\"font-medium text-text truncate flex-1 max-w-32\" :title=\"workflow.process_name\">\n                    {{ workflow.process_name }}\n                  </span>\n                </div>\n                <div class=\"text-xs text-text-muted pl-3.5\">\n                  {{ workflow.executions_today }} today\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Collapsed State -->\n          <div v-else class=\"p-2 overflow-y-auto h-full\">\n            <div class=\"space-y-2\">\n              <div\n                v-for=\"workflow in realWorkflows\"\n                :key=\"workflow.id\"\n                @click=\"selectWorkflow(workflow)\"\n                class=\"w-8 h-8 rounded-md cursor-pointer transition-all flex items-center justify-center\"\n                :class=\"selectedWorkflowId === workflow.id \n                  ? 'bg-primary/20 border border-primary/50' \n                  : 'bg-surface/50 hover:bg-surface'\"\n                :title=\"workflow.process_name\"\n              >\n                <div \n                  class=\"w-2 h-2 rounded-full\"\n                  :class=\"workflow.is_active ? 'bg-primary' : 'bg-text-muted'\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Center: VueFlow Visualization -->\n        <div class=\"flex-1 premium-glass rounded-lg overflow-hidden\">\n          <!-- Enhanced Header con indicatori business -->\n          <div class=\"bg-surface/30 border-b border-border px-4 py-3 flex items-center justify-between\">\n            <!-- Left: Nome + Info -->\n            <div class=\"flex items-center gap-3\">\n              <div>\n                <div class=\"text-sm font-bold text-white\">\n                  {{ selectedWorkflowData?.process_name || 'Select a workflow to visualize' }}\n                </div>\n                <div v-if=\"workflowStats\" class=\"flex items-center gap-3 text-xs text-text-muted mt-1\">\n                  <span>{{ workflowStats.kpis?.totalExecutions || 0 }} executions</span>\n                  <span>•</span>\n                  <span class=\"flex items-center gap-1\">\n                    <div :style=\"{\n                      width: '6px',\n                      height: '6px',\n                      borderRadius: '50%',\n                      backgroundColor: (workflowStats.kpis?.successRate || 0) >= 80 ? '#10b981' : '#ef4444'\n                    }\"></div>\n                    {{ workflowStats.kpis?.successRate || 0 }}% success\n                  </span>\n                  <span>•</span>\n                  <span>{{ workflowStats.kpis?.avgRunTime ? Math.round(workflowStats.kpis.avgRunTime) + 'ms' : 'N/A' }} avg</span>\n                </div>\n              </div>\n            </div>\n\n            <!-- Center: Analytics button -->\n            <div class=\"flex items-center gap-2\">\n              <button\n                @click=\"openBusinessDashboard\"\n                :disabled=\"!selectedWorkflowId\"\n                class=\"group px-5 py-2.5 text-sm font-medium rounded-lg flex items-center gap-2 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed bg-gradient-to-r from-emerald-500/10 via-emerald-600/10 to-emerald-500/10 hover:from-emerald-500/20 hover:via-emerald-600/20 hover:to-emerald-500/20 border border-emerald-500/30 hover:border-emerald-500/50 backdrop-blur-xl hover:shadow-[0_0_20px_rgba(16,185,129,0.15)] hover:scale-[1.02]\"\n              >\n                <Icon icon=\"lucide:bar-chart-3\" class=\"w-4 h-4 text-emerald-400 group-hover:text-emerald-300 transition-colors\" />\n                <span class=\"text-emerald-400 group-hover:text-emerald-300 transition-colors\">Business Analytics</span>\n              </button>\n            </div>\n\n            <!-- Right: Status + Performance indicators -->\n            <div class=\"flex items-center gap-4\">\n              <!-- Last execution indicator -->\n              <div v-if=\"workflowStats?.kpis?.last24hExecutions\" class=\"flex items-center gap-2 text-xs\">\n                <div class=\"w-2 h-2 rounded-full bg-cyan-500 animate-pulse\"></div>\n                <span class=\"text-gray-300 font-medium\">{{ workflowStats.kpis.last24hExecutions }} runs today</span>\n              </div>\n\n              <!-- Efficiency badge -->\n              <span\n                v-if=\"workflowStats?.kpis?.efficiencyScore\"\n                :class=\"[\n                  'px-2 py-1 rounded text-xs font-medium',\n                  workflowStats.kpis.efficiencyScore >= 80\n                    ? 'bg-green-500/20 text-green-300 border border-green-500/30'\n                    : workflowStats.kpis.efficiencyScore >= 60\n                    ? 'bg-yellow-500/20 text-yellow-300 border border-yellow-500/30'\n                    : 'bg-red-500/20 text-red-300 border border-red-500/30'\n                ]\"\n              >\n                {{ workflowStats.kpis.efficiencyScore }}% efficiency\n              </span>\n\n              <!-- Active/Inactive toggle -->\n              <div class=\"flex items-center gap-2\">\n                <span class=\"text-xs text-text-muted\">\n                  {{ selectedWorkflowData?.is_active ? 'Active' : 'Inactive' }}\n                </span>\n                <button\n                  v-if=\"canExecute\"\n                  @click=\"toggleWorkflowStatus\"\n                  :disabled=\"!selectedWorkflowId\"\n                  :class=\"[\n                    'relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed',\n                    selectedWorkflowData?.is_active ? 'bg-primary' : 'bg-gray-600'\n                  ]\"\n                >\n                  <span\n                    :class=\"[\n                      'inline-block h-3 w-3 transform rounded-full bg-white transition-transform',\n                      selectedWorkflowData?.is_active ? 'translate-x-5' : 'translate-x-1'\n                    ]\"\n                  />\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          <!-- VueFlow -->\n          <div class=\"relative h-full\">\n            <VueFlow\n              v-if=\"selectedWorkflowId\"\n              v-model=\"flowElements\"\n              :node-types=\"nodeTypes\"\n              :default-viewport=\"{ zoom: 1, x: 0, y: 0 }\"\n              :min-zoom=\"0.2\"\n              :max-zoom=\"3\"\n              :connection-line-type=\"'default'\"\n              class=\"workflow-flow h-full workflow-transition\"\n            >\n              <Background\n                pattern-color=\"#4b5563\"\n                :size=\"2\"\n                variant=\"dots\"\n                :gap=\"20\"\n                :style=\"{ backgroundColor: '#0a0a0a' }\"\n              />\n              \n              <!-- Execute/Stop Button: Central bottom position like n8n (Only for admin/editor) -->\n              <div v-if=\"canExecute\" class=\"absolute bottom-32 left-1/2 transform -translate-x-1/2 z-50 flex gap-2\">\n                <button\n                  v-if=\"!isExecuting\"\n                  @click=\"executeWorkflow\"\n                  :disabled=\"!selectedWorkflowId\"\n                  :class=\"[\n                    'px-4 py-2 bg-gray-800 border border-gray-600 text-white rounded transition-colors shadow-lg flex items-center gap-2',\n                    'hover:bg-gray-700',\n                    !selectedWorkflowId ? 'opacity-50 cursor-not-allowed' : ''\n                  ]\"\n                  title=\"Execute Workflow\"\n                >\n                  <Icon icon=\"lucide:play\" class=\"w-4 h-4\" />\n                  Execute Now\n                </button>\n\n                <button\n                  v-else\n                  @click=\"stopWorkflow\"\n                  class=\"px-4 py-2 bg-red-700 border border-red-600 text-white rounded transition-colors shadow-lg flex items-center gap-2 hover:bg-red-600\"\n                  title=\"Stop Workflow\"\n                >\n                  <Icon icon=\"lucide:square\" class=\"w-4 h-4\" />\n                  Stop\n                </button>\n\n              </div>\n\n              <!-- n8n-style Controls: Bottom Left HORIZONTAL -->\n              <div class=\"absolute bottom-32 left-4 flex flex-row gap-2 z-50\">\n                <!-- Fit View Button -->\n                <button \n                  @click=\"() => fitView({ duration: 600, padding: 0.15 })\"\n                  class=\"w-10 h-10 bg-gray-800 border border-gray-600 text-white rounded hover:bg-gray-700 transition-colors flex items-center justify-center shadow-lg\"\n                  title=\"Fit View\"\n                >\n                  <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path d=\"M5 5h4v2H7v2H5V5zm10 0h4v4h-2V7h-2V5zM7 15v2h2v2H5v-4h2zm8 2v-2h2v4h-4v-2h2z\"/>\n                  </svg>\n                </button>\n                \n                <!-- Zoom In Button -->\n                <button \n                  @click=\"zoomIn\"\n                  class=\"w-10 h-10 bg-gray-800 border border-gray-600 text-white rounded hover:bg-gray-700 transition-colors flex items-center justify-center text-lg font-bold shadow-lg\"\n                  title=\"Zoom In\"\n                >\n                  +\n                </button>\n                \n                <!-- Zoom Out Button -->\n                <button \n                  @click=\"zoomOut\"\n                  class=\"w-10 h-10 bg-gray-800 border border-gray-600 text-white rounded hover:bg-gray-700 transition-colors flex items-center justify-center text-lg font-bold shadow-lg\"\n                  title=\"Zoom Out\"\n                >\n                  −\n                </button>\n              </div>\n              \n              <!-- n8n-style Logs Section - ALWAYS VISIBLE -->\n              <div class=\"absolute bottom-4 left-16 right-4 z-50\">\n                <!-- Logs Button (Always Visible) -->\n                <button \n                  @click=\"showLogs = !showLogs\"\n                  class=\"bg-gray-800 border border-gray-600 text-white px-4 py-2 rounded-t-lg shadow-lg hover:bg-gray-700 transition-colors flex items-center gap-2\"\n                >\n                  <span class=\"text-sm font-medium\">Logs</span>\n                  <div class=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"></div>\n                  <svg class=\"w-4 h-4 text-gray-400 transition-transform\" :class=\"{ 'rotate-180': showLogs }\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fill-rule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clip-rule=\"evenodd\"/>\n                  </svg>\n                </button>\n                \n                <!-- Logs Panel (Expandable) -->\n                <div \n                  v-if=\"showLogs\"\n                  class=\"bg-gray-800 border border-gray-600 border-t-0 rounded-b-lg shadow-lg\"\n                  style=\"max-height: 200px;\"\n                >\n                  <!-- Logs Content -->\n                  <div class=\"p-4 overflow-y-auto\" style=\"max-height: 180px;\">\n                    <div v-if=\"executionLogs.length === 0\" class=\"text-center py-6\">\n                      <p class=\"text-gray-400 text-sm\">Nothing to display yet. Execute the workflow to see execution logs.</p>\n                    </div>\n                    <div v-else class=\"space-y-2\">\n                      <div \n                        v-for=\"(log, index) in executionLogs\" \n                        :key=\"index\"\n                        class=\"flex items-start gap-3 text-sm\"\n                      >\n                        <span class=\"text-gray-500 shrink-0 font-mono\">{{ log.timestamp }}</span>\n                        <span :class=\"getLogLevelClass(log.level)\" class=\"shrink-0 min-w-[60px]\">{{ log.level }}</span>\n                        <span class=\"text-gray-200\">{{ log.message }}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              <template #node-custom=\"{ data }\">\n                <!-- AI NODES: Premium Diamond/Hexagon Shape (Internal Labels) -->\n                <div \n                  v-if=\"data.type === 'ai'\"\n                  class=\"premium-ai-node\"\n                  :class=\"[\n                    data.status === 'success' ? 'premium-ai-active' : 'premium-ai-inactive'\n                  ]\"\n                >\n                  <!-- Main Input Handle (LEFT side) -->\n                  <Handle \n                    v-for=\"(input, index) in (data.inputs || []).filter(i => i === 'main')\"\n                    :key=\"'main-input-' + index\"\n                    :id=\"'input-' + index\" \n                    type=\"target\" \n                    :position=\"Position.Left\" \n                    :style=\"{ top: '50%', transform: 'translateY(-50%)' }\"\n                    :class=\"`premium-handle-ai-main ${isHandleConnected(data.id, 'input-' + index) ? 'handle-connected' : 'handle-disconnected'}`\"\n                    :title=\"`Main Input: ${input}`\"\n                  />\n                  \n                  <!-- Main Output Handle (RIGHT side) -->\n                  <Handle \n                    v-for=\"(output, index) in (data.outputs || []).filter(o => o === 'main')\"\n                    :key=\"'main-output-' + index\"\n                    :id=\"'output-' + index\" \n                    type=\"source\" \n                    :position=\"Position.Right\" \n                    :style=\"{ top: '50%', transform: 'translateY(-50%)' }\"\n                    :class=\"[\n                      'premium-handle-ai-main',\n                      isHandleConnected(data.id, 'output-' + index) ? 'handle-connected' : 'handle-disconnected'\n                    ]\"\n                    :title=\"`Main Output: ${output}`\"\n                  />\n                  \n                  <!-- AI Tool Handles (BOTTOM) - Multiple distributed handles -->\n                  <Handle \n                    v-for=\"(nonMainConnection, index) in [...(data.inputs || []).filter(i => i !== 'main'), ...(data.outputs || []).filter(o => o !== 'main')]\"\n                    :key=\"'tool-' + index\"\n                    :id=\"'tool-' + index\" \n                    :type=\"(data.inputs || []).includes(nonMainConnection) ? 'target' : 'source'\" \n                    :position=\"Position.Bottom\" \n                    :style=\"{ \n                      left: nonMainConnection.length > 1 ? \n                        `${20 + (index * (140 / Math.max([...(data.inputs || []).filter(i => i !== 'main'), ...(data.outputs || []).filter(o => o !== 'main')].length - 1, 1)))}px` : \n                        '50%',\n                      transform: 'translateX(-50%)'\n                    }\"\n                    :class=\"[\n                      'premium-handle-ai-tool',\n                      isHandleConnected(data.id, 'tool-' + index) ? 'handle-connected' : 'handle-disconnected'\n                    ]\"\n                    :title=\"`AI Tool: ${nonMainConnection}`\"\n                  />\n                  \n                  <!-- AI Icon centered -->\n                  <div class=\"premium-ai-icon\">\n                    <N8nIcon v-bind=\"getN8nIconProps(data.nodeType, data.label)\" size=\"w-16 h-16\" />\n                  </div>\n                  \n                  <!-- AI Content -->\n                  <div class=\"premium-ai-content\">\n                    <div class=\"premium-ai-name\">{{ data.label }}</div>\n                    <div v-if=\"data.outputs?.length > 1\" class=\"premium-ai-connections\">\n                      {{ data.outputs.length }} outputs\n                    </div>\n                  </div>\n                  \n                  <!-- AI Status indicator -->\n                  <div \n                    class=\"premium-ai-status\"\n                    :class=\"data.status === 'success' ? 'premium-status-ai-active' : 'premium-status-ai-inactive'\"\n                  />\n                </div>\n\n                <!-- TRIGGER NODES: n8n Style with External Label -->\n                <div \n                  v-else-if=\"data.type === 'trigger'\"\n                  class=\"premium-node-wrapper\"\n                >\n                  <div \n                    class=\"premium-trigger-node\"\n                    :class=\"[\n                      data.status === 'success' ? 'premium-trigger-active' : 'premium-trigger-inactive'\n                    ]\"\n                  >\n                    <!-- Right-side handles -->\n                    <Handle \n                      v-for=\"(output, index) in data.outputs || ['main']\"\n                      :key=\"'output-' + index\"\n                      :id=\"'output-' + index\" \n                      type=\"source\" \n                      :position=\"Position.Right\" \n                      :style=\"{ \n                        top: data.outputs?.length > 1 ? `${15 + (index * 20)}px` : '50%',\n                        transform: 'translateY(-50%)'\n                      }\"\n                      :class=\"[\n                        'premium-handle-trigger',\n                        isHandleConnected(data.id, 'output-' + index) ? 'handle-connected' : 'handle-disconnected'\n                      ]\"\n                    />\n                    \n                    <!-- Center icon only -->\n                    <div class=\"premium-trigger-icon\">\n                      <N8nIcon v-bind=\"getN8nIconProps(data.nodeType, data.label)\" size=\"w-12 h-12\" />\n                    </div>\n                  </div>\n                  \n                  <!-- External label below node -->\n                  <div class=\"premium-external-label\">\n                    {{ data.label }}\n                  </div>\n                </div>\n\n                <!-- TOOL NODES: n8n Style Circular with External Label -->\n                <div \n                  v-else-if=\"data.type === 'tool'\"\n                  class=\"premium-node-wrapper\"\n                >\n                  <div \n                    class=\"premium-tool-node\"\n                    :class=\"[\n                      data.status === 'success' ? 'premium-tool-active' : 'premium-tool-inactive'\n                    ]\"\n                  >\n                    <!-- Tool handles: Input BOTTOM, Output TOP like n8n -->\n                    <Handle \n                      v-for=\"(input, index) in data.inputs || ['main']\"\n                      :key=\"'input-' + index\"\n                      :id=\"'input-' + index\" \n                      type=\"target\" \n                      :position=\"Position.Bottom\" \n                      :style=\"{ left: '50%', transform: 'translateX(-50%)' }\"\n                      :class=\"[\n                        'premium-handle-tool-bottom',\n                        isHandleConnected(data.id, 'input-' + index) ? 'handle-connected' : 'handle-disconnected'\n                      ]\"\n                    />\n                    \n                    <Handle \n                      v-for=\"(output, index) in data.outputs || ['main']\"\n                      :key=\"'output-' + index\"\n                      :id=\"'output-' + index\" \n                      type=\"source\" \n                      :position=\"Position.Top\" \n                      :style=\"{ left: '50%', transform: 'translateX(-50%)' }\"\n                      :class=\"[\n                        'premium-handle-tool-top',\n                        isHandleConnected(data.id, 'output-' + index) ? 'handle-connected' : 'handle-disconnected'\n                      ]\"\n                    />\n                    \n                    <!-- Center icon only -->\n                    <div class=\"premium-tool-icon\">\n                      <N8nIcon v-bind=\"getN8nIconProps(data.nodeType, data.label)\" size=\"w-12 h-12\" />\n                    </div>\n                  </div>\n                  \n                  <!-- External label below node -->\n                  <div class=\"premium-external-label\">\n                    {{ data.label }}\n                  </div>\n                </div>\n\n                <!-- STORAGE NODES: n8n Style Pill Shape -->\n                <div \n                  v-else-if=\"data.type === 'storage'\"\n                  class=\"premium-storage-node\"\n                  :class=\"[\n                    data.status === 'success' ? 'premium-storage-active' : 'premium-storage-inactive'\n                  ]\"\n                >\n                  \n                  <!-- Main input from top (for agent connections) -->\n                  <Handle \n                    v-for=\"(input, index) in (data.inputs || ['main']).filter(i => i === 'main')\"\n                    :key=\"'input-' + index\"\n                    :id=\"'input-' + index\" \n                    type=\"target\" \n                    :position=\"Position.Top\" \n                    :style=\"{ left: '50%', transform: 'translateX(-50%)' }\"\n                    :class=\"[\n                      'premium-handle-storage',\n                      isHandleConnected(data.id, 'input-' + index) ? 'handle-connected' : 'handle-disconnected'\n                    ]\"\n                  />\n                  \n                  <!-- Tool input from bottom (for embeddings connections) -->\n                  <Handle \n                    v-for=\"(input, index) in (data.inputs || []).filter(i => i !== 'main')\"\n                    :key=\"'tool-input-' + index\"\n                    :id=\"'tool-' + index\" \n                    type=\"target\" \n                    :position=\"Position.Bottom\" \n                    :style=\"{ left: '50%', transform: 'translateX(-50%)' }\"\n                    :class=\"[\n                      'premium-handle-storage',\n                      isHandleConnected(data.id, 'tool-' + index) ? 'handle-connected' : 'handle-disconnected'\n                    ]\"\n                  />\n                  \n                  <!-- Vector stores have no output handles - they are storage endpoints -->\n                  \n                  <!-- Horizontal layout: icon LEFT + text RIGHT -->\n                  <div style=\"display: flex; align-items: center; width: 100%; height: 100%; padding: 0 8px;\">\n                    <div style=\"width: 32px; height: 32px; margin-right: 10px; flex-shrink: 0;\">\n                      <N8nIcon v-bind=\"getN8nIconProps(data.nodeType, data.label)\" size=\"w-8 h-8\" />\n                    </div>\n                    <div style=\"color: #ffffff !important; font-size: 13px !important; font-weight: 600 !important; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important; white-space: nowrap !important; overflow: hidden !important; text-overflow: ellipsis !important; flex: 1;\">{{ data.label }}</div>\n                  </div>\n                </div>\n\n                <!-- PROCESS NODES: n8n Style Square with External Label -->\n                <div \n                  v-else\n                  class=\"premium-node-wrapper\"\n                >\n                  <div \n                    class=\"premium-process-node\"\n                    :class=\"[\n                      data.status === 'success' ? 'premium-process-active' : 'premium-process-inactive'\n                    ]\"\n                  >\n                    <!-- Left-side input handles -->\n                    <Handle \n                      v-for=\"(input, index) in data.inputs || ['main']\"\n                      :key=\"'input-' + index\"\n                      :id=\"'input-' + index\" \n                      type=\"target\" \n                      :position=\"Position.Left\" \n                      :style=\"{ \n                        top: data.inputs?.length > 1 ? `${15 + (index * 20)}px` : '50%',\n                        transform: 'translateY(-50%)'\n                      }\"\n                      :class=\"`premium-handle-process handle-disconnected`\"\n                    />\n                    \n                    <!-- Right-side output handles -->\n                    <Handle \n                      v-for=\"(output, index) in data.outputs || ['main']\"\n                      :key=\"'output-' + index\"\n                      :id=\"'output-' + index\" \n                      type=\"source\" \n                      :position=\"Position.Right\" \n                      :style=\"{ \n                        top: data.outputs?.length > 1 ? `${15 + (index * 20)}px` : '50%',\n                        transform: 'translateY(-50%)'\n                      }\"\n                      :class=\"`premium-handle-process handle-disconnected`\"\n                    />\n                    \n                    <!-- Only icon inside the square node -->\n                    <div class=\"premium-process-icon\">\n                      <N8nIcon v-bind=\"getN8nIconProps(data.nodeType, data.label)\" size=\"w-12 h-12\" />\n                    </div>\n                  </div>\n                  \n                  <!-- External label below node -->\n                  <div class=\"premium-external-label\">\n                    {{ data.label }}\n                  </div>\n                </div>\n              </template>\n            </VueFlow>\n            \n            <!-- Empty State -->\n            <div v-else class=\"absolute inset-0 flex items-center justify-center\">\n              <div class=\"text-center\">\n                <GitBranch class=\"w-16 h-16 text-text-muted mx-auto mb-4\" />\n                <h3 class=\"text-lg font-semibold text-text mb-2\">Select a Process</h3>\n                <p class=\"text-text-muted\">Choose a workflow from the list to visualize its structure</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Panel destro rimosso - ora fullscreen canvas -->\n      </div>\n\n      <!-- Enhanced Modals -->\n      <WorkflowDetailModal\n        v-if=\"selectedWorkflowForModal\"\n        :workflow=\"selectedWorkflowForModal\"\n        :show=\"showDetailModal\"\n        @close=\"closeDetailModal\"\n      />\n\n      <TimelineModal\n        v-if=\"selectedWorkflowId && showTimelineModal\"\n        :workflow-id=\"selectedWorkflowId\"\n        :tenant-id=\"tenantId\"\n        :show=\"showTimelineModal\"\n        @close=\"closeTimelineModal\"\n      />\n\n      <!-- Executions Modal - Using DetailModal with Real API -->\n      <DetailModal\n        v-if=\"selectedWorkflowForModal\"\n        :show=\"showExecutionsModal\"\n        :title=\"`Process Executions: ${selectedWorkflowForModal.process_name}`\"\n        :subtitle=\"`ID: ${selectedWorkflowForModal.id}`\"\n        :header-icon=\"'lucide:play'\"\n        :tabs=\"executionTabs\"\n        default-tab=\"executions\"\n        :is-loading=\"executionData?.loading || false\"\n        :error=\"executionsError\"\n        :data=\"executionData\"\n        @close=\"closeExecutionsModal\"\n        @refresh=\"loadExecutionData\"\n        @retry=\"loadExecutionData\"\n      >\n        <template #executions=\"{ data }\">\n          <div class=\"p-4\">\n            <div class=\"space-y-3\">\n              <h3 class=\"text-base font-semibold text-text\">Recent Executions (Page {{ currentPage }}/{{ totalPages }})</h3>\n              \n              <!-- Recent Executions Info -->\n              <div v-if=\"data?.executions?.length > 0\" class=\"mb-2 text-xs text-text-muted\">\n                Showing the {{ data.executions.length }} most recent executions\n              </div>\n              \n              <!-- Compact Executions Table -->\n              <div v-if=\"paginatedExecutions.length > 0\" class=\"border border-border rounded-lg overflow-hidden\">\n                <table class=\"w-full text-sm\">\n                  <thead class=\"bg-surface-hover border-b border-border\">\n                    <tr>\n                      <th class=\"text-left px-3 py-2 text-text-muted font-medium\">Status</th>\n                      <th class=\"text-left px-3 py-2 text-text-muted font-medium\">ID</th>\n                      <th class=\"text-left px-3 py-2 text-text-muted font-medium\">Started</th>\n                      <th class=\"text-left px-3 py-2 text-text-muted font-medium\">Duration</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr \n                      v-for=\"(exec, index) in paginatedExecutions\" \n                      :key=\"exec.id || index\"\n                      class=\"border-b border-border/50 hover:bg-surface-hover/30\"\n                    >\n                      <td class=\"px-3 py-2\">\n                        <div class=\"flex items-center gap-2\">\n                          <Icon v-if=\"exec.finished && !exec.error\" icon=\"lucide:check-circle\" class=\"h-4 w-4 text-cyan-500\" />\n                          <Icon v-else-if=\"exec.error\" icon=\"lucide:x-circle\" class=\"h-4 w-4 text-red-400\" />\n                          <Icon v-else icon=\"lucide:clock\" class=\"h-4 w-4 text-yellow-400\" />\n                          <span :class=\"[\n                            'text-xs font-medium',\n                            exec.finished && !exec.error ? 'text-cyan-500' : \n                            exec.error ? 'text-red-400' : 'text-yellow-400'\n                          ]\">\n                            {{ exec.finished && !exec.error ? 'Success' : \n                                exec.error ? 'Failed' : 'Running' }}\n                          </span>\n                        </div>\n                      </td>\n                      <td class=\"px-3 py-2 text-text-muted font-mono text-xs\">\n                        #{{ exec.id }}\n                      </td>\n                      <td class=\"px-3 py-2 text-text-muted text-xs\">\n                        {{ formatDate(exec.startedAt) }}\n                      </td>\n                      <td class=\"px-3 py-2 text-text-muted text-xs\">\n                        {{ formatDuration(exec.execution_time || 0) }}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              \n              <!-- Pagination Controls -->\n              <div v-if=\"data?.executions?.length > itemsPerPage\" class=\"mt-4 flex items-center justify-between pt-4 border-t border-border\">\n                <div class=\"text-sm text-text-muted\">\n                  Showing {{ (currentPage - 1) * itemsPerPage + 1 }} - {{ Math.min(currentPage * itemsPerPage, data.executions.length) }} of {{ data.executions.length }}\n                </div>\n                <div class=\"flex items-center gap-2\">\n                  <button \n                    @click=\"currentPage = Math.max(1, currentPage - 1)\"\n                    :disabled=\"currentPage === 1\"\n                    class=\"px-3 py-1 text-xs bg-surface border border-border rounded hover:bg-surface-hover disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Previous\n                  </button>\n                  \n                  <!-- Page Numbers -->\n                  <div class=\"flex items-center gap-1\">\n                    <button\n                      v-for=\"page in Math.min(5, totalPages)\"\n                      :key=\"page\"\n                      @click=\"currentPage = page\"\n                      class=\"w-8 h-8 text-xs rounded transition-colors\"\n                      :class=\"currentPage === page ? 'bg-primary text-white' : 'bg-surface border border-border hover:bg-surface-hover'\"\n                    >\n                      {{ page }}\n                    </button>\n                    <span v-if=\"totalPages > 5\" class=\"text-text-muted px-2\">...</span>\n                    <button\n                      v-if=\"totalPages > 5\"\n                      @click=\"currentPage = totalPages\"\n                      class=\"w-8 h-8 text-xs rounded transition-colors\"\n                      :class=\"currentPage === totalPages ? 'bg-primary text-white' : 'bg-surface border border-border hover:bg-surface-hover'\"\n                    >\n                      {{ totalPages }}\n                    </button>\n                  </div>\n                  \n                  <button \n                    @click=\"currentPage = Math.min(totalPages, currentPage + 1)\"\n                    :disabled=\"currentPage === totalPages\"\n                    class=\"px-3 py-1 text-xs bg-surface border border-border rounded hover:bg-surface-hover disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Next\n                  </button>\n                </div>\n              </div>\n              \n              <div v-else-if=\"!data?.executions?.length\" class=\"text-center py-8\">\n                <Icon icon=\"lucide:play\" class=\"w-12 h-12 text-text-muted mx-auto mb-4\" />\n                <p class=\"text-text-muted\">No executions found for this process</p>\n              </div>\n            </div>\n          </div>\n        </template>\n\n        <template #stats=\"{ data }\">\n          <div class=\"p-6\">\n            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n              <div class=\"control-card p-4\">\n                <div class=\"flex items-center justify-between mb-2\">\n                  <span class=\"text-sm text-text-muted\">Total Executions</span>\n                  <Icon icon=\"lucide:play\" class=\"h-4 w-4 text-gray-600\" />\n                </div>\n                <p class=\"text-lg font-bold text-text\">{{ data?.totalExecutions || 0 }}</p>\n              </div>\n              \n              <div class=\"control-card p-4\">\n                <div class=\"flex items-center justify-between mb-2\">\n                  <span class=\"text-sm text-text-muted\">Success Rate</span>\n                  <Icon icon=\"lucide:check-circle\" class=\"h-4 w-4 text-gray-600\" />\n                </div>\n                <p class=\"text-lg font-bold text-cyan-500\">\n                  {{ data?.successRate ? `${data.successRate.toFixed(1)}%` : 'N/A' }}\n                </p>\n              </div>\n              \n              <div class=\"control-card p-4\">\n                <div class=\"flex items-center justify-between mb-2\">\n                  <span class=\"text-sm text-text-muted\">Avg Duration</span>\n                  <Icon icon=\"lucide:clock\" class=\"h-4 w-4 text-gray-600\" />\n                </div>\n                <p class=\"text-lg font-bold text-text\">\n                  {{ formatDuration(data?.avgDuration || 0) }}\n                </p>\n              </div>\n            </div>\n          </div>\n        </template>\n      </DetailModal>\n    </div>\n  </MainLayout>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, watch, nextTick } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { VueFlow, useVueFlow, Position, Handle } from '@vue-flow/core'\n\nconst route = useRoute()\nimport { Background } from '@vue-flow/background'\nimport { Controls } from '@vue-flow/controls'\nimport { Icon } from '@iconify/vue'\nimport MainLayout from '../components/layout/MainLayout.vue'\nimport UltraModernCard from '../components/workflow/UltraModernCard.vue'\n\n// PrimeVue Components\nimport Card from 'primevue/card'\nimport Badge from 'primevue/badge'\nimport Knob from 'primevue/knob'\nimport Chart from 'primevue/chart'\nimport ProgressBar from 'primevue/progressbar'\nimport WorkflowDetailModal from '../components/workflows/WorkflowDetailModal.vue'\nimport TimelineModal from '../components/common/TimelineModal.vue'\nimport DetailModal from '../components/common/DetailModal.vue'\nimport N8nIcon from '../components/N8nIcon.vue'\nimport { useUIStore } from '../stores/ui'\nimport { useAuthStore } from '../stores/auth'\nimport { businessAPI, $fetch } from '../services/api-client'\nimport { useNotification } from '../composables/useNotification'\n\n// VueFlow styles\nimport '@vue-flow/core/dist/style.css'\n// Removed default theme - using enterprise theme\nimport '../design-system/enterprise-theme.css'\n\n// Stores\nconst uiStore = useUIStore()\nconst authStore = useAuthStore()\n\n// Computed property for role-based permissions\nconst isViewer = computed(() => authStore.user?.role === 'viewer')\nconst canExecute = computed(() => !isViewer.value)\n\n// Initialize our custom notification system\nconst toast = useNotification()\n\n// Notification system ready\nconsole.log('🔔 Custom notification system initialized')\n\n// State\nconst isLoading = ref(false)\nconst tenantId = 'client_simulation_a'\nconst sidebarCollapsed = ref(false)\nconst showLogs = ref(false)\nconst executionLogs = ref([\n  {\n    timestamp: '23:32:15',\n    level: 'INFO',\n    message: 'Workflow execution started'\n  },\n  {\n    timestamp: '23:32:16', \n    level: 'DEBUG',\n    message: 'Processing node: Schedule Trigger'\n  },\n  {\n    timestamp: '23:32:17',\n    level: 'SUCCESS',\n    message: 'AI Agent completed successfully'\n  }\n])\n\n// Workflow data - ONLY REAL DATA\nconst realWorkflows = ref<any[]>([])\nconst analyticsData = ref<any>(null)\nconst workflowStats = ref<any>(null) // Statistiche specifiche del workflow selezionato\nconst selectedWorkflowId = ref('')\nconst selectedWorkflowData = ref<any>(null)\nconst workflowDetails = ref<any>(null)\n\n// Abort controller to cancel previous requests\nlet currentWorkflowController: AbortController | null = null\n\n// Modal state\nconst showDetailModal = ref(false)\nconst showTimelineModal = ref(false)\nconst showExecutionsModal = ref(false)\nconst selectedWorkflowForModal = ref<any>(null)\n\n// Executions modal data - REAL API DATA\nconst executionsError = ref<string | null>(null)\nconst executionData = ref<any>(null)\nconst executionTabs = [\n  { id: 'executions', label: 'Executions', icon: 'lucide:play' },\n  { id: 'stats', label: 'Statistics', icon: 'lucide:trending-up' }\n]\n\n// Pagination for executions\nconst currentPage = ref(1)\nconst itemsPerPage = 20\nconst totalPages = computed(() => {\n  if (!executionData.value?.executions) return 1\n  return Math.ceil(executionData.value.executions.length / itemsPerPage)\n})\nconst paginatedExecutions = computed(() => {\n  if (!executionData.value?.executions) return []\n  const start = (currentPage.value - 1) * itemsPerPage\n  const end = start + itemsPerPage\n  return executionData.value.executions.slice(start, end)\n})\n\n// Action buttons state\n\n// VueFlow\nconst flowElements = ref([])\nconst { fitView, zoomIn: vueFlowZoomIn, zoomOut: vueFlowZoomOut, setViewport, getViewport } = useVueFlow()\n\n// Node Types for VueFlow - Minimal clean design\nconst nodeTypes = {\n  enterprise: UltraModernCard,\n  custom: UltraModernCard // Fallback for any remaining custom nodes\n}\n\n// Computed\nconst totalWorkflows = computed(() => realWorkflows.value.length)\nconst activeWorkflows = computed(() => realWorkflows.value.filter(w => w.is_active).length)\nconst successRateValue = computed(() => Math.round(100 - failureRate.value))\nconst flowNodes = computed(() => flowElements.value.filter(el => !el.source))\nconst flowEdges = computed(() => {\n  return flowElements.value.filter(el => el.source)\n})\n\n// Helper function to check if a handle is connected  \nconst isHandleConnected = (nodeId: string, handleId: string) => {\n  return false // Always return false - hiding all handles as requested\n}\n\n// KPI Stats (REAL DATA FROM ANALYTICS API)\nconst totalExecutions = computed(() => {\n  // Se abbiamo statistiche specifiche del workflow, usiamole\n  if (workflowStats.value?.kpis?.totalExecutions !== undefined) {\n    return workflowStats.value.kpis.totalExecutions\n  }\n  // Altrimenti usa i dati globali\n  return analyticsData.value?.overview?.totalExecutions || 0\n})\nconst failedExecutions = computed(() => {\n  // Se abbiamo statistiche specifiche del workflow, usiamole\n  if (workflowStats.value?.kpis?.failedExecutions !== undefined) {\n    return workflowStats.value.kpis.failedExecutions\n  }\n  // Altrimenti calcola dai dati globali\n  const total = totalExecutions.value\n  const successRate = analyticsData.value?.overview?.successRate || 100\n  return Math.round(total * (1 - successRate / 100))\n})\nconst failureRate = computed(() => {\n  // Se abbiamo statistiche specifiche del workflow, usiamole\n  if (workflowStats.value?.kpis?.failureRate !== undefined) {\n    return workflowStats.value.kpis.failureRate\n  }\n  // Altrimenti calcola dai dati globali\n  const successRate = analyticsData.value?.overview?.successRate || 100\n  return (100 - successRate).toFixed(1)\n})\nconst timeSaved = computed(() => {\n  // Se abbiamo statistiche specifiche del workflow, usiamole\n  if (workflowStats.value?.kpis?.timeSavedHours !== undefined) {\n    return workflowStats.value.kpis.timeSavedHours\n  }\n  // Altrimenti usa i dati globali\n  return analyticsData.value?.businessImpact?.timeSavedHours || 0\n})\nconst avgRunTime = computed(() => {\n  // Se abbiamo statistiche specifiche del workflow, usiamole\n  if (workflowStats.value?.kpis?.avgRunTime !== undefined) {\n    const seconds = workflowStats.value.kpis.avgRunTime\n    // Se meno di 1 secondo, mostra in secondi con 2 decimali\n    if (seconds < 1) {\n      return seconds.toFixed(2) + 's'\n    }\n    // Se meno di 60 secondi, mostra in secondi con 1 decimale\n    if (seconds < 60) {\n      return seconds.toFixed(1) + 's'\n    }\n    // Altrimenti mostra in minuti\n    return (seconds / 60).toFixed(1) + 'm'\n  }\n  // Altrimenti calcola dai dati globali\n  const avgSeconds = analyticsData.value?.overview?.avgDurationSeconds || 0\n  return avgSeconds > 0 ? (avgSeconds / 60).toFixed(1) : '0.0'\n})\n\n// Methods - ALL USING REAL BACKEND DATA\nconst refreshAllData = async () => {\n  isLoading.value = true\n  \n  // Salva l'ID selezionato prima del refresh\n  const previousSelectedId = selectedWorkflowId.value\n  \n  try {\n    console.log('🔄 Loading ALL REAL workflow data for Command Center...')\n    \n    // Get all workflows from backend with cache busting via URL param - OFETCH Migration\n    const [workflowsData, analyticsResponse] = await Promise.all([\n      businessAPI.getProcesses({ _t: Date.now(), refresh: true }),\n      businessAPI.getAnalytics({ _t: Date.now() })\n    ])\n    console.log('✅ REAL workflows loaded:', workflowsData.data?.length || 0)\n    console.log('📋 Raw data preview:', workflowsData.data?.slice(0, 3))\n    \n    // ORDINA per status: Active prima, poi il resto\n    const sortedWorkflows = (workflowsData.data || []).sort((a, b) => {\n      // Active workflows first\n      if (a.is_active !== b.is_active) return a.is_active ? -1 : 1\n      // Poi per nome alfabetico\n      return a.process_name.localeCompare(b.process_name)\n    })\n\n    realWorkflows.value = sortedWorkflows\n    console.log('🔄 Set realWorkflows to:', realWorkflows.value.length, 'items (sorted: active first)')\n    console.log('📊 Active workflows:', realWorkflows.value.filter(w => w.is_active).map(w => w.process_name))\n    \n    // Get analytics data for KPI calculations - OFETCH handles response automatically\n    analyticsData.value = analyticsResponse\n    console.log('✅ REAL analytics loaded:', {\n      totalExecutions: analyticsData.value.overview?.totalExecutions,\n      successRate: analyticsData.value.overview?.successRate,\n      avgDuration: analyticsData.value.overview?.avgDurationSeconds\n    })\n    \n    // Manual selection only - NO AUTO-SELECTION of first workflow\n    // This was causing the bug where clicking any workflow showed the same content\n    console.log('✅ Workflows loaded, manual selection required')\n    \n    // Rimosso toast fastidioso - non serve notificare ogni caricamento\n    \n  } catch (error: any) {\n    console.error('❌ Failed to fetch workflows:', error)\n    console.error('🔍 Error details:', error.stack)\n    \n    // Try alternative method or show detailed error\n    const errorMsg = error.message?.includes('fetch') \n      ? 'Cannot connect to backend server. Is it running on port 3001?' \n      : `API Error: ${error.message}`\n    \n    toast.error(errorMsg)\n    \n    // Set empty array as fallback\n    realWorkflows.value = []\n  } finally {\n    isLoading.value = false\n    \n    // Dopo il refresh, riseleziona il workflow precedente o il primo disponibile\n    if (realWorkflows.value.length > 0) {\n      if (previousSelectedId) {\n        // Prova a riselezionare il workflow precedente\n        const previousWorkflow = realWorkflows.value.find(w => w.id === previousSelectedId)\n        if (previousWorkflow) {\n          console.log('🔄 Re-selecting previous workflow:', previousWorkflow.process_name)\n          await selectWorkflow(previousWorkflow)\n        } else {\n          // Se non esiste più, seleziona il primo\n          console.log('🎯 Previous workflow not found, selecting first:', realWorkflows.value[0].process_name)\n          await selectWorkflow(realWorkflows.value[0])\n        }\n      } else {\n        // Se non c'era selezione, seleziona il primo\n        console.log('🎯 Auto-selecting first workflow after refresh:', realWorkflows.value[0].process_name)\n        await selectWorkflow(realWorkflows.value[0])\n      }\n    }\n  }\n}\n\nconst selectWorkflow = async (workflow: any) => {\n  console.log('🔘 [FORCE TEST] CLICK DETECTED - selectWorkflow called with:', {\n    workflowName: workflow.process_name,\n    workflowId: workflow.id,\n    currentSelectedId: selectedWorkflowId.value\n  })\n  \n  // Set selected workflow\n  selectedWorkflowId.value = workflow.id\n  selectedWorkflowData.value = workflow\n  \n  console.log('✅ Workflow selected:', workflow.name, 'ID:', workflow.id)\n  \n  // Load workflow statistics and structure in parallel\n  await Promise.all([\n    loadWorkflowStatistics(workflow.id),\n    loadWorkflowStructure(workflow)\n  ])\n}\n\n// Carica le statistiche specifiche del workflow\nconst loadWorkflowStatistics = async (workflowId: string) => {\n  try {\n    console.log('📊 Loading statistics for workflow:', workflowId)\n    const response = await $fetch(`/api/business/workflow/${workflowId}/full-stats`, {\n      params: { days: 30 }\n    })\n    \n    workflowStats.value = response\n    console.log('✅ Workflow stats loaded:', {\n      totalExecutions: response.kpis?.totalExecutions,\n      failureRate: response.kpis?.failureRate,\n      avgRunTime: response.kpis?.avgRunTime\n    })\n  } catch (error) {\n    console.error('❌ Error loading workflow statistics:', error)\n    // In caso di errore, reset stats per usare i dati globali\n    workflowStats.value = null\n  }\n}\n\nconst loadWorkflowStructure = async (workflow: any) => {\n  try {\n    // Cancel previous request if it exists\n    if (currentWorkflowController) {\n      console.log('🚫 Cancelling previous workflow request')\n      currentWorkflowController.abort()\n    }\n    \n    // Create new abort controller for this request\n    currentWorkflowController = new AbortController()\n    \n    console.log('🔍 Loading REAL structure for:', workflow.process_name, 'with ID:', workflow.id)\n    \n    console.log('📡 Fetching details with OFETCH for workflow:', workflow.id)\n    \n    // Use OFETCH API client con force refresh per avere sempre dati aggiornati da n8n\n    const data = await businessAPI.getProcessDetails(workflow.id, {\n      _t: Date.now(),\n      forceRefresh: true\n    })\n    workflowDetails.value = data.data\n    \n    console.log('✅ REAL workflow structure loaded for', workflow.process_name, ':', data.data.nodeCount, 'nodes')\n    \n    // Create VueFlow from REAL data\n    createFlowFromRealData(data.data, workflow)\n    \n  } catch (error: any) {\n    if (error.name === 'AbortError') {\n      console.log('🚫 Request cancelled for', workflow.process_name)\n      return\n    }\n    \n    console.error('❌ Failed to load workflow structure for', workflow.process_name, ':', error)\n    console.error('🔄 Falling back to enhanced flow')\n    createEnhancedFlow(workflow)\n  }\n  \n  // Auto-fit is handled immediately by createFlowFromRealData/createEnhancedFlow\n  console.log('✅ Workflow structure loading completed')\n}\n\nconst createFlowFromRealData = (processDetails: any, workflowMetadata: any) => {\n  const processSteps = processDetails.processSteps || []\n  const processFlow = processDetails.processFlow || []\n  \n  console.log('🔧 Creating flow from REAL data:', processSteps.length, 'steps', processFlow.length, 'connections')\n  \n  // Analyze connections to determine node handles\n  const nodeConnections = new Map()\n  \n  processFlow.forEach((flow: any) => {\n    // Track outputs for source nodes\n    if (!nodeConnections.has(flow.from)) {\n      nodeConnections.set(flow.from, { inputs: [], outputs: [] })\n    }\n    const sourceNode = nodeConnections.get(flow.from)\n    if (!sourceNode.outputs.includes(flow.type)) {\n      sourceNode.outputs.push(flow.type)\n    }\n    \n    // Track inputs for target nodes\n    if (!nodeConnections.has(flow.to)) {\n      nodeConnections.set(flow.to, { inputs: [], outputs: [] })\n    }\n    const targetNode = nodeConnections.get(flow.to)\n    if (!targetNode.inputs.includes(flow.type)) {\n      targetNode.inputs.push(flow.type)\n    }\n  })\n  \n  // Create nodes with dynamic handles (exclude sticky notes)\n  const nodes = processSteps.filter((step: any) => !step.nodeType.includes('stickyNote')).map((step: any, index: number) => {\n    const connections = nodeConnections.get(step.stepName) || { inputs: ['main'], outputs: ['main'] }\n    \n    return {\n      id: step.stepName,\n      type: 'enterprise',\n      position: {\n        x: (step.position[0] || 0) * 1.8, // Increased spacing for business cards\n        y: (step.position[1] || 0) * 1.6  // Increased vertical spacing\n      },\n      data: {\n        label: step.stepName,\n        status: workflowMetadata.is_active ? 'success' : 'inactive',\n        type: (() => {\n          const nodeType = getNodeTypeFromN8nType(step.nodeType, step.stepName)\n          // DEBUG COMPLETED: Qdrant text now visible!\n          return nodeType\n        })(),\n        nodeType: step.nodeType || 'unknown-node',\n        // Esecuzione reale - da collegare con WebSocket/SSE\n        isExecuting: false, // Disabilitato per ora - da attivare con pulsante Execute\n        inputs: connections.inputs.length > 0 ? connections.inputs : ['main'],\n        outputs: connections.outputs.length > 0 ? connections.outputs : ['main'],\n        // Add REAL execution stats for this workflow\n        executionCount: workflowStats.totalExecutions || Math.floor(Math.random() * 100) + 10,\n        successRate: workflowStats.kpis?.successRate || Math.floor(Math.random() * 20) + 80,\n        avgTime: workflowStats.kpis?.avgDuration ?\n          (workflowStats.kpis.avgDuration / 1000).toFixed(1) :\n          (Math.random() * 2 + 0.5).toFixed(1)\n      }\n    }\n  })\n  \n  // Create edges with specific handles for STRAIGHT CONNECTIONS\n  const edges = processFlow.map((flow: any, index: number) => {\n    const isMainConnection = flow.type === 'main'\n    const isAIConnection = flow.type.startsWith('ai_')\n    \n    // Source and target node types\n    const sourceStep = processSteps.find(step => step.stepName === flow.from)\n    const targetStep = processSteps.find(step => step.stepName === flow.to)\n    \n    const sourceNodeType = getNodeTypeFromN8nType(sourceStep?.nodeType || '', flow.from)\n    const targetNodeType = getNodeTypeFromN8nType(targetStep?.nodeType || '', flow.to)\n    \n    // FIXED Handle Logic for separate straight connections\n    let sourceHandle = 'right'  // Default right output\n    let targetHandle = 'left'   // Default left input\n    let isConnectionToTool = false  // Track if this is a connection to a tool\n\n    // Source handles based on connection type and node type\n    if (sourceNodeType === 'storage') {\n      // Storage nodes: Bottom output\n      sourceHandle = 'bottom'\n    } else if (sourceNodeType === 'tool') {\n      // Tool nodes: Bottom output for all connections\n      sourceHandle = 'bottom'\n    } else if (sourceNodeType === 'ai') {\n      // AI nodes: Right for main, Bottom distributed for AI tools\n\n      // Check if this is a connection TO a tool node\n      isConnectionToTool = targetNodeType === 'tool' ||\n                            targetStep?.stepName?.toLowerCase().includes('ordini') ||\n                            targetStep?.stepName?.toLowerCase().includes('date') ||\n                            targetStep?.stepName?.toLowerCase().includes('parcel') ||\n                            targetStep?.stepName?.toLowerCase().includes('formatta') ||\n                            targetStep?.stepName?.toLowerCase().includes('clean data') ||\n                            (targetStep?.nodeType && targetStep.nodeType.includes('langchain.tool'))\n\n      if (isMainConnection && !isConnectionToTool) {\n        sourceHandle = 'right'  // Right side for main connections\n      } else if (isConnectionToTool) {\n        // Connections from AI to tools ALWAYS go from bottom handles\n        // Use a simple counter based on target node name for unique indexes\n        const targetName = flow.to.toLowerCase()\n        const targetStepName = targetStep?.stepName?.toLowerCase() || ''\n\n        // Map tool names to specific indexes based on common patterns\n        let toolIndex = 0\n\n        // Check both flow.to and stepName for matches\n        if (targetName.includes('clean') || targetName.includes('data') ||\n            targetStepName.includes('clean') || targetStepName.includes('data')) {\n          toolIndex = 0  // Clean Data -> tool-0\n        } else if (targetName.includes('info') || targetName.includes('ordini') ||\n            targetStepName.includes('info') || targetStepName.includes('ordini')) {\n          toolIndex = 0  // INFO ORDINI -> tool-0\n        } else if (targetName.includes('date') || targetName.includes('time') ||\n                   targetStepName.includes('date') || targetStepName.includes('time')) {\n          toolIndex = 1  // Date & Time -> tool-1\n        } else if (targetName.includes('parcel') || targetName.includes('app') ||\n                   targetStepName.includes('parcel') || targetStepName.includes('app')) {\n          toolIndex = 2  // ParcelApp -> tool-2\n        } else if (targetName.includes('formatta') || targetName.includes('risposta') ||\n                   targetStepName.includes('formatta') || targetStepName.includes('risposta')) {\n          toolIndex = 3  // Formatta risposta -> tool-3\n        } else if (targetName.includes('openai') || targetName.includes('chat') ||\n                   targetStepName.includes('openai') || targetStepName.includes('chat')) {\n          toolIndex = 0  // OpenAI Chat -> tool-0\n        } else if (targetName.includes('qdrant') || targetStepName.includes('qdrant')) {\n          toolIndex = 1  // Qdrant -> tool-1\n        } else if (targetName.includes('embedding') || targetStepName.includes('embedding')) {\n          toolIndex = 2  // Embeddings -> tool-2\n        } else {\n          // Default index based on hash of name for consistency\n          toolIndex = Math.abs(flow.to.charCodeAt(0) + flow.to.charCodeAt(1)) % 4\n        }\n\n        sourceHandle = `tool-${toolIndex}`   // Bottom side distributed\n        console.log(`🔧 Tool connection: ${flow.from} -> ${flow.to} (${targetStepName}) using handle: ${sourceHandle}`)\n      } else {\n        sourceHandle = 'right'  // Default to right\n      }\n    } else {\n      // Process nodes: Right side\n      sourceHandle = 'right'\n    }\n    \n    // Target handles based on connection type and node type\n    if (targetNodeType === 'storage') {\n      // Storage nodes: Agent connections to top, embeddings connections to bottom\n      if (sourceNodeType === 'ai' && !isMainConnection) {\n        // AI tool connections go to top (agent input)\n        targetHandle = 'top'  // Top for agent connections\n      } else if (sourceNodeType === 'tool' || flow.from.toLowerCase().includes('embedding')) {\n        // Embeddings and tool nodes go to bottom\n        targetHandle = 'bottom'  // Bottom for embeddings connections\n      } else {\n        // Main connections and others go to top\n        targetHandle = 'top'  // Top for main connections\n      }\n    } else if (targetNodeType === 'tool') {\n      // Tool nodes: Top input for connections FROM AI agents\n      // Since tools connect FROM agent's bottom TO tool's top\n      targetHandle = 'top'\n    } else if (targetNodeType === 'ai') {\n      // AI nodes: Left for main, Bottom distributed for AI tool connections\n      if (isMainConnection) {\n        targetHandle = 'left'  // Left side for main connections\n      } else if (isAIConnection) {\n        // Use distributed handles for AI tools - calculate index based on all AI connections\n        const targetConnections = nodeConnections.get(flow.to) || { inputs: [], outputs: [] }\n        const allAIConnections = [...targetConnections.inputs.filter(i => i !== 'main'), ...targetConnections.outputs.filter(o => o !== 'main')]\n        const connectionIndex = allAIConnections.findIndex(conn => conn === flow.type)\n        targetHandle = `tool-${Math.max(0, connectionIndex)}`   // Bottom side distributed\n      } else {\n        targetHandle = 'left'  // Default left\n      }\n    } else {\n      // Process nodes: Left side\n      targetHandle = 'left'\n    }\n    \n    console.log(`🔗 Edge ${flow.from}->${flow.to}: type=${flow.type}, source=${sourceNodeType}, target=${targetNodeType}, handles=${sourceHandle}->${targetHandle}, isMain=${isMainConnection}, isConnectionToTool=${isConnectionToTool || false}`)\n    \n    return {\n      id: `edge-${index}`,\n      source: flow.from,\n      target: flow.to,\n      type: 'smoothstep', // Changed from bezier to smoothstep for a different look\n      animated: workflowMetadata.is_active && isMainConnection,\n      style: {\n        stroke: isMainConnection ? '#10b981' : isAIConnection ? '#667eea' : '#3b82f6',\n        strokeWidth: isMainConnection ? 3 : 2, // Thicker lines\n        strokeDasharray: isMainConnection ? 'none' : '5 5', // Different dash pattern\n        opacity: isMainConnection ? 1 : 0.7,\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        filter: isMainConnection ? 'drop-shadow(0 0 3px rgba(16, 185, 129, 0.5))' : 'none' // Glow effect for main\n      },\n      sourceHandle,\n      targetHandle,\n      className: isMainConnection ? 'main-edge' : 'secondary-edge',\n      markerEnd: isMainConnection ? {\n        type: 'arrowclosed',\n        width: 20,\n        height: 20,\n        color: '#10b981'\n      } : undefined\n    }\n  })\n  \n  console.log('✅ Created nodes with handles:', nodes.map(n => `ID:${n.id} Label:${n.data.label} type=${n.data.type} nodeType=${n.data.nodeType} inputs=${JSON.stringify(n.data.inputs)} outputs=${JSON.stringify(n.data.outputs)}`))\n  console.log('🔗 Created edges:', edges.map(e => `${e.source}->${e.target} (${e.sourceHandle}->${e.targetHandle}) color=${e.style.stroke}`))\n  console.log('🔢 Nodes count:', nodes.length, 'Edges count:', edges.length)\n  \n  flowElements.value = [...nodes, ...edges]\n  console.log('🎯 FlowElements final:', flowElements.value.length, 'elements')\n  \n  // Force proper fit - reset viewport then fit\n  nextTick(() => {\n    // Force reset viewport and zoom\n    setViewport({ x: 0, y: 0, zoom: 0.5 })\n    \n    setTimeout(() => {\n      fitView({ \n        duration: 0,  // Instant fit\n        padding: 0.2   // More padding to ensure visibility\n      })\n      console.log('🎯 Forced fit applied with viewport reset')\n    }, 50)\n  })\n}\n\nconst createEnhancedFlow = (workflow: any) => {\n  // Enhanced fallback based on workflow name (when backend details not available)\n  console.log('🔧 Creating enhanced flow for:', workflow.process_name)\n  \n  const name = workflow.process_name.toLowerCase()\n  let steps = []\n  \n  if (name.includes('grab') || name.includes('track')) {\n    steps = ['Data Source', 'Extract', 'Process', 'AI Analysis', 'Store', 'Notify']\n  } else if (name.includes('chatbot')) {\n    steps = ['Webhook', 'Parse', 'Intent', 'AI Response', 'Reply', 'Log']\n  } else if (name.includes('customer') || name.includes('service')) {\n    steps = ['Request', 'Classify', 'Route', 'AI Process', 'Respond', 'Update']\n  } else {\n    steps = ['Trigger', 'Process', 'Execute', 'Complete']\n  }\n  \n  const nodes = steps.map((step, index) => ({\n    id: step,\n    type: 'enterprise',\n    position: { x: index * 280, y: 50 },\n    data: {\n      label: step,\n      status: workflow.is_active ? 'success' : 'inactive',\n      type: index === 0 ? 'trigger' : index === steps.length - 1 ? 'storage' : 'process'\n    }\n  }))\n  \n  const edges = []\n  for (let i = 0; i < steps.length - 1; i++) {\n    edges.push({\n      id: `e${i}`,\n      source: steps[i],\n      target: steps[i + 1],\n      type: 'default',\n      animated: workflow.is_active,\n      style: { stroke: '#10b981', strokeWidth: 1 },\n      sourceHandle: 'right',\n      targetHandle: 'left'\n    })\n  }\n  \n  flowElements.value = [...nodes, ...edges]\n  \n  // Force proper fit for enhanced flow  \n  nextTick(() => {\n    // Force reset viewport and zoom\n    setViewport({ x: 0, y: 0, zoom: 0.5 })\n    \n    setTimeout(() => {\n      fitView({ \n        duration: 0,  // Instant fit\n        padding: 0.2   // More padding to ensure visibility\n      })\n      console.log('🎯 Forced fit applied for enhanced flow')\n    }, 50)\n  })\n}\n\n// Flow controls\nconst autoLayoutFlow = () => {\n  const nodes = flowNodes.value\n  \n  // Horizontal layout\n  nodes.forEach((node, index) => {\n    const elementIndex = flowElements.value.findIndex(el => el.id === node.id)\n    if (elementIndex !== -1) {\n      flowElements.value[elementIndex].position = {\n        x: index * 180,\n        y: 50 + (index % 2 * 40) // Slight zigzag\n      }\n    }\n  })\n  \n  uiStore.showToast('Success', 'Flow arranged horizontally', 'success')\n}\n\nconst zoomIn = () => {\n  const viewport = getViewport()\n  setViewport({ ...viewport, zoom: Math.min(viewport.zoom * 1.2, 3) }, { duration: 300 })\n}\n\nconst zoomOut = () => {\n  const viewport = getViewport()\n  setViewport({ ...viewport, zoom: Math.max(viewport.zoom * 0.8, 0.2) }, { duration: 300 })\n}\n\n// Modal functions\nconst openDetailedModal = () => {\n  if (!selectedWorkflowData.value) return\n  \n  selectedWorkflowForModal.value = {\n    id: selectedWorkflowData.value.id,\n    name: selectedWorkflowData.value.process_name,\n    active: selectedWorkflowData.value.is_active,\n    is_archived: false,\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n    node_count: workflowDetails.value?.nodeCount || 0,\n    execution_count: parseInt(selectedWorkflowData.value.executions_today) || 0\n  }\n  showDetailModal.value = true\n}\n\n// Nuovo: Business Dashboard Unificato\nconst openBusinessDashboard = () => {\n  // Apre direttamente il Timeline Modal che diventerà il Business Dashboard\n  showTimelineModal.value = true\n}\n\n\nconst openTimelineModal = () => {\n  showTimelineModal.value = true\n}\n\nconst closeDetailModal = () => {\n  showDetailModal.value = false\n  selectedWorkflowForModal.value = null\n}\n\nconst closeTimelineModal = () => {\n  showTimelineModal.value = false\n}\n\nconst openExecutionsModal = async () => {\n  if (selectedWorkflowData.value) {\n    selectedWorkflowForModal.value = selectedWorkflowData.value\n    \n    // Carica i dati PRIMA di mostrare il modal per evitare ritardi\n    // Mostra subito uno stato di loading nel modal\n    executionData.value = {\n      executions: [],\n      totalExecutions: 0,\n      successRate: 0,\n      avgDuration: 0,\n      loading: true\n    }\n    \n    showExecutionsModal.value = true\n    \n    // Carica i dati immediatamente senza await per non bloccare l'UI\n    loadExecutionData()\n  }\n}\n\nconst closeExecutionsModal = () => {\n  showExecutionsModal.value = false\n  selectedWorkflowForModal.value = null\n  executionData.value = null\n  executionsError.value = null\n}\n\n// Execute workflow manually\nconst isExecuting = ref(false)\nconst currentExecutionId = ref<string | null>(null)\nconst executingNodes = ref<Set<string>>(new Set())\n\n// Function to connect to SSE for execution tracking (secured by execution verification)\nconst connectExecutionStream = (workflowId: string, executionId: string) => {\n  const url = `${import.meta.env.VITE_API_URL || 'http://localhost:3001'}/api/business/processes/${workflowId}/execution-stream?executionId=${executionId}`\n  console.log('🔗 Connecting to SSE for active execution:', url)\n\n  const eventSource = new EventSource(url)\n\n  eventSource.onopen = () => {\n    console.log('✅ SSE Connection opened')\n  }\n\n  eventSource.onmessage = (event) => {\n    const data = JSON.parse(event.data)\n    console.log('🔄 SSE Event received:', data)\n\n    // Debug: show current flowElements for comparison\n    if (data.type === 'nodeExecuteBefore') {\n      const currentNodeIds = flowElements.value.filter(el => !el.source).map(el => ({\n        id: el.id,\n        name: el.data?.stepName,\n        type: el.type\n      }))\n      console.log('📋 Current flowElements nodes:', currentNodeIds)\n      console.log('🎯 Looking for nodeId:', data.nodeId)\n    }\n\n    switch (data.type) {\n      case 'nodeExecuteBefore':\n        // Node starts executing - add to executing set\n        console.log(`🟠 Node ${data.nodeName} (${data.nodeId}) starting execution`)\n\n        // Find node by NAME instead of ID\n        let nodeFound = false\n        flowElements.value = flowElements.value.map(el => {\n          if (el.id === data.nodeName) {\n            console.log(`✅ Found matching node by name: ${el.id}, setting isExecuting=true`)\n            nodeFound = true\n            return {\n              ...el,\n              data: {\n                ...el.data,\n                isExecuting: true\n              }\n            }\n          }\n          return el\n        })\n\n        if (!nodeFound) {\n          console.warn(`⚠️ Node ${data.nodeName} not found in flowElements! Available nodes:`, flowElements.value.filter(el => !el.source).map(el => el.id))\n        }\n        break\n\n      case 'nodeExecuteAfter':\n        // Node finishes executing - remove from executing set\n        console.log(`⚫ Node ${data.nodeName} (${data.nodeId}) finished execution`)\n\n        // Find node by NAME instead of ID\n        flowElements.value = flowElements.value.map(el => {\n          if (el.id === data.nodeName) {\n            console.log(`✅ Found matching node by name: ${el.id}, setting isExecuting=false`)\n            return {\n              ...el,\n              data: {\n                ...el.data,\n                isExecuting: false\n              }\n            }\n          }\n          return el\n        })\n        break\n\n      case 'workflowExecuteAfter':\n        // Workflow complete - show toast ONLY after last animation finishes\n        console.log(`🏁 Workflow completed, waiting for last animation to finish...`)\n\n        // Wait for last node animation to be visible before showing toast\n        setTimeout(() => {\n          isExecuting.value = false\n          executingNodes.value.clear()\n\n          // Clear all executing states\n          flowElements.value = flowElements.value.map(el => ({\n            ...el,\n            data: {\n              ...el.data,\n              isExecuting: false\n            }\n          }))\n\n          // Don't show toast here - polling will handle it with duration info\n          console.log(`✅ Workflow completed - toast will be shown by polling with duration`)\n\n          // Reload workflow stats after completion\n          setTimeout(async () => {\n            await loadWorkflowDetails(selectedWorkflowId.value)\n            await loadExecutionData(selectedWorkflowId.value)\n          }, 1000)\n\n        }, 300) // Wait 300ms for last node to be clearly visible\n\n        eventSource.close()\n        break\n\n      case 'error':\n        isExecuting.value = false\n        executingNodes.value.clear()\n        eventSource.close()\n        toast.error(`Errore Esecuzione: ${data.message}`)\n        break\n    }\n  }\n\n  eventSource.onerror = (error) => {\n    console.error('❌ SSE connection error:', error)\n    eventSource.close()\n    isExecuting.value = false\n    executingNodes.value.clear()\n    // Reset all nodes\n    flowElements.value = flowElements.value.map(el => ({\n      ...el,\n      data: {\n        ...el.data,\n        isExecuting: false\n      }\n    }))\n  }\n\n  return eventSource\n}\n\nconst executeWorkflow = async () => {\n  if (!selectedWorkflowData.value || !selectedWorkflowId.value) {\n    toast.error('Seleziona un workflow da eseguire')\n    return\n  }\n\n  if (isExecuting.value) return // Prevent double clicks\n\n  const workflowName = selectedWorkflowData.value.process_name || 'Unknown'\n  isExecuting.value = true\n\n  // Show start toast IMMEDIATELY\n  console.log('🎯 Showing start notification...')\n  toast.success(`Il workflow \"${workflowName}\" è stato avviato correttamente`)\n\n  try {\n    console.log(`🚀 Executing workflow ${selectedWorkflowId.value}...`)\n\n    // API call to execute workflow FIRST to get real execution ID\n    console.log(`📞 Calling businessAPI.executeWorkflow...`)\n    const result = await businessAPI.executeWorkflow(selectedWorkflowId.value)\n    console.log('✅ Workflow execution result:', result)\n\n    if (result.success && result.data.executionStarted) {\n      // Store execution ID for stop functionality\n      currentExecutionId.value = result.data.executionId\n\n      // Connect to SSE for real-time tracking with REAL execution ID\n      console.log(`🔗 Connecting SSE with real executionId: ${result.data.executionId}`)\n      const eventSource = connectExecutionStream(selectedWorkflowId.value, result.data.executionId)\n\n      console.log(`🚀 Workflow \"${workflowName}\" started`)\n\n      // Update KPI immediately (increment execution count)\n      if (workflowStats.value && workflowStats.value.kpis) {\n        workflowStats.value.kpis.totalExecutions = (workflowStats.value.kpis.totalExecutions || 0) + 1\n        workflowStats.value.kpis.runningExecutions = (workflowStats.value.kpis.runningExecutions || 0) + 1\n      }\n\n      // Start polling execution status\n      let pollCount = 0\n      const maxPolls = 30 // Max 30 secondi\n      \n      const pollInterval = setInterval(async () => {\n        pollCount++\n        \n        try {\n          const statusResult = await businessAPI.getExecutionStatus(result.data.executionId)\n          \n          if (statusResult.success && statusResult.data.isFinished) {\n            clearInterval(pollInterval)\n            isExecuting.value = false\n            currentExecutionId.value = null\n            \n            // Update KPI: remove from running count\n            if (workflowStats.value && workflowStats.value.kpis) {\n              workflowStats.value.kpis.runningExecutions = Math.max(0, (workflowStats.value.kpis.runningExecutions || 0) - 1)\n            }\n\n            if (statusResult.data.status === 'success') {\n              // Simplified toast call\n              toast.success(`Il workflow \"${workflowName}\" è stato eseguito con successo in ${Math.round(statusResult.data.duration / 1000)}s`)\n              // Update success count in KPIs\n              if (workflowStats.value && workflowStats.value.kpis) {\n                workflowStats.value.kpis.successfulExecutions = (workflowStats.value.kpis.successfulExecutions || 0) + 1\n                // Recalculate success rate\n                const total = workflowStats.value.kpis.totalExecutions || 1\n                const success = workflowStats.value.kpis.successfulExecutions || 0\n                workflowStats.value.kpis.successRate = Math.round((success / total) * 100)\n              }\n            } else if (statusResult.data.status === 'error' && statusResult.data.errorInfo) {\n              // Mostra errori specifici di n8n\n              const errorDetails = statusResult.data.errorInfo.errors.map(e =>\n                `${e.nodeName}: ${e.error.message}`\n              ).join('\\n')\n\n              toast.error(`Il workflow \"${workflowName}\" ha riscontrato errori: ${errorDetails}`)\n              // Update failed count in KPIs\n              if (workflowStats.value && workflowStats.value.kpis) {\n                workflowStats.value.kpis.failedExecutions = (workflowStats.value.kpis.failedExecutions || 0) + 1\n                // Recalculate success rate\n                const total = workflowStats.value.kpis.totalExecutions || 1\n                const success = workflowStats.value.kpis.successfulExecutions || 0\n                workflowStats.value.kpis.successRate = Math.round((success / total) * 100)\n              }\n            } else {\n              toast.error(`Il workflow \"${workflowName}\" è stato interrotto`)\n              // Update failed count in KPIs\n              if (workflowStats.value && workflowStats.value.kpis) {\n                workflowStats.value.kpis.failedExecutions = (workflowStats.value.kpis.failedExecutions || 0) + 1\n                // Recalculate success rate\n                const total = workflowStats.value.kpis.totalExecutions || 1\n                const success = workflowStats.value.kpis.successfulExecutions || 0\n                workflowStats.value.kpis.successRate = Math.round((success / total) * 100)\n              }\n            }\n\n            // Ricarica dati completi per avere statistiche accurate\n            fetchRealWorkflows()\n            if (selectedWorkflowId.value) {\n              await loadWorkflowStatistics(selectedWorkflowId.value)\n            }\n          }\n          \n          // Stop polling after max time\n          if (pollCount >= maxPolls) {\n            clearInterval(pollInterval)\n            isExecuting.value = false\n            currentExecutionId.value = null\n            \n            toast.info(\n              `Il workflow \"${workflowName}\" è ancora in esecuzione dopo 30s`\n            )\n          }\n        } catch (err) {\n          console.error('Error polling execution status:', err)\n        }\n      }, 1000) // Poll ogni secondo\n    } else {\n      // Execution failed\n      isExecuting.value = false\n      currentExecutionId.value = null\n      \n      toast.error(\n        result.data?.n8nApiResult?.error || `Impossibile eseguire il workflow \"${workflowName}\"`\n      )\n    }\n    \n  } catch (error: any) {\n    console.error('❌ Failed to execute workflow:', error)\n    \n    // Reset state on error\n    isExecuting.value = false\n    currentExecutionId.value = null\n    \n    toast.error(\n      `Impossibile eseguire il workflow \"${workflowName}\". ${error.message}`\n    )\n  }\n}\n\n\n// Stop workflow execution\nconst stopWorkflow = async () => {\n  if (!selectedWorkflowId.value || !currentExecutionId.value) {\n    toast.error('Nessuna esecuzione da fermare')\n    return\n  }\n  \n  const workflowName = selectedWorkflowData.value?.process_name || 'Unknown'\n  \n  try {\n    console.log(`🛑 Stopping workflow ${selectedWorkflowId.value}, execution ${currentExecutionId.value}...`)\n    \n    // API call to stop workflow - OFETCH Migration\n    const result = await businessAPI.stopWorkflow(selectedWorkflowId.value)\n    console.log('✅ Workflow stop result:', result)\n    \n    if (result.success) {\n      toast.success(\n        `Il workflow \"${workflowName}\" è stato fermato con successo`\n      )\n    } else {\n      toast.error(\n        result.data?.n8nApiResult?.error || `Impossibile fermare il workflow \"${workflowName}\"`\n      )\n    }\n    \n  } catch (error: any) {\n    console.error('❌ Failed to stop workflow:', error)\n    \n    toast.error(\n      `Impossibile fermare il workflow \"${workflowName}\". ${error.message}`\n    )\n  } finally {\n    // Reset execution state\n    isExecuting.value = false\n    currentExecutionId.value = null\n  }\n}\n\n// Toggle workflow active status\nconst toggleWorkflowStatus = async () => {\n  console.log('🚀 toggleWorkflowStatus called!')\n  console.log('📊 selectedWorkflowData:', selectedWorkflowData.value)\n  console.log('📊 selectedWorkflowId:', selectedWorkflowId.value)\n  \n  if (!selectedWorkflowData.value || !selectedWorkflowId.value) {\n    console.log('❌ No workflow selected for toggle - EARLY RETURN')\n    return\n  }\n  \n  console.log('📊 Current workflow data:', selectedWorkflowData.value)\n  \n  const currentStatus = selectedWorkflowData.value.is_active || false\n  const newStatus = !currentStatus\n  \n  console.log(`🔄 Will toggle workflow ${selectedWorkflowId.value} from ${currentStatus} to ${newStatus}`)\n  \n  try {    \n    // Optimistic update\n    console.log('🔄 Doing optimistic update...')\n    selectedWorkflowData.value.is_active = newStatus\n    \n    // Update in workflows list  \n    const workflowIndex = realWorkflows.value.findIndex(w => w.id === selectedWorkflowId.value)\n    if (workflowIndex !== -1) {\n      realWorkflows.value[workflowIndex].is_active = newStatus\n      console.log('✅ Updated workflow in list')\n    }\n    \n    // API call to backend - OFETCH Migration - passa il nuovo stato\n    const result = await businessAPI.toggleWorkflow(selectedWorkflowId.value, newStatus)\n    console.log('✅ Workflow status updated:', result)\n    \n    // Show appropriate success message\n    if (result.success) {\n      // Se c'è un errore con n8n ma il database è stato aggiornato\n      if (result.data?.n8nApiResult?.error) {\n        toast.success(\n          `${result.data.workflowName} è stato ${newStatus ? 'attivato' : 'disattivato'} localmente`\n        )\n      } else {\n        toast.success(\n          `${result.data.workflowName} è stato ${newStatus ? 'attivato' : 'disattivato'} con successo`\n        )\n      }\n    } else {\n      toast.error(\n        'Impossibile aggiornare lo stato del workflow'\n      )\n    }\n    \n  } catch (error: any) {\n    console.error('❌ Failed to toggle workflow:', error)\n    \n    // Revert optimistic update\n    selectedWorkflowData.value.is_active = currentStatus\n    const workflowIndex = realWorkflows.value.findIndex(w => w.id === selectedWorkflowId.value)\n    if (workflowIndex !== -1) {\n      realWorkflows.value[workflowIndex].is_active = currentStatus\n    }\n    \n    toast.error(\n      `Impossibile ${newStatus ? 'attivare' : 'disattivare'} il workflow. ${error.message}`\n    )\n  }\n}\n\n// Load real execution data from API\nconst loadExecutionData = async () => {\n  if (!selectedWorkflowForModal.value?.id) return\n  \n  executionsError.value = null\n  currentPage.value = 1 // Reset to first page\n  \n  const startTime = performance.now()\n  \n  try {\n    console.log('🔄 Loading executions for workflow:', selectedWorkflowForModal.value.id)\n    \n    // API call - VELOCE: solo 50 esecuzioni più recenti\n    const data = await businessAPI.getProcessExecutionsForWorkflow(\n      selectedWorkflowForModal.value.id\n    )\n    \n    const loadTime = performance.now() - startTime\n    console.log(`✅ Executions loaded in ${loadTime.toFixed(0)}ms:`, data.data)\n    \n    // Store all data (pagination will handle display)\n    executionData.value = {\n      ...data.data,\n      loading: false\n    }\n    \n  } catch (err: any) {\n    console.error('❌ Failed to load executions:', err)\n    executionsError.value = err.message\n    executionData.value = {\n      executions: [],\n      totalExecutions: 0,\n      successRate: 0,\n      avgDuration: 0,\n      loading: false\n    }\n  }\n}\n\n\n// Helper functions\n// Trend formatting and styling helpers\nconst getTrendClass = (trendValue: number) => {\n  if (trendValue === null || trendValue === undefined) return 'text-gray-400 text-xs font-medium'\n  if (trendValue > 0) return 'text-cyan-500 text-xs font-medium'\n  if (trendValue < 0) return 'text-red-500 text-xs font-medium'\n  return 'text-gray-400 text-xs font-medium'\n}\n\nconst getTrendIcon = (trendValue: number) => {\n  if (trendValue === null || trendValue === undefined) return '—'\n  if (trendValue > 0) return '▲'\n  if (trendValue < 0) return '▼'\n  return '—'\n}\n\nconst formatTrendValue = (value: number) => {\n  if (value === null || value === undefined) return '—'\n  return Math.abs(value).toFixed(1)\n}\n\nconst formatTrendDuration = (trendPercent: number) => {\n  if (trendPercent === 0) return '0m'\n  // Convert percentage to estimated time change\n  const timeChange = Math.abs(trendPercent) > 100 ? '30m' : `${Math.round(Math.abs(trendPercent) / 10)}m`\n  return timeChange\n}\n\nconst formatTrendSeconds = (trendPercent: number) => {\n  if (trendPercent === 0) return '0s'\n  // Convert percentage to estimated seconds change  \n  const secondsChange = Math.abs(trendPercent) > 100 ? '0.06s' : `0.0${Math.round(Math.abs(trendPercent) / 10)}s`\n  return secondsChange\n}\n\nconst getBusinessTypeFromCategory = (businessCategory: string) => {\n  switch (businessCategory) {\n    case 'Event Handler': return 'trigger'\n    case 'AI Intelligence': return 'ai'\n    case 'Integration': return 'api'\n    case 'Communication': return 'email'\n    case 'Data Management': return 'storage'\n    case 'Business Logic': return 'logic'\n    case 'Document Processing': return 'file'\n    default: return 'process'\n  }\n}\n\nconst isScheduleTrigger = (nodeName: string) => {\n  const name = nodeName.toLowerCase()\n  return name.includes('trigger') || \n         name.includes('schedule') ||\n         name.includes('webhook') ||\n         name.includes('cron') ||\n         name.includes('interval') ||\n         name === 'schedule' ||\n         name.startsWith('when ') ||\n         name.includes('start workflow') ||\n         name.includes('manual trigger')\n}\n\nconst isToolNode = (nodeName: string) => {\n  // Vector stores and AI processing nodes remain rectangular (exception)\n  const rectangularExceptions = [\n    'vector store', 'ai -', 'interpreta', 'analizza', 'elabora',\n    'recupera', 'scarica', 'filtra', 'processa', 'gestisce'\n  ]\n  \n  if (rectangularExceptions.some(exception => \n    nodeName.toLowerCase().includes(exception.toLowerCase())\n  )) {\n    return false\n  }\n  \n  // Only very specific external tools/services should be circular\n  const circularNodes = [\n    'openai chat model', 'window buffer memory', 'pilotpro knowledge base',\n    'schedule expert call', 'openai embeddings', 'cohere reranker',\n    'vector store retriever', 'info ordini', 'date & time', 'parcelapp',\n    'formatta risposta', 'embeddings openai3'\n  ]\n  \n  if (circularNodes.some(name => nodeName.toLowerCase().includes(name.toLowerCase()))) {\n    return true\n  }\n  \n  // Only pure external API/service tools should be circular (more restrictive)\n  const toolPatterns = [\n    'chat model', 'embeddings', 'reranker', 'memory', 'retriever',\n    'http request', 'webhook', 'gmail', 'outlook', 'sheets', 'drive',\n    'slack', 'discord', 'telegram', 'twilio', 'stripe', 'paypal',\n    'hubspot', 'salesforce', 'mailchimp', 'airtable', 'notion'\n  ]\n  \n  return toolPatterns.some(pattern => \n    nodeName.toLowerCase().includes(pattern.toLowerCase())\n  )\n}\n\nconst getNodeTypeFromN8nType = (n8nType: string, nodeName: string) => {\n  // REGOLA INDEROGABILE: TUTTO QUADRATO tranne specifiche eccezioni\n  \n  // 1. AI Agent LangChain → RETTANGOLO AI\n  if (n8nType === '@n8n/n8n-nodes-langchain.agent') {\n    return 'ai'\n  }\n  \n  // 2. Vector Store → PILLOLA (storage CSS class) \n  if (n8nType.includes('vectorstore') || n8nType.includes('vectorStore')) {\n    return 'storage'\n  }\n  \n  // 3. OpenAI CHAT/EMBEDDINGS → CERCHIO (AI processing)\n  if (n8nType.includes('@n8n/n8n-nodes-langchain.lmChat') ||\n      n8nType.includes('@n8n/n8n-nodes-langchain.embeddings')) {\n    return 'tool'  // OpenAI Chat/Embeddings sono TONDI!\n  }\n  \n  // 4. OpenAI AUDIO/IMAGE TOOLS → QUADRATO (media processing)\n  if (n8nType.includes('@n8n/n8n-nodes-langchain.openAi')) {\n    return 'agent'  // OpenAI audio/image tools sono QUADRATI!\n  }\n  \n  // 5. ALTRI TOOLS → CERCHIO (LangChain + base tools)\n  if (n8nType.includes('@n8n/n8n-nodes-langchain.tool') || \n      n8nType.includes('@n8n/n8n-nodes-langchain.memory') ||\n      n8nType.includes('@n8n/n8n-nodes-langchain.output') ||\n      n8nType.includes('@n8n/n8n-nodes-langchain.reranker') ||\n      n8nType.includes('@n8n/n8n-nodes-langchain.retriever') ||\n      n8nType === 'n8n-nodes-base.dateTimeTool') {\n    return 'tool'  // TUTTI gli altri tool sono tondi!\n  }\n  \n  // 6. Trigger → QUADRATO con lato sx tondo smussato  \n  if (n8nType.toLowerCase().includes('trigger')) {\n    return 'trigger'\n  }\n  \n  // 5. TUTTO IL RESTO → QUADRATO (incluso OpenAI, HTTP Request, Code, Function, etc.)\n  return 'process'\n}\n\n// Keep old function for fallback when n8n type not available\nconst getNodeType = (nodeName: string, businessCategory: string) => {\n  // Special case: AI Agent nodes are always 'ai'  \n  if (nodeName.toLowerCase().includes('agent') || nodeName.toLowerCase().includes('assistente')) {\n    return 'ai'\n  }\n  \n  // Check if it's a trigger first (takes precedence)\n  if (isScheduleTrigger(nodeName)) {\n    return 'trigger'\n  }\n  \n  // REGOLA INDEROGABILE: TUTTO QUADRATO - non più controllo isToolNode()\n  // Tutti i nodi normali diventano quadrati\n  return 'process'\n}\n\n// Get n8n icon component props for a node type\nconst getN8nIconProps = (nodeType: string, nodeName: string = '') => {\n  // Handle undefined/empty nodeType\n  if (!nodeType || nodeType === 'undefined' || nodeType === 'null') {\n    return {\n      nodeType: '',\n      fallback: 'Settings',\n      size: 'w-5 h-5'\n    }\n  }\n  \n  // OVERRIDE BASATO SUL NOME DEL NODO (priorità massima)\n  if (nodeName.toUpperCase().includes('UPSERT') && nodeName.toUpperCase().includes('SUPABASE')) {\n    return {\n      nodeType: 'UPSERT_SUPABASE_OVERRIDE', // Key speciale per PostgreSQL\n      fallback: 'Database',\n      size: 'w-5 h-5'\n    }\n  }\n  \n  if (nodeName.toUpperCase().includes('CALCULATOR')) {\n    return {\n      nodeType: 'CALCULATOR_TOOL_OVERRIDE', // Key speciale per calculator\n      fallback: 'Calculator',\n      size: 'w-5 h-5'\n    }\n  }\n  \n  if (nodeName.toUpperCase().includes('MCP') && !nodeName.toUpperCase().includes('SUPABASE')) {\n    return {\n      nodeType: 'MCP_CLIENT_OVERRIDE', // Key speciale per MCP\n      fallback: 'Zap',\n      size: 'w-5 h-5'\n    }\n  }\n  \n  // FORCE FIX for SET nodes\n  if (nodeType === 'n8n-nodes-base.set') {\n    return {\n      nodeType: 'n8n-nodes-base.set',\n      fallback: 'Edit', // Matita come n8n originale\n      size: 'w-5 h-5'\n    }\n  }\n  \n  // Return object with nodeType and fallback icon\n  const props = {\n    nodeType: nodeType,\n    fallback: 'Settings', // Default fallback\n    size: 'w-5 h-5'\n  }\n  \n  // Set specific fallbacks based on node type patterns\n  if (nodeType?.includes('code')) props.fallback = 'Code'\n  else if (nodeType?.includes('httpRequest') || nodeName.toLowerCase().includes('scarica')) props.fallback = 'Globe'\n  else if (nodeType?.includes('function')) props.fallback = 'Zap'\n  else if (nodeType?.includes('webhook')) props.fallback = 'Link'\n  else if (nodeType?.includes('email') || nodeType?.includes('outlook') || nodeType?.includes('gmail')) props.fallback = 'Mail'\n  else if (nodeType?.includes('googleDrive') || nodeType?.includes('file')) props.fallback = 'FileText'\n  else if (nodeType?.includes('scheduleTrigger') || nodeType?.includes('intervalTrigger') || nodeType?.includes('cronTrigger')) props.fallback = 'Clock'\n  else if (nodeType?.includes('executeWorkflowTrigger')) props.fallback = 'GitBranch'  // Force a different fallback\n  else if (nodeType?.includes('manualTrigger')) props.fallback = 'PlayCircle'  // FORCE PlayCircle for manual trigger\n  else if (nodeType?.includes('trigger')) props.fallback = 'Play'\n  else if (nodeType?.includes('agent')) props.fallback = 'Bot'\n  else if (nodeType?.includes('database') || nodeType?.includes('supabase') || nodeType?.includes('vectorStore')) props.fallback = 'Database'\n  else if (nodeType?.includes('telegram')) props.fallback = 'MessageSquare'\n  \n  return props\n}\n\nconst getNodeIcon = (nodeType: string, nodeName: string = '') => {\n  // First check by nodeType for specific icons\n  if (nodeType?.includes('code')) return Code\n  if (nodeType?.includes('httpRequest') || nodeName.toLowerCase().includes('scarica')) return 'lucide:globe'\n  if (nodeType?.includes('function')) return 'lucide:zap'\n  if (nodeType?.includes('webhook')) return 'lucide:link'\n  if (nodeType?.includes('email') || nodeType?.includes('outlook') || nodeType?.includes('gmail')) return 'lucide:mail'\n  if (nodeType?.includes('googleDrive') || nodeType?.includes('file')) return 'lucide:file-text'\n  \n  // Trigger icons - specific first, then generic\n  if (nodeType?.includes('scheduleTrigger') || nodeType?.includes('intervalTrigger') || nodeType?.includes('cronTrigger')) return 'lucide:clock'\n  if (nodeType?.includes('trigger')) return 'lucide:play'\n  \n  if (nodeType?.includes('agent')) return 'lucide:bot'\n  if (nodeType?.includes('database') || nodeType?.includes('supabase') || nodeType?.includes('vectorStore')) return 'lucide:database'\n  \n  // Fallback to general type\n  if (typeof nodeType === 'string') {\n    if (nodeType === 'trigger') return 'lucide:play'\n    if (nodeType === 'ai') return 'lucide:bot'\n    if (nodeType === 'storage') return 'lucide:database'\n    if (nodeType === 'tool') return 'lucide:cpu'\n  }\n  \n  // Default\n  return 'lucide:settings'\n}\n\nconst getHandleType = (connectionType: string) => {\n  if (connectionType.includes('ai_')) return 'ai'\n  if (connectionType.includes('memory')) return 'memory'\n  if (connectionType.includes('tool')) return 'tool'\n  if (connectionType.includes('language')) return 'language'\n  return 'main'\n}\n\nconst getLogLevelClass = (level: string) => {\n  switch (level) {\n    case 'SUCCESS': return 'text-cyan-500 font-semibold'\n    case 'INFO': return 'text-blue-400 font-semibold'\n    case 'DEBUG': return 'text-gray-400 font-semibold'\n    case 'WARN': return 'text-yellow-400 font-semibold'\n    case 'ERROR': return 'text-red-400 font-semibold'\n    default: return 'text-gray-400 font-semibold'\n  }\n}\n\n// Debug watchers\nwatch(selectedWorkflowData, (newData, oldData) => {\n  console.log('🔍 [DEBUG] selectedWorkflowData changed:', {\n    newData: newData?.process_name,\n    oldData: oldData?.process_name,\n    newId: newData?.id,\n    oldId: oldData?.id,\n    stackTrace: new Error().stack?.split('\\n')[2]?.trim()\n  })\n})\n\n// Lifecycle\nonMounted(async () => {\n  console.log('🚀 WorkflowCommandCenter mounted, loading data...')\n  try {\n    await refreshAllData()\n    console.log('📊 Final state:', { \n      workflows: realWorkflows.value.length, \n      totalExecutions: totalExecutions.value,\n      activeWorkflows: activeWorkflows.value \n    })\n    \n    // Controlla se c'è un workflowId nei parametri URL (da Insights)\n    const urlWorkflowId = route.query.workflowId\n    if (urlWorkflowId && realWorkflows.value.length > 0) {\n      console.log('🎯 URL workflowId detected:', urlWorkflowId)\n      const targetWorkflow = realWorkflows.value.find(w => w.id === urlWorkflowId)\n      if (targetWorkflow) {\n        console.log('✅ Found workflow from URL, selecting:', targetWorkflow.process_name)\n        await selectWorkflow(targetWorkflow)\n        return\n      } else {\n        console.log('❌ Workflow from URL not found, falling back to first')\n      }\n    }\n\n    // Seleziona automaticamente il primo workflow se presente e nessuno dall'URL\n    if (realWorkflows.value.length > 0 && !selectedWorkflowId.value) {\n      console.log('🎯 Auto-selecting first workflow:', realWorkflows.value[0].process_name)\n      await selectWorkflow(realWorkflows.value[0])\n    }\n  } catch (error) {\n    console.error('❌ ERROR in onMounted:', error)\n    console.error('❌ Error stack:', error.stack)\n    // Forza un reload alternativo\n    try {\n      console.log('🔄 Trying alternative data load...')\n      const workflowsData = await businessAPI.getProcesses({ _t: Date.now() })\n      console.log('🔧 Alternative data:', workflowsData)\n      // ORDINA anche nel fallback\n      const sortedFallback = (workflowsData.data || []).sort((a, b) => {\n        if (a.is_active !== b.is_active) return a.is_active ? -1 : 1\n        return a.process_name.localeCompare(b.process_name)\n      })\n      realWorkflows.value = sortedFallback\n      console.log('🔧 Alternative workflows set:', realWorkflows.value.length, '(sorted)')\n      \n      // Seleziona automaticamente il primo workflow anche nel fallback\n      if (realWorkflows.value.length > 0 && !selectedWorkflowId.value) {\n        console.log('🎯 Auto-selecting first workflow (fallback):', realWorkflows.value[0].process_name)\n        await selectWorkflow(realWorkflows.value[0])\n      }\n    } catch (altError) {\n      console.error('❌ Alternative load also failed:', altError)\n    }\n  }\n})\n</script>\n\n<style scoped>\n/* Selected workflow - Professional subtle style with smooth animations */\n.selected-workflow {\n  background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(16, 185, 129, 0.02) 100%);\n  border: 1px solid rgba(16, 185, 129, 0.3) !important;\n  box-shadow: 0 0 0 1px rgba(16, 185, 129, 0.1) inset;\n  position: relative;\n  animation: smoothSelection 0.3s ease-out;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n@keyframes smoothSelection {\n  from {\n    opacity: 0.6;\n    transform: scale(0.98);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n.selected-workflow::before {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 2px;\n  background: linear-gradient(to bottom, #10b981, #059669);\n  border-radius: 2px 0 0 2px;\n  animation: slideInLeft 0.2s ease-out;\n}\n\n@keyframes slideInLeft {\n  from {\n    transform: translateX(-100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n/* Remove any white borders from theme */\n.selected-workflow * {\n  border-color: transparent !important;\n  outline: none !important;\n}\n.workflow-flow {\n  background: var(--color-background);\n}\n\n/* Smooth transitions for workflow canvas */\n.workflow-transition {\n  animation: fadeInCanvas 0.4s ease-out;\n}\n\n@keyframes fadeInCanvas {\n  from {\n    opacity: 0;\n    filter: blur(2px);\n    transform: scale(0.98);\n  }\n  to {\n    opacity: 1;\n    filter: blur(0);\n    transform: scale(1);\n  }\n}\n\n/* Smooth transition for all workflow items in list */\n.p-2.rounded-md.cursor-pointer {\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n/* VueFlow nodes smooth appearance */\n:deep(.vue-flow__node) {\n  animation: nodeAppear 0.3s ease-out;\n  transition: transform 0.3s ease-out;\n}\n\n@keyframes nodeAppear {\n  from {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n/* Clear default VueFlow styles */\n:deep(.vue-flow__node-custom),\n:deep(.vue-flow__node-enterprise) {\n  background: transparent !important;\n  border: none !important;\n}\n\n\n/* ===== AGENT NODES (n8n Style Rectangular) ===== */\n:deep(.premium-ai-node) {\n  background: #1f2937;\n  border: 0.5px solid #10b981;\n  border-radius: 8px;\n  width: 180px;\n  height: 100px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  transform-style: preserve-3d;\n}\n\n/* Badge con testo bianco per massima visibilità */\n.badge-white-text {\n  color: white !important;\n}\n\n:deep(.premium-ai-node:hover) {\n  transform: translateY(-4px) rotateX(5deg);\n  box-shadow: \n    0 16px 48px rgba(74, 85, 104, 0.4),\n    0 0 24px rgba(45, 55, 72, 0.3),\n    inset 0 1px 0 rgba(255, 255, 255, 0.3);\n}\n\n:deep(.premium-ai-active) {\n  animation: aiPulse 2s ease-in-out infinite;\n}\n\n:deep(.premium-ai-icon) {\n  position: relative;\n  color: white;\n  margin-bottom: 0px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n:deep(.premium-ai-glow) {\n  position: absolute;\n  top: -2px;\n  left: -2px;\n  right: -2px;\n  bottom: -2px;\n  background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, transparent 70%);\n  border-radius: 50%;\n  animation: aiGlow 3s ease-in-out infinite;\n  z-index: -1;\n}\n\n:deep(.premium-ai-content) {\n  text-align: center;\n  color: white;\n}\n\n:deep(.premium-ai-name) {\n  font-size: 11px;\n  font-weight: 700;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n  margin-bottom: 2px;\n  line-height: 1.2;\n}\n\n:deep(.premium-ai-badge) {\n  font-size: 8px;\n  font-weight: 900;\n  background: rgba(255, 255, 255, 0.2);\n  padding: 1px 6px;\n  border-radius: 10px;\n  backdrop-filter: blur(4px);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n:deep(.premium-ai-connections) {\n  font-size: 8px;\n  opacity: 0.8;\n  margin-top: 2px;\n}\n\n/* ===== TOOL NODES (n8n Style Circular) ===== */\n:deep(.premium-tool-node) {\n  background: #1f2937;\n  border: 0.5px solid #10b981;\n  border-radius: 50%;\n  width: 90px;\n  height: 90px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n:deep(.premium-tool-node:hover) {\n  transform: translateY(-2px) scale(1.05);\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);\n}\n\n:deep(.premium-tool-active) {\n  animation: toolPulse 2s ease-in-out infinite;\n}\n\n:deep(.premium-tool-icon) {\n  color: white;\n  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));\n}\n\n:deep(.premium-tool-content) {\n  text-align: center;\n  color: white;\n}\n\n:deep(.premium-tool-name) {\n  font-size: 8px;\n  font-weight: 600;\n  color: white;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n  margin-bottom: 1px;\n  line-height: 1.1;\n}\n\n:deep(.premium-tool-badge) {\n  font-size: 6px;\n  font-weight: 800;\n  background: rgba(255, 255, 255, 0.2);\n  color: white;\n  padding: 1px 3px;\n  border-radius: 4px;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n/* ===== TRIGGER NODES (Exact n8n Style) ===== */\n:deep(.premium-trigger-node) {\n  background: #1f2937;\n  border: 0.5px solid #10b981;\n  border-radius: 50px 12px 12px 50px; /* Left side fully rounded, right side square */\n  width: 100px;\n  height: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n:deep(.premium-trigger-node:hover) {\n  transform: scale(1.05);\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);\n}\n\n:deep(.premium-trigger-active) {\n  background: #1f2937;\n  border-color: rgba(16, 185, 129, 0.4);\n}\n\n:deep(.premium-trigger-inactive) {\n  background: #1f2937;\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n:deep(.premium-trigger-icon) {\n  color: white;\n  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5));\n}\n\n/* Lightning bolt indicator (top-left corner) */\n:deep(.premium-trigger-node::before) {\n  content: \"⚡\";\n  position: absolute;\n  top: -8px;\n  left: -8px;\n  font-size: 12px;\n  width: 16px;\n  height: 16px;\n  background: #f59e0b;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n:deep(.premium-trigger-content) {\n  text-align: left;\n  flex: 1;\n  overflow: hidden;\n}\n\n:deep(.premium-trigger-name) {\n  font-size: 10px;\n  font-weight: 500;\n  color: #e0e0e0;\n  margin-bottom: 0;\n  line-height: 1.2;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n:deep(.premium-trigger-badge) {\n  font-size: 7px;\n  font-weight: 800;\n  background: rgba(214, 51, 132, 0.1);\n  color: #d63384;\n  padding: 1px 4px;\n  border-radius: 6px;\n  border: 1px solid rgba(214, 51, 132, 0.2);\n}\n\n/* ===== STORAGE NODES (Exact n8n Style - Pill Shape) ===== */\n:deep(.premium-storage-node) {\n  background: #1f2937 !important;\n  border: 0.5px solid #10b981 !important;\n  border-radius: 50px !important; /* Perfect pill shape - half of height */\n  width: 280px !important;\n  height: 100px !important;\n  display: flex !important;\n  flex-direction: row !important;\n  align-items: center !important;\n  justify-content: flex-start !important;\n  position: relative !important;\n  cursor: pointer !important;\n  transition: all 0.3s ease !important;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;\n  padding: 0 20px !important;\n}\n\n:deep(.premium-storage-node:hover) {\n  transform: scale(1.02);\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);\n}\n\n:deep(.premium-storage-icon) {\n  color: white;\n  margin-right: 12px;\n  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5));\n  flex-shrink: 0;\n}\n\n:deep(.premium-storage-name) {\n  font-size: 14px;\n  font-weight: 600;\n  color: #ffffff !important; /* BIANCO VISIBILE */\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important; /* OMBRA FORTE */\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n:deep(.premium-storage-badge) {\n  font-size: 7px;\n  font-weight: 800;\n  background: rgba(255, 255, 255, 0.2);\n  color: white;\n  padding: 1px 4px;\n  border-radius: 6px;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n/* ===== PREMIUM PROCESS NODES ===== */\n:deep(.premium-process-node) {\n  background: #1f2937;\n  border: 0.5px solid #10b981;\n  border-radius: 8px; /* Square corners */\n  width: 80px;\n  height: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 16px rgba(74, 85, 104, 0.2);\n}\n\n:deep(.premium-process-node:hover) {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(74, 85, 104, 0.4);\n}\n\n:deep(.premium-process-active) {\n  border-color: #10b981;\n  box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);\n}\n\n:deep(.premium-process-icon) {\n  color: #e2e8f0; /* Light gray icon */\n  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));\n}\n\n/* Process node names and connections are now handled by external labels */\n\n/* ===== PREMIUM HANDLES (Enhanced Visibility) ===== */\n\n/* Main flow handles (left/right) - VISIBLE */\n:deep(.premium-handle-ai-main) {\n  width: 8px !important;\n  height: 8px !important;\n  background: #ffffff !important;\n  border: 1px solid rgba(200, 200, 200, 0.8) !important;\n  border-radius: 50% !important;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;\n  transition: all 0.3s ease !important;\n  opacity: 1 !important;\n  z-index: 10 !important;\n}\n\n:deep(.premium-handle-ai-main:hover) {\n  opacity: 1 !important;\n  transform: scale(1.2) !important;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;\n}\n\n/* AI Tool handles (bottom) - VISIBLE */\n:deep(.premium-handle-ai-tool) {\n  width: 8px !important;\n  height: 8px !important;\n  background: #a855f7 !important;\n  border: 1px solid rgba(255, 255, 255, 0.8) !important;\n  border-radius: 50% !important;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;\n  transition: all 0.3s ease !important;\n  opacity: 1 !important;\n  z-index: 10 !important;\n}\n\n:deep(.premium-handle-ai-tool:hover) {\n  opacity: 1 !important;\n  transform: scale(1.2) !important;\n  box-shadow: 0 2px 4px rgba(168, 85, 247, 0.4) !important;\n}\n\n/* Handle type-specific colors */\n:deep(.premium-handle-memory) {\n  background: linear-gradient(45deg, #ff6b6b, #ee5a24) !important;\n}\n\n:deep(.premium-handle-tool) {\n  background: linear-gradient(45deg, #2ecc71, #27ae60) !important;\n}\n\n:deep(.premium-handle-language) {\n  background: linear-gradient(45deg, #f39c12, #e67e22) !important;\n}\n\n:deep(.premium-handle-ai) {\n  background: linear-gradient(45deg, #9b59b6, #8e44ad) !important;\n}\n\n:deep(.premium-handle-main) {\n  background: linear-gradient(45deg, #3498db, #2980b9) !important;\n}\n\n:deep(.premium-handle-trigger) {\n  width: 6px !important;\n  height: 6px !important;\n  background: #ffffff !important;\n  border: 1px solid rgba(200, 200, 200, 0.8) !important;\n  border-radius: 50% !important;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;\n  opacity: 1 !important;\n}\n\n:deep(.premium-handle-tool) {\n  width: 12px !important;\n  height: 12px !important;\n  background: linear-gradient(45deg, #a855f7, #8b5cf6) !important;\n  border: 2px solid white !important;\n  border-radius: 50% !important;\n  box-shadow: 0 2px 8px rgba(168, 85, 247, 0.5) !important;\n  transition: all 0.3s ease !important;\n}\n\n:deep(.premium-handle-tool-top) {\n  width: 8px !important;\n  height: 8px !important;\n  background: #ffffff !important;\n  border: 1px solid rgba(200, 200, 200, 0.8) !important;\n  border-radius: 50% !important;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;\n  transition: all 0.3s ease !important;\n  opacity: 1 !important;\n  z-index: 15 !important;\n  top: -7px !important;\n}\n\n:deep(.premium-handle-tool-top:hover) {\n  opacity: 1 !important;\n  transform: translateX(-50%) scale(1.2) !important;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;\n}\n\n:deep(.premium-handle-tool-bottom) {\n  width: 8px !important;\n  height: 8px !important;\n  background: #ffffff !important;\n  border: 1px solid rgba(200, 200, 200, 0.8) !important;\n  border-radius: 50% !important;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;\n  transition: all 0.3s ease !important;\n  opacity: 1 !important;\n  z-index: 15 !important;\n}\n\n:deep(.premium-handle-tool-bottom:hover) {\n  opacity: 1 !important;\n  transform: translateX(-50%) scale(1.2) !important;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;\n}\n\n:deep(.premium-handle-storage) {\n  width: 8px !important;\n  height: 8px !important;\n  background: #3b82f6 !important;\n  border: 1px solid rgba(255, 255, 255, 0.8) !important;\n  border-radius: 50% !important;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;\n  transition: all 0.3s ease !important;\n  opacity: 1 !important;\n}\n\n:deep(.premium-handle-storage:hover) {\n  opacity: 1 !important;\n  transform: scale(1.2) !important;\n  box-shadow: 0 2px 4px rgba(59, 130, 246, 0.4) !important;\n}\n\n:deep(.premium-handle-process) {\n  width: 8px !important;\n  height: 8px !important;\n  background: #ffffff !important;\n  border: 1px solid rgba(200, 200, 200, 0.8) !important;\n  border-radius: 50% !important;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2) !important;\n  transition: all 0.3s ease !important;\n  opacity: 1 !important;\n}\n\n:deep(.premium-handle-process:hover) {\n  opacity: 1 !important;\n  transform: scale(1.2) !important;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;\n}\n\n/* Handle visibility: show only connected handles */\n:deep(.handle-connected) {\n  opacity: 1 !important;\n}\n\n:deep(.handle-disconnected) {\n  opacity: 0 !important;\n}\n\n/* All handles with connection point indicators */\n\n/* ===== ANIMATIONS ===== */\n@keyframes aiPulse {\n  0%, 100% { \n    box-shadow: \n      0 8px 32px rgba(102, 126, 234, 0.3),\n      inset 0 1px 0 rgba(255, 255, 255, 0.2);\n  }\n  50% { \n    box-shadow: \n      0 8px 32px rgba(102, 126, 234, 0.5),\n      0 0 32px rgba(118, 75, 162, 0.4),\n      inset 0 1px 0 rgba(255, 255, 255, 0.3);\n  }\n}\n\n@keyframes aiGlow {\n  0%, 100% { opacity: 0.3; }\n  50% { opacity: 0.7; }\n}\n\n@keyframes triggerPulse {\n  0%, 100% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n}\n\n@keyframes toolPulse {\n  0%, 100% { \n    box-shadow: 0 4px 16px rgba(168, 85, 247, 0.2);\n  }\n  50% { \n    box-shadow: \n      0 6px 24px rgba(168, 85, 247, 0.4),\n      0 0 16px rgba(139, 92, 246, 0.3);\n  }\n}\n\n/* ===== EDGE STYLES (Curved like n8n) ===== */\n\n/* Main flow edges (solid, thick, animated, curved) */\n:deep(.main-edge) {\n  z-index: 10;\n}\n\n:deep(.main-edge .vue-flow__edge-path) {\n  stroke: #10b981 !important;\n  stroke-width: 1px !important;\n  opacity: 1 !important;\n  stroke-linecap: round !important;\n  stroke-linejoin: round !important;\n}\n\n/* Secondary/AI tool edges (dashed, thinner, curved) */\n:deep(.secondary-edge) {\n  z-index: 5;\n}\n\n:deep(.secondary-edge .vue-flow__edge-path) {\n  stroke-dasharray: 8 4 !important;\n  stroke-width: 1px !important;\n  opacity: 0.8 !important;\n  transition: all 0.3s ease !important;\n  stroke-linecap: round !important;\n  stroke-linejoin: round !important;\n}\n\n:deep(.secondary-edge:hover .vue-flow__edge-path) {\n  opacity: 1 !important;\n  stroke-width: 1px !important;\n}\n\n/* Smooth bezier curves for all edges (like n8n) */\n:deep(.vue-flow__edge .vue-flow__edge-path) {\n  stroke-linecap: round !important;\n  stroke-linejoin: round !important;\n}\n\n/* Ensure bezier curves render properly */\n:deep(.vue-flow__edge-default .vue-flow__edge-path) {\n  stroke-linecap: round !important;\n  stroke-linejoin: round !important;\n}\n\n/* ALL handles stay invisible - clean workflow design */\n:deep(.premium-ai-node:hover .vue-flow__handle),\n:deep(.premium-tool-node:hover .vue-flow__handle),\n:deep(.premium-trigger-node:hover .vue-flow__handle),\n:deep(.premium-storage-node:hover .vue-flow__handle),\n:deep(.premium-process-node:hover .vue-flow__handle) {\n  opacity: 0 !important;\n}\n\n/* ===== NODE WRAPPER & EXTERNAL LABELS (n8n Style) ===== */\n:deep(.premium-node-wrapper) {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  position: relative;\n  width: fit-content;\n  height: fit-content;\n}\n\n:deep(.premium-external-label) {\n  font-size: 11px;\n  font-weight: 500;\n  color: #ffffff;\n  text-align: center;\n  margin-top: 6px;\n  padding: 4px 8px;\n  max-width: 140px;\n  line-height: 1.3;\n  white-space: normal;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n  background: none;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);\n}\n</style>"],"names":["tryOnScopeDispose","fn","getCurrentScope","onScopeDispose","toValue","r","unref","isClient","isDef$1","val","toString","isObject","noop$3","createFilterWrapper","filter2","wrapper","args","resolve","reject","bypassFilter","invoke","pausableFilter","extendFilter","isActive","ref","pause","resume","eventFilter","readonly","promiseTimeout","ms","throwOnTimeout","reason","watchWithFilter","source","cb","options","watchOptions","watch","watchPausable","toRefs","objectRef","isRef","toRefs$1","result","key","customRef","v","_a","copy","newObject","createUntil","isNot","toMatch","condition","flush","deep","timeout2","stop","promises","toBe","value","v1","v2","toBeTruthy","toBeNull","toBeUndefined","toBeNaN","toContains","array2","changed","changedTimes","n","count","until","unrefElement","elRef","plain","defaultWindow","useEventListener","target","events","listeners","cleanups","cleanup","register","el","event","listener","options2","stopWatch","optionsClone","createKeyPredicate$1","keyFilter","onKeyStroke","handler","eventName","passive","dedupe","predicate","e","cloneFnJSON","useVModel","props","emit","_b","_c","clone","defaultValue","shouldEmit","vm","getCurrentInstance","_emit","cloneFn","getValue","triggerEmit","initialValue","proxy","isUpdating","nextTick","computed","noop$2","dispatch","i","_","t","Dispatch","parseTypenames$1","typenames","types","name","typename","callback","T","get$1","set$1","type","that","c","xhtml","namespaces","namespace","prefix","creatorInherit","document2","uri","creatorFixed","fullname","creator","none","selector","selector2","selection_select","select2","groups","m","subgroups","j","group","subgroup","node","subnode","Selection$1","array","x","empty","selectorAll","arrayAll","selection_selectAll","parents","matcher","childMatcher","find","childFind","match","childFirst","selection_selectChild","filter","children","childrenFilter","selection_selectChildren","selection_filter","sparse","update","selection_enter","EnterNode","parent","datum2","child","next","constant$3","bindIndex","enter","exit","data","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","datum","selection_data","bind","arraylike","enterGroup","updateGroup","exitGroup","i0","i1","previous","selection_exit","selection_join","onenter","onupdate","onexit","selection_merge","context","selection2","groups0","groups1","m0","m1","merges","group0","group1","merge","selection_order","selection_sort","compare","ascending","compareNode","a","b","sortgroups","sortgroup","selection_call","selection_nodes","selection_node","selection_size","size","selection_empty","selection_each","attrRemove$1","attrRemoveNS$1","attrConstant$1","attrConstantNS$1","attrFunction$1","attrFunctionNS$1","selection_attr","defaultView","styleRemove$1","styleConstant$1","priority","styleFunction$1","selection_style","styleValue","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","string","classList","ClassList","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textConstant$1","textFunction$1","selection_text","htmlRemove","htmlConstant","htmlFunction","selection_html","raise","selection_raise","lower","selection_lower","selection_append","create2","constantNull","selection_insert","before","remove","selection_remove","selection_cloneShallow","selection_cloneDeep","selection_clone","selection_datum","contextListener","parseTypenames","onRemove","on","o","onAdd","selection_on","dispatchEvent","params","window2","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","root","selection","selection_selection","select","sourceEvent","sourceEvent2","pointer","svg","point","rect","nonpassive","nonpassivecapture","nopropagation$1","noevent$1","dragDisable","view","root2","yesdrag","noclick","constant$2","DragEvent","subject","identifier","active","y","dx","dy","dispatch2","defaultFilter$1","defaultContainer","defaultSubject","d","defaultTouchable$1","drag","container","touchable","gestures","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","drag2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","touches","container2","touch","p","s","event2","touch2","p0","define","constructor","factory","prototype","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","color","channels","color_formatHex","color_formatHex8","color_formatHsl","color_formatRgb","hslConvert","format","l","rgbn","Rgb","rgba","hsla","g","rgbConvert","rgb","opacity","k","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","hex","h2","Hsl","min","max","hsl","m2","hsl2rgb","clamph","clampt","constant$1","linear","exponential","gamma","nogamma","interpolateRgb","rgbGamma","color2","rgb$1","start2","end","numberArray","isNumberArray","genericArray","nb","na","interpolate$1","date","interpolateNumber","object","reA","reB","zero","one","interpolateString","bi","am","bm","bs","q","i2","degrees","identity$1","decompose","f","scaleX","scaleY","skewX","svgNode","parseCss","parseSvg","interpolateTransform","parse","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","rotate","scale","interpolateTransformCss","interpolateTransformSvg","epsilon2","cosh","sinh","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom2","p1","ux0","uy0","w0","ux1","uy1","w1","d2","S","d1","b0","b1","r0","r1","coshr0","u","_1","_2","_4","frame","timeout$1","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","setFrame","now","clearNow","Timer","timer","delay","time","sleep","timerFlush","wake","nap","poke","now2","t0","t1","t2","timeout","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","id2","index","timing","schedules","create","init","schedule2","get","set","self","tween","tick","interrupt","empty2","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","tweenValue","transition","interpolate","attrRemove","attrRemoveNS","attrConstant","interpolate2","value1","string00","string1","interpolate0","string0","attrConstantNS","attrFunction","string10","attrFunctionNS","transition_attr","attrInterpolate","attrInterpolateNS","attrTweenNS","attrTween","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","transition_merge","start","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","children2","inherit2","Selection","transition_selection","styleNull","styleRemove","styleConstant","styleFunction","styleMaybeRemove","listener0","remove2","transition_style","styleInterpolate","styleTween","transition_styleTween","textConstant","textFunction","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","cancel","id","selection_prototype","cubicInOut","defaultTiming","inherit","selection_transition","constant","ZoomEvent","transform","Transform","location","identity","nopropagation","noevent","defaultFilter","defaultExtent","defaultTransform","defaultWheelDelta","defaultTouchable","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","zoom","constrain","wheelDelta2","scaleExtent","duration","touchstarting","touchfirst","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","collection","k0","k1","centroid","extent2","w","clean","Gesture","wheelidled","currentTarget","x0","y0","started","l0","l1","dp","dl","Position","Position2","SelectionMode","SelectionMode2","ConnectionLineType","ConnectionLineType2","ConnectionMode","ConnectionMode2","MarkerType","MarkerType2","PanOnScrollMode","PanOnScrollMode2","inputTags","defaultDoc","isInputDOMNode","hasAttribute","closest","wasModifierPressed","isKeyMatch","pressedKey","keyToMatch","pressedKeys","isKeyUp","keyCombination","isMatch","createKeyPredicate","keyOrCode","useKeyOrCode","code","keysToWatch","useKeyPress","toValue$1","isPressed","shallowRef","modifierPressed","currentFilter","createKeyFilterFn","nextKeyFilter","previousKeyFilter","reset","actInsideInputWithModifier","preventDefault","target2","isInteractiveElement","keyFilter2","ARIA_NODE_DESC_KEY","ARIA_EDGE_DESC_KEY","ARIA_LIVE_MESSAGE","elementSelectionKeys","arrowKeyDiffs","nodeToRect","getOverlappingArea","rectA","rectB","xOverlap","yOverlap","getDimensions","clamp","clampPosition","position","getHostForElement","element","doc","isEdge","isNode","isGraphNode","isNumeric","isRect","obj","parseNode","existingNode","parentNode","initialState","markRaw","isDef","parseEdge","edge","existingEdge","defaultEdgeOptions","getConnectedElements","nodeOrId","nodes","edges","dir","connectedIds","origin","getOutgoers","nodeOrId2","elements","nodeId","getIncomers","getEdgeId","sourceHandle","targetHandle","connectionExists","rendererPointToPoint","tx","ty","tScale","pointToRendererPoint","snapToGrid","snapGrid","snapPosition","getBoundsOfBoxes","box1","box2","rectToBox","width","height","boxToRect","x2","y2","getRectOfNodes","box","getNodesInside","viewport","partially","excludeNonSelectableNodes","paneRect","visibleNodes","dimensions","selectable","hidden","overlappingArea","notInitialized","partiallyVisible","area","getConnectedEdges","nodesOrId","nodeIds","getTransformForBounds","bounds","minZoom","maxZoom","padding","offset","xZoom","yZoom","clampedZoom","boundsCenterX","boundsCenterY","getXYZPos","parentPos","computedPosition","isParentSelected","nodeLookup","getMarkerId","marker","vueFlowId","wheelDelta","factor","isMacOs","calcAutoPanVelocity","calcAutoPan","pos","speed","distance2","xMovement","yMovement","handleParentExpand","updateItem","extendWidth","extendHeight","parentStyles","currWidth","xDiff","yDiff","styleFunc","applyChanges","changes","addRemoveChanges","change","elementIds","currentChange","createSelectionChange","selected","createAdditionChange","item","createNodeRemoveChange","createEdgeRemoveChange","getSelectionChanges","items","selectedIds","mutateItem","willBeSelected","noop$1","createExtendedEventHook","defaultHandler","emitter","hasEmitListeners","hasListeners","setEmitter","removeEmitter","setHasEmitListeners","removeHasEmitListeners","off","offFn","param","queue","hasSelector","current","getDragItems","nodesDraggable","mousePos","dragItems","getEventHandlerParams","findNode","extendedDragItems","dragItem","getExtentPadding","getParentExtent","currentExtent","top","right","bottom","left","getExtent","triggerError","parentExtent","VueFlowError","ErrorCode","parentX","parentY","clampNodeExtent","calcNextPosition","nextPosition","nodeExtent","clampedPos","getHandlePosition","handle","fallbackPosition","center","getNodeDimensions","getEdgeHandle","handleId","isEdgeVisible","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","viewBox","getEdgeZIndex","elevateEdgesOnSelect","hasZIndex","z","ErrorCode2","messages","parentId","isMouseEvent","isUseDragEvent","getEventPosition","isMouse","evtX","evtY","alwaysValid$1","resetRecentHandle","handleDomNode","getNodesWithinDistance","ADDITIONAL_DISTANCE","getClosestHandle","connectionRadius","fromHandle","closestHandles","minDistance","closeNodes","allHandles","oppositeHandleType","isValidHandle","connectionMode","fromNodeId","fromHandleId","fromType","lib","flowId","isValidConnection","isTarget","handleBelow","handleToCheck","handleType","getHandleType","handleNodeId","connectable","connectableEnd","connection","isValid","getHandle","edgeUpdaterType","getConnectionStatus","isInsideConnectionRadius","isHandleValid","connectionStatus","isConnectionValid","withAbsolutePosition","handles","oppositePosition","productionEnvs","warn","message","isDev","getHandleBounds","nodeElement","nodeBounds","handleBounds","handleNodeClick","multiSelectionActive","addSelectedNodes","removeSelectedNodes","nodesSelectionActive","unselect","nodeEl","addEdgeToStore","edgeParams","updateEdgeAction","newConnection","prevEdge","shouldReplaceId","rest","createGraphNodes","parentNodes","nextNodes","parsed","addConnectionToLookup","connectionKey","connectionLookup","nodeMap","typeMap","handleMap","updateConnectionLookup","edgeLookup","sourceNode","targetNode","sourceKey","targetKey","areSetsEqual","createGraphEdges","nextEdges","findEdge","onError","validEdges","edgeOrConnection","VueFlow","NodeId","NodeRef","EdgeId","EdgeRef","Slots","useDrag","vueFlowRef","noDragClassName","nodeDragThreshold","autoPanOnNodeDrag","autoPanSpeed","panBy","selectNodesOnDrag","removeSelectedElements","updateNodePositions","emits","useVueFlow","onStart","onDrag","onStop","onClick","disabled","dragHandle","dragging","dragHandler","containerBounds","lastPos","mousePosition","dragEvent","dragStarted","nodePositionsChanged","autoPanId","autoPanStarted","getPointerPosition","useGetPointerPosition","updateNodes","hasChange","currentNode","autoPan","nextPos","startDrag","pointerPos","eventStart","eventDrag","eventEnd","isClick","evt","isDisabled","onCleanup","unrefDragHandle","createEdgeHooks","useEdgeHooks","edgeHooks","hooks","xSnapped","ySnapped","alwaysValid","useHandle","onEdgeUpdate","onEdgeUpdateEnd","connectOnClick","connectionClickStartHandle","nodesConnectable","autoPanOnConnect","startConnection","updateConnection","endConnection","isValidConnectionProp","handlePointerDown","isMouseTriggered","clickedHandle","onPointerMove","connectionPosition","closestHandle","isValidConnectionHandler","newConnection2","previousConnection","connectingHandle","prevActiveHandle","onPointerUp","fromHandleInternal","fromNodeInternal","handleClick","isOwnHandle","useNodeId","inject","useNode","createNodeHooks","useNodeHooks","nodeHooks","useUpdateNodePositions","getSelectedNodes","positionDiff","isShiftPressed","xVelo","yVelo","positionDiffX","positionDiffY","nodeUpdates","DEFAULT_PADDING","defaultEase","noop","initialViewportHelper","useViewportHelper","state","transitionOptions","getD3Transition","transformViewport","zoom22","clampedX","clampedY","nextTransform","zoomLevel","nodesToFit","nextZoom","centerX","centerY","domX","domY","correctedPosition","ease","onEnd","hasDuration","useWatchProps","models","store","scope","effectScope","watchModelValue","pauseModel","pauseStore","immediateStore","watchNodesValue","watchEdgesValue","watchMaxZoom","watchMinZoom","watchTranslateExtent","watchNodeExtent","watchApplyDefault","watchAutoConnect","autoConnector","autoConnectEnabled","watchRest","skip","propKey","propValue","toRef","storeRef","nextValue","createHooks","err","useHooks","inst","onBeforeMount","hasVNodeListener","toHandlerKey","head","useState","storeOptionsToSkip","useActions","viewportHelper","updateNodeInternals","ids","updateIds","getIncomers$1","getOutgoers$1","getConnectedEdges$1","getHandleConnections","handleSuffix","updateNodeDimensions","updates","viewportNode","style","elementSelectionHandler","edgeIds","changedNodes","changedEdges","edgeId","nodeChanges","addSelectedEdges","addSelectedElements","removeSelectedEdges","edgeChanges","changes2","curr","selectionChange","setMinZoom","setMaxZoom","setTranslateExtent","setNodeExtent","setPaneClickDistance","clickDistance","setInteractive","isInteractive","setNodes","setEdges","setElements","nextElements","addNodes","graphNodes","addEdges","removeNodes","removeConnectedEdges","removeChildren","nodesToRemove","createEdgeRemovalChanges","nodes2","connectedEdges","createChildrenRemovalChanges","currNode","removeEdges","edgesToRemove","currEdge","updateEdge2","oldEdge","prevEdgeIndex","newEdge","validEdge","updateEdgeData","dataUpdate","nextData","applyNodeChanges2","applyEdgeChanges2","updateNode","nodeUpdate","nextNode","updateNodeData","startHandle","status","getNodeRect","nodeOrRect","isRectObj","getIntersectingNodes","nodeRect","isRect2","intersections","currNodeRect","isNodeIntersecting","delta","d3Zoom","d3Selection","constrainedTransform","transformChanged","setState","opts","exclude","setSkippedOptions","option","transitionOpts","__","___","____","_____","______","_______","_________","resetState","updatedTransform","bbox","_hoisted_1$9","__default__$f","_sfc_main$f","defineComponent","__props","__expose","createPropsRestProxy","connectionStartHandle","connectionEndHandle","noPanClassName","isConnectableStart","isConnectableEnd","isConnecting","_d","_e","_f","isClickConnecting","isConnectable","onMounted","existingBounds","nextBounds","onPointerDown","_ctx","_cache","openBlock","createElementBlock","normalizeClass","renderSlot","DefaultNode","sourcePosition","targetPosition","_label","isValidTargetPos","isValidSourcePos","label","h","Fragment","DefaultNode$1","OutputNode","OutputNode$1","InputNode","InputNode$1","_hoisted_1$8","_hoisted_2$2","_hoisted_3$1","__default__$e","_sfc_main$e","getBox","nextBox","normalizeStyle","createCommentVNode","createElementVNode","mergeProps","createBlock","resolveDynamicComponent","createTextVNode","toDisplayString","_hoisted_1$7","_hoisted_2$1","__default__$d","_sfc_main$d","pathEl","interactionEl","labelEl","attrs","useAttrs","getSimpleEdgeCenter","sourceX","sourceY","targetX","targetY","xOffset","yOffset","getBezierEdgeCenter","sourceControlX","sourceControlY","targetControlX","targetControlY","offsetX","offsetY","calculateControlOffset","curvature","getControlWithCurvature","x1","y1","ctX","ctY","getBezierPath","bezierPathParams","labelX","labelY","getControl","getSimpleBezierPath","simpleBezierPathParams","handleDirections","getDirection","distance","getPoints","sourceDir","targetDir","sourceGapped","targetGapped","dirAccessor","currDir","points","sourceGapOffset","targetGapOffset","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","diff","gapOffset","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","sourceGapPoint","targetGapPoint","maxXDistance","maxYDistance","getBend","bendSize","xDir2","yDir2","xDir","yDir","getSmoothStepPath","smoothStepPathParams","borderRadius","res","segment","getStraightPath","straightEdgeParams","StraightEdge","path","StraightEdge$1","SmoothStepEdge","SmoothStepEdge$1","StepEdge","StepEdge$1","BezierEdge","BezierEdge$1","SimpleBezierEdge","SimpleBezierEdge$1","defaultNodeTypes","defaultEdgeTypes","useGetters","getNode","getEdge","getEdgeTypes","edgeTypes","keys","getNodeTypes","nodeTypes","getNodes","getEdges","visibleEdges","getElements","selectedNodes","getSelectedEdges","selectedEdges","getSelectedElements","getNodesInitialized","initializedNodes","areNodesInitialized","Storage","vueApp","existingInstance","flow","preloadedState","reactiveState","reactive","hooksOn","nodesMap","edgesMap","getters","actions","idOrOpts","storage","isOptsObj","vueFlow","injectedState","shouldApplyDefault","nodesChangeHandler","edgesChangeHandler","storedInstance","provide","instance","useResizeHandler","viewportEl","resizeObserver","updateDimensions","onBeforeUnmount","__default__$c","_sfc_main$c","_hoisted_1$6","__default__$b","_sfc_main$b","disableKeyboardA11y","userSelectionActive","updatePositions","selectedNodesBBox","innerStyle","onContextMenu","onKeyDown","getMousePosition","__default__$a","_sfc_main$a","userSelectionRect","elementsSelectable","selectionMode","deleteKeyCode","multiSelectionKeyCode","selectedNodeIds","selectedEdgeIds","hasActiveSelection","connectionInProgress","selectionInProgress","selectionStarted","deleteKeyPressed","multiSelectKeyPressed","isKeyPressed","wrapHandler","containerRef","onWheel","mouseX","mouseY","startX","startY","nextUserSelectRect","prevSelectedNodeIds","prevSelectedEdgeIds","edgesSelectable","connections","$event","__default__$9","_sfc_main$9","fitViewOnInit","fitViewOnInitDone","isHidden","__default__$8","_sfc_main$8","defaultViewport","zoomActivationKeyCode","selectionKeyCode","panActivationKeyCode","panOnScroll","panOnScrollMode","panOnScrollSpeed","panOnDrag","zoomOnDoubleClick","zoomOnPinch","zoomOnScroll","preventScrolling","noWheelClassName","paneDragging","storeD3Zoom","storeD3Selection","storeD3ZoomHandler","viewportRef","paneClickDistance","isZoomingOrPanning","isPanScrolling","panScrollTimeout","zoomedWithRightMouseButton","mouseButton","prevTransform","panKeyPressed","selectionKeyPressed","zoomKeyPressed","shouldPanOnDrag","shouldPanOnScroll","isSelecting","viewportElement","d3ZoomHandler","flowTransform","eventToFlowTransform","isRightClickPan","viewChanged","zoomScroll","pinchZoom","eventButton","isWheelEvent","isWrappedWithClass","buttonAllowed","currentZoom","_isMacOs","pinchDelta","deltaNormalize","deltaX","deltaY","nextViewport","invalidEvent","pan","usedButton","prevViewport","eventTransform","className","createVNode","withCtx","_hoisted_1$5","_hoisted_2","_hoisted_3","__default__$7","_sfc_main$7","ariaLiveMessage","useOnInitHandler","vfInstance","isInitialized","shiftX","shift","shiftY","EdgeAnchor","radius","EdgeAnchor$1","EdgeWrapper","edgeUpdaterRadius","edgesUpdatable","edgesFocusable","slots","mouseOver","updating","edgeEl","isSelectable","isUpdatable","isFocusable","edgeClass","edgeStyle","edgeCmp","slot","edgeType","components","resolveComponent","pathOptions","sourceNodeHandles","targetNodeHandles","onEdgeClick","onEdgeContextMenu","onDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdaterSourceMouseDown","onEdgeUpdaterMouseEnter","onEdgeUpdaterMouseOut","onEdgeUpdaterTargetMouseDown","handleEdgeUpdater","isSourceHandle","EdgeWrapper$1","ConnectionLine","connectionLineType","connectionLineStyle","connectionLineOptions","connectionLineComponent","fromNode","_a2","toNode","toXY","markerStart","markerEnd","startHandleId","fromHandleBounds","oppositeBounds","fromPosition","fromX","fromY","toHandle","_a3","toPosition","dAttr","pathParams","ConnectionLine$1","_hoisted_1$4","__default__$6","_sfc_main$6","_hoisted_1$3","__default__$5","_sfc_main$5","defaultColor","markers","markers2","createMarkers","markerId","renderList","__default__$4","_sfc_main$4","NodeWrapper","onUpdateNodeInternals","elevateNodesOnSelect","nodesFocusable","isDraggable","hasPointerEvents","isInit","nodeCmp","nodeType","onSelectNode","getClass","getStyle","styles","zIndex","updateInternals","newX","newY","parentZ","nodeZIndex","xyzPos","nodeExtent2","globalExtent","oldNodeExtent","oldGlobalExtent","clampPosition2","onMouseEnter","onMouseMove","onMouseLeave","NodeWrapper$1","useNodesInitialized","_hoisted_1$1","__default__$2","_sfc_main$2","nodesInitialized","entries","entry","_cached","_memo","isMemoSame","_item","useStylesLoadedWarning","pane","_hoisted_1","__default__$1","_sfc_main$1","useSlots","modelValue","modelNodes","modelEdges","disposeWatchers","onUnmounted","BackgroundVariant","BackgroundVariant2","LinePattern","DotPattern","DefaultBgColors","_hoisted_4","__default__","_sfc_main","background","gapX","gapY","scaledGap","scaledSize","scaledOffset","patternId","patternColor","isLangchainTool","isAIAgent","nodeCategory","categoryIcon","nodeIcon","businessTitle","mapping","categoryText","ribbonGradient","gradients","iconBackground","hasError","techTypeLabel","techBadge","_openBlock","_createElementBlock","_createElementVNode","_normalizeClass","_toDisplayString","_createVNode","_unref","Icon","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","_hoisted_8","_hoisted_9","Handle","_createBlock","uiStore","useUIStore","isLoading","error","activeTab","businessDescription","nodeAnalysis","executionStats","performance","tabs","loadWorkflowDetails","businessAPI","loadBusinessDescription","note","formatDuration","formatDate","dateString","copyToClipboard","text","handleExport","dataStr","dataUri","exportFileDefaultName","linkElement","handleForceRefresh","refreshData","newShow","_Teleport","show","$emit","workflow","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","tab","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_component_Info","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","exec","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_createTextVNode","_hoisted_75","agent","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","tool","idx","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","trigger","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","category","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","output","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_component_Activity","_hoisted_114","_hoisted_115","_hoisted_116","_component_AlertTriangle","_hoisted_117","_hoisted_118","_hoisted_119","_component_XCircle","_hoisted_120","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129","_hoisted_130","_hoisted_131","_component_CheckCircle","_hoisted_132","_hoisted_133","_hoisted_134","_hoisted_135","_hoisted_136","_hoisted_137","_hoisted_138","_hoisted_139","iconifyMap","categoryColors","nodeMapping","iconName","categoryColor","nodeShape","shapeClasses","placeholderText","parts","tenantId","itemsPerPage","route","useRoute","authStore","useAuthStore","isViewer","canExecute","toast","useNotification","sidebarCollapsed","showLogs","executionLogs","realWorkflows","analyticsData","workflowStats","selectedWorkflowId","selectedWorkflowData","workflowDetails","currentWorkflowController","showDetailModal","showTimelineModal","showExecutionsModal","selectedWorkflowForModal","executionsError","executionData","executionTabs","currentPage","totalPages","paginatedExecutions","flowElements","fitView","vueFlowZoomIn","vueFlowZoomOut","setViewport","getViewport","UltraModernCard","totalWorkflows","activeWorkflows","failureRate","isHandleConnected","totalExecutions","failedExecutions","total","successRate","timeSaved","avgRunTime","seconds","avgSeconds","refreshAllData","previousSelectedId","workflowsData","analyticsResponse","sortedWorkflows","errorMsg","previousWorkflow","selectWorkflow","loadWorkflowStatistics","loadWorkflowStructure","workflowId","response","$fetch","createFlowFromRealData","createEnhancedFlow","processDetails","workflowMetadata","processSteps","processFlow","nodeConnections","step","getNodeTypeFromN8nType","isMainConnection","isAIConnection","sourceStep","targetStep","sourceNodeType","targetNodeType","isConnectionToTool","targetName","targetStepName","toolIndex","targetConnections","connectionIndex","conn","steps","zoomIn","zoomOut","openBusinessDashboard","closeDetailModal","closeTimelineModal","closeExecutionsModal","isExecuting","currentExecutionId","executingNodes","connectExecutionStream","executionId","url","eventSource","currentNodeIds","nodeFound","loadExecutionData","executeWorkflow","workflowName","pollCount","maxPolls","pollInterval","statusResult","success","errorDetails","stopWorkflow","toggleWorkflowStatus","currentStatus","newStatus","workflowIndex","startTime","loadTime","n8nType","nodeName","getN8nIconProps","getLogLevelClass","level","newData","oldData","urlWorkflowId","targetWorkflow","sortedFallback","altError","MainLayout","Card","Badge","_hoisted_10","_hoisted_17","_normalizeStyle","_withCtx","input","nonMainConnection","N8nIcon","_mergeProps","Background","log","_component_GitBranch","WorkflowDetailModal","TimelineModal","DetailModal","page"],"mappings":"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","x_google_ignoreList":[0,1]}