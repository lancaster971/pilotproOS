import{ae as Wt,e as S,f as v,g as o,q as K,B as ye,s as we,ah as vt,h as z,H as ue,k as G,a2 as de,t as C,_ as _e,a as Ge,r as N,o as Ie,m as h,aC as Rn,l as f,au as V,a3 as W,F as ne,z as se,y as T,w as ge,n as Y,Q as it,a9 as pe,C as Gt,as as Jt,i as Pe,aD as Xt,av as gt,K as Ae,R as On,aE as St,at as Fn,ap as Un,ar as In,aF as Bn,aG as At,aH as Mn,Z as tt,N as Oe,E as Fe,aI as Nn,aJ as Ln,c as jn}from"./index-DL2fbv_4.js";import{s as ae}from"./index-DbTPUzYP.js";import{s as Ue,a as be,g as ve,f as zn,h as Vn,i as Hn,c as Pt,e as nt,d as qn}from"./index-nLvB6mkN.js";import"./auto-DTu4tgz9.js";var Zt={name:"TimesCircleIcon",extends:Wt};function Kn(e){return Xn(e)||Jn(e)||Gn(e)||Wn()}function Wn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gn(e,t){if(e){if(typeof e=="string")return lt(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}function Jn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xn(e){if(Array.isArray(e))return lt(e)}function lt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function Zn(e,t,n,s,r,a){return v(),S("svg",K({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),Kn(t[0]||(t[0]=[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1)])),16)}Zt.render=Zn;var Qn=`
    .p-chip {
        display: inline-flex;
        align-items: center;
        background: dt('chip.background');
        color: dt('chip.color');
        border-radius: dt('chip.border.radius');
        padding-block: dt('chip.padding.y');
        padding-inline: dt('chip.padding.x');
        gap: dt('chip.gap');
    }

    .p-chip-icon {
        color: dt('chip.icon.color');
        font-size: dt('chip.icon.font.size');
        width: dt('chip.icon.size');
        height: dt('chip.icon.size');
    }

    .p-chip-image {
        border-radius: 50%;
        width: dt('chip.image.width');
        height: dt('chip.image.height');
        margin-inline-start: calc(-1 * dt('chip.padding.y'));
    }

    .p-chip:has(.p-chip-remove-icon) {
        padding-inline-end: dt('chip.padding.y');
    }

    .p-chip:has(.p-chip-image) {
        padding-block-start: calc(dt('chip.padding.y') / 2);
        padding-block-end: calc(dt('chip.padding.y') / 2);
    }

    .p-chip-remove-icon {
        cursor: pointer;
        font-size: dt('chip.remove.icon.size');
        width: dt('chip.remove.icon.size');
        height: dt('chip.remove.icon.size');
        color: dt('chip.remove.icon.color');
        border-radius: 50%;
        transition:
            outline-color dt('chip.transition.duration'),
            box-shadow dt('chip.transition.duration');
        outline-color: transparent;
    }

    .p-chip-remove-icon:focus-visible {
        box-shadow: dt('chip.remove.icon.focus.ring.shadow');
        outline: dt('chip.remove.icon.focus.ring.width') dt('chip.remove.icon.focus.ring.style') dt('chip.remove.icon.focus.ring.color');
        outline-offset: dt('chip.remove.icon.focus.ring.offset');
    }
`,Yn={root:"p-chip p-component",image:"p-chip-image",icon:"p-chip-icon",label:"p-chip-label",removeIcon:"p-chip-remove-icon"},es=ye.extend({name:"chip",style:Qn,classes:Yn}),ts={name:"BaseChip",extends:we,props:{label:{type:[String,Number],default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:es,provide:function(){return{$pcChip:this,$parentInstance:this}}},Z={name:"Chip",extends:ts,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(t){(t.key==="Enter"||t.key==="Backspace")&&this.close(t)},close:function(t){this.visible=!1,this.$emit("remove",t)}},computed:{dataP:function(){return vt({removable:this.removable})}},components:{TimesCircleIcon:Zt}},ns=["aria-label","data-p"],ss=["src"];function os(e,t,n,s,r,a){return r.visible?(v(),S("div",K({key:0,class:e.cx("root"),"aria-label":e.label},e.ptmi("root"),{"data-p":a.dataP}),[ue(e.$slots,"default",{},function(){return[e.image?(v(),S("img",K({key:0,src:e.image},e.ptm("image"),{class:e.cx("image")}),null,16,ss)):e.$slots.icon?(v(),G(de(e.$slots.icon),K({key:1,class:e.cx("icon")},e.ptm("icon")),null,16,["class"])):e.icon?(v(),S("span",K({key:2,class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16)):z("",!0),e.label!==null?(v(),S("div",K({key:3,class:e.cx("label")},e.ptm("label")),C(e.label),17)):z("",!0)]}),e.removable?ue(e.$slots,"removeicon",{key:0,removeCallback:a.close,keydownCallback:a.onKeydown},function(){return[(v(),G(de(e.removeIcon?"span":"TimesCircleIcon"),K({class:[e.cx("removeIcon"),e.removeIcon],onClick:a.close,onKeydown:a.onKeydown},e.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):z("",!0)],16,ns)):z("",!0)}Z.render=os;var rs=`
    .p-progressspinner {
        position: relative;
        margin: 0 auto;
        width: 100px;
        height: 100px;
        display: inline-block;
    }

    .p-progressspinner::before {
        content: '';
        display: block;
        padding-top: 100%;
    }

    .p-progressspinner-spin {
        height: 100%;
        transform-origin: center center;
        width: 100%;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
        animation: p-progressspinner-rotate 2s linear infinite;
    }

    .p-progressspinner-circle {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: 0;
        stroke: dt('progressspinner.colorOne');
        animation:
            p-progressspinner-dash 1.5s ease-in-out infinite,
            p-progressspinner-color 6s ease-in-out infinite;
        stroke-linecap: round;
    }

    @keyframes p-progressspinner-rotate {
        100% {
            transform: rotate(360deg);
        }
    }
    @keyframes p-progressspinner-dash {
        0% {
            stroke-dasharray: 1, 200;
            stroke-dashoffset: 0;
        }
        50% {
            stroke-dasharray: 89, 200;
            stroke-dashoffset: -35px;
        }
        100% {
            stroke-dasharray: 89, 200;
            stroke-dashoffset: -124px;
        }
    }
    @keyframes p-progressspinner-color {
        100%,
        0% {
            stroke: dt('progressspinner.color.one');
        }
        40% {
            stroke: dt('progressspinner.color.two');
        }
        66% {
            stroke: dt('progressspinner.color.three');
        }
        80%,
        90% {
            stroke: dt('progressspinner.color.four');
        }
    }
`,as={root:"p-progressspinner",spin:"p-progressspinner-spin",circle:"p-progressspinner-circle"},is=ye.extend({name:"progressspinner",style:rs,classes:as}),ls={name:"BaseProgressSpinner",extends:we,props:{strokeWidth:{type:String,default:"2"},fill:{type:String,default:"none"},animationDuration:{type:String,default:"2s"}},style:is,provide:function(){return{$pcProgressSpinner:this,$parentInstance:this}}},Qt={name:"ProgressSpinner",extends:ls,inheritAttrs:!1,computed:{svgStyle:function(){return{"animation-duration":this.animationDuration}}}},cs=["fill","stroke-width"];function ds(e,t,n,s,r,a){return v(),S("div",K({class:e.cx("root"),role:"progressbar"},e.ptmi("root")),[(v(),S("svg",K({class:e.cx("spin"),viewBox:"25 25 50 50",style:a.svgStyle},e.ptm("spin")),[o("circle",K({class:e.cx("circle"),cx:"50",cy:"50",r:"20",fill:e.fill,"stroke-width":e.strokeWidth,strokeMiterlimit:"10"},e.ptm("circle")),null,16,cs)],16))],16)}Qt.render=ds;function Yt(e,t){return function(){return e.apply(t,arguments)}}const{toString:us}=Object.prototype,{getPrototypeOf:bt}=Object,{iterator:Je,toStringTag:en}=Symbol,Xe=(e=>t=>{const n=us.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fe=e=>(e=e.toLowerCase(),t=>Xe(t)===e),Ze=e=>t=>typeof t===e,{isArray:De}=Array,Te=Ze("undefined");function Be(e){return e!==null&&!Te(e)&&e.constructor!==null&&!Te(e.constructor)&&ie(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tn=fe("ArrayBuffer");function ps(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&tn(e.buffer),t}const fs=Ze("string"),ie=Ze("function"),nn=Ze("number"),Me=e=>e!==null&&typeof e=="object",ms=e=>e===!0||e===!1,Ve=e=>{if(Xe(e)!=="object")return!1;const t=bt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(en in e)&&!(Je in e)},hs=e=>{if(!Me(e)||Be(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},vs=fe("Date"),gs=fe("File"),bs=fe("Blob"),ys=fe("FileList"),ws=e=>Me(e)&&ie(e.pipe),_s=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ie(e.append)&&((t=Xe(e))==="formdata"||t==="object"&&ie(e.toString)&&e.toString()==="[object FormData]"))},$s=fe("URLSearchParams"),[ks,Cs,Ss,As]=["ReadableStream","Request","Response","Headers"].map(fe),Ps=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ne(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),De(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(Be(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let c;for(s=0;s<i;s++)c=a[s],t.call(null,e[c],c,e)}}function sn(e,t){if(Be(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const $e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,on=e=>!Te(e)&&e!==$e;function ct(){const{caseless:e,skipUndefined:t}=on(this)&&this||{},n={},s=(r,a)=>{const i=e&&sn(n,a)||a;Ve(n[i])&&Ve(r)?n[i]=ct(n[i],r):Ve(r)?n[i]=ct({},r):De(r)?n[i]=r.slice():(!t||!Te(r))&&(n[i]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Ne(arguments[r],s);return n}const Ts=(e,t,n,{allOwnKeys:s}={})=>(Ne(t,(r,a)=>{n&&ie(r)?e[a]=Yt(r,n):e[a]=r},{allOwnKeys:s}),e),Ds=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Es=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},xs=(e,t,n,s)=>{let r,a,i;const c={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)i=r[a],(!s||s(i,e,t))&&!c[i]&&(t[i]=e[i],c[i]=!0);e=n!==!1&&bt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Rs=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Os=e=>{if(!e)return null;if(De(e))return e;let t=e.length;if(!nn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Fs=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bt(Uint8Array)),Us=(e,t)=>{const s=(e&&e[Je]).call(e);let r;for(;(r=s.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},Is=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Bs=fe("HTMLFormElement"),Ms=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Tt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ns=fe("RegExp"),rn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Ne(n,(r,a)=>{let i;(i=t(r,a,e))!==!1&&(s[a]=i||r)}),Object.defineProperties(e,s)},Ls=e=>{rn(e,(t,n)=>{if(ie(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(ie(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},js=(e,t)=>{const n={},s=r=>{r.forEach(a=>{n[a]=!0})};return De(e)?s(e):s(String(e).split(t)),n},zs=()=>{},Vs=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Hs(e){return!!(e&&ie(e.append)&&e[en]==="FormData"&&e[Je])}const qs=e=>{const t=new Array(10),n=(s,r)=>{if(Me(s)){if(t.indexOf(s)>=0)return;if(Be(s))return s;if(!("toJSON"in s)){t[r]=s;const a=De(s)?[]:{};return Ne(s,(i,c)=>{const b=n(i,r+1);!Te(b)&&(a[c]=b)}),t[r]=void 0,a}}return s};return n(e,0)},Ks=fe("AsyncFunction"),Ws=e=>e&&(Me(e)||ie(e))&&ie(e.then)&&ie(e.catch),an=((e,t)=>e?setImmediate:t?((n,s)=>($e.addEventListener("message",({source:r,data:a})=>{r===$e&&a===n&&s.length&&s.shift()()},!1),r=>{s.push(r),$e.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ie($e.postMessage)),Gs=typeof queueMicrotask<"u"?queueMicrotask.bind($e):typeof process<"u"&&process.nextTick||an,Js=e=>e!=null&&ie(e[Je]),u={isArray:De,isArrayBuffer:tn,isBuffer:Be,isFormData:_s,isArrayBufferView:ps,isString:fs,isNumber:nn,isBoolean:ms,isObject:Me,isPlainObject:Ve,isEmptyObject:hs,isReadableStream:ks,isRequest:Cs,isResponse:Ss,isHeaders:As,isUndefined:Te,isDate:vs,isFile:gs,isBlob:bs,isRegExp:Ns,isFunction:ie,isStream:ws,isURLSearchParams:$s,isTypedArray:Fs,isFileList:ys,forEach:Ne,merge:ct,extend:Ts,trim:Ps,stripBOM:Ds,inherits:Es,toFlatObject:xs,kindOf:Xe,kindOfTest:fe,endsWith:Rs,toArray:Os,forEachEntry:Us,matchAll:Is,isHTMLForm:Bs,hasOwnProperty:Tt,hasOwnProp:Tt,reduceDescriptors:rn,freezeMethods:Ls,toObjectSet:js,toCamelCase:Ms,noop:zs,toFiniteNumber:Vs,findKey:sn,global:$e,isContextDefined:on,isSpecCompliantForm:Hs,toJSONObject:qs,isAsyncFn:Ks,isThenable:Ws,setImmediate:an,asap:Gs,isIterable:Js};function j(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}u.inherits(j,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:u.toJSONObject(this.config),code:this.code,status:this.status}}});const ln=j.prototype,cn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{cn[e]={value:e}});Object.defineProperties(j,cn);Object.defineProperty(ln,"isAxiosError",{value:!0});j.from=(e,t,n,s,r,a)=>{const i=Object.create(ln);u.toFlatObject(e,i,function(l){return l!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",b=t==null&&e?e.code:t;return j.call(i,c,b,n,s,r),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const Xs=null;function dt(e){return u.isPlainObject(e)||u.isArray(e)}function dn(e){return u.endsWith(e,"[]")?e.slice(0,-2):e}function Dt(e,t,n){return e?e.concat(t).map(function(r,a){return r=dn(r),!n&&a?"["+r+"]":r}).join(n?".":""):t}function Zs(e){return u.isArray(e)&&!e.some(dt)}const Qs=u.toFlatObject(u,{},null,function(t){return/^is[A-Z]/.test(t)});function Qe(e,t,n){if(!u.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=u.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,P){return!u.isUndefined(P[x])});const s=n.metaTokens,r=n.visitor||l,a=n.dots,i=n.indexes,b=(n.Blob||typeof Blob<"u"&&Blob)&&u.isSpecCompliantForm(t);if(!u.isFunction(r))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(u.isDate(_))return _.toISOString();if(u.isBoolean(_))return _.toString();if(!b&&u.isBlob(_))throw new j("Blob is not supported. Use a Buffer instead.");return u.isArrayBuffer(_)||u.isTypedArray(_)?b&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function l(_,x,P){let L=_;if(_&&!P&&typeof _=="object"){if(u.endsWith(x,"{}"))x=s?x:x.slice(0,-2),_=JSON.stringify(_);else if(u.isArray(_)&&Zs(_)||(u.isFileList(_)||u.endsWith(x,"[]"))&&(L=u.toArray(_)))return x=dn(x),L.forEach(function(q,U){!(u.isUndefined(q)||q===null)&&t.append(i===!0?Dt([x],U,a):i===null?x:x+"[]",d(q))}),!1}return dt(_)?!0:(t.append(Dt(P,x,a),d(_)),!1)}const m=[],O=Object.assign(Qs,{defaultVisitor:l,convertValue:d,isVisitable:dt});function H(_,x){if(!u.isUndefined(_)){if(m.indexOf(_)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(_),u.forEach(_,function(L,M){(!(u.isUndefined(L)||L===null)&&r.call(t,L,u.isString(M)?M.trim():M,x,O))===!0&&H(L,x?x.concat(M):[M])}),m.pop()}}if(!u.isObject(e))throw new TypeError("data must be an object");return H(e),t}function Et(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function yt(e,t){this._pairs=[],e&&Qe(e,this,t)}const un=yt.prototype;un.append=function(t,n){this._pairs.push([t,n])};un.toString=function(t){const n=t?function(s){return t.call(this,s,Et)}:Et;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Ys(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pn(e,t,n){if(!t)return e;const s=n&&n.encode||Ys;u.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(t,n):a=u.isURLSearchParams(t)?t.toString():new yt(t,n).toString(s),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class xt{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){u.forEach(this.handlers,function(s){s!==null&&t(s)})}}const fn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eo=typeof URLSearchParams<"u"?URLSearchParams:yt,to=typeof FormData<"u"?FormData:null,no=typeof Blob<"u"?Blob:null,so={isBrowser:!0,classes:{URLSearchParams:eo,FormData:to,Blob:no},protocols:["http","https","file","blob","url","data"]},wt=typeof window<"u"&&typeof document<"u",ut=typeof navigator=="object"&&navigator||void 0,oo=wt&&(!ut||["ReactNative","NativeScript","NS"].indexOf(ut.product)<0),ro=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ao=wt&&window.location.href||"http://localhost",io=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wt,hasStandardBrowserEnv:oo,hasStandardBrowserWebWorkerEnv:ro,navigator:ut,origin:ao},Symbol.toStringTag,{value:"Module"})),te={...io,...so};function lo(e,t){return Qe(e,new te.classes.URLSearchParams,{visitor:function(n,s,r,a){return te.isNode&&u.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function co(e){return u.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function uo(e){const t={},n=Object.keys(e);let s;const r=n.length;let a;for(s=0;s<r;s++)a=n[s],t[a]=e[a];return t}function mn(e){function t(n,s,r,a){let i=n[a++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),b=a>=n.length;return i=!i&&u.isArray(r)?r.length:i,b?(u.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!c):((!r[i]||!u.isObject(r[i]))&&(r[i]=[]),t(n,s,r[i],a)&&u.isArray(r[i])&&(r[i]=uo(r[i])),!c)}if(u.isFormData(e)&&u.isFunction(e.entries)){const n={};return u.forEachEntry(e,(s,r)=>{t(co(s),r,n,0)}),n}return null}function po(e,t,n){if(u.isString(e))try{return(t||JSON.parse)(e),u.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Le={transitional:fn,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,a=u.isObject(t);if(a&&u.isHTMLForm(t)&&(t=new FormData(t)),u.isFormData(t))return r?JSON.stringify(mn(t)):t;if(u.isArrayBuffer(t)||u.isBuffer(t)||u.isStream(t)||u.isFile(t)||u.isBlob(t)||u.isReadableStream(t))return t;if(u.isArrayBufferView(t))return t.buffer;if(u.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return lo(t,this.formSerializer).toString();if((c=u.isFileList(t))||s.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Qe(c?{"files[]":t}:t,b&&new b,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),po(t)):t}],transformResponse:[function(t){const n=this.transitional||Le.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(u.isResponse(t)||u.isReadableStream(t))return t;if(t&&u.isString(t)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(c){if(i)throw c.name==="SyntaxError"?j.from(c,j.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:te.classes.FormData,Blob:te.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};u.forEach(["delete","get","head","post","put","patch"],e=>{Le.headers[e]={}});const fo=u.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mo=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||t[n]&&fo[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Rt=Symbol("internals");function xe(e){return e&&String(e).trim().toLowerCase()}function He(e){return e===!1||e==null?e:u.isArray(e)?e.map(He):String(e)}function ho(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const vo=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function st(e,t,n,s,r){if(u.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!u.isString(t)){if(u.isString(s))return t.indexOf(s)!==-1;if(u.isRegExp(s))return s.test(t)}}function go(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function bo(e,t){const n=u.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,a,i){return this[s].call(this,t,r,a,i)},configurable:!0})})}let le=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function a(c,b,d){const l=xe(b);if(!l)throw new Error("header name must be a non-empty string");const m=u.findKey(r,l);(!m||r[m]===void 0||d===!0||d===void 0&&r[m]!==!1)&&(r[m||b]=He(c))}const i=(c,b)=>u.forEach(c,(d,l)=>a(d,l,b));if(u.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(u.isString(t)&&(t=t.trim())&&!vo(t))i(mo(t),n);else if(u.isObject(t)&&u.isIterable(t)){let c={},b,d;for(const l of t){if(!u.isArray(l))throw TypeError("Object iterator must return a key-value pair");c[d=l[0]]=(b=c[d])?u.isArray(b)?[...b,l[1]]:[b,l[1]]:l[1]}i(c,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=xe(t),t){const s=u.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return ho(r);if(u.isFunction(n))return n.call(this,r,s);if(u.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=xe(t),t){const s=u.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||st(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function a(i){if(i=xe(i),i){const c=u.findKey(s,i);c&&(!n||st(s,s[c],c,n))&&(delete s[c],r=!0)}}return u.isArray(t)?t.forEach(a):a(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const a=n[s];(!t||st(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const n=this,s={};return u.forEach(this,(r,a)=>{const i=u.findKey(s,a);if(i){n[i]=He(r),delete n[a];return}const c=t?go(a):String(a).trim();c!==a&&delete n[a],n[c]=He(r),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return u.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&u.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Rt]=this[Rt]={accessors:{}}).accessors,r=this.prototype;function a(i){const c=xe(i);s[c]||(bo(r,i),s[c]=!0)}return u.isArray(t)?t.forEach(a):a(t),this}};le.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);u.reduceDescriptors(le.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});u.freezeMethods(le);function ot(e,t){const n=this||Le,s=t||n,r=le.from(s.headers);let a=s.data;return u.forEach(e,function(c){a=c.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function hn(e){return!!(e&&e.__CANCEL__)}function Ee(e,t,n){j.call(this,e??"canceled",j.ERR_CANCELED,t,n),this.name="CanceledError"}u.inherits(Ee,j,{__CANCEL__:!0});function vn(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new j("Request failed with status code "+n.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function yo(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function wo(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,a=0,i;return t=t!==void 0?t:1e3,function(b){const d=Date.now(),l=s[a];i||(i=d),n[r]=b,s[r]=d;let m=a,O=0;for(;m!==r;)O+=n[m++],m=m%e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),d-i<t)return;const H=l&&d-l;return H?Math.round(O*1e3/H):void 0}}function _o(e,t){let n=0,s=1e3/t,r,a;const i=(d,l=Date.now())=>{n=l,r=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const l=Date.now(),m=l-n;m>=s?i(d,l):(r=d,a||(a=setTimeout(()=>{a=null,i(r)},s-m)))},()=>r&&i(r)]}const Ke=(e,t,n=3)=>{let s=0;const r=wo(50,250);return _o(a=>{const i=a.loaded,c=a.lengthComputable?a.total:void 0,b=i-s,d=r(b),l=i<=c;s=i;const m={loaded:i,total:c,progress:c?i/c:void 0,bytes:b,rate:d||void 0,estimated:d&&c&&l?(c-i)/d:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(m)},n)},Ot=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Ft=e=>(...t)=>u.asap(()=>e(...t)),$o=te.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,te.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(te.origin),te.navigator&&/(msie|trident)/i.test(te.navigator.userAgent)):()=>!0,ko=te.hasStandardBrowserEnv?{write(e,t,n,s,r,a){const i=[e+"="+encodeURIComponent(t)];u.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),u.isString(s)&&i.push("path="+s),u.isString(r)&&i.push("domain="+r),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Co(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function So(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gn(e,t,n){let s=!Co(t);return e&&(s||n==!1)?So(e,t):t}const Ut=e=>e instanceof le?{...e}:e;function Ce(e,t){t=t||{};const n={};function s(d,l,m,O){return u.isPlainObject(d)&&u.isPlainObject(l)?u.merge.call({caseless:O},d,l):u.isPlainObject(l)?u.merge({},l):u.isArray(l)?l.slice():l}function r(d,l,m,O){if(u.isUndefined(l)){if(!u.isUndefined(d))return s(void 0,d,m,O)}else return s(d,l,m,O)}function a(d,l){if(!u.isUndefined(l))return s(void 0,l)}function i(d,l){if(u.isUndefined(l)){if(!u.isUndefined(d))return s(void 0,d)}else return s(void 0,l)}function c(d,l,m){if(m in t)return s(d,l);if(m in e)return s(void 0,d)}const b={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(d,l,m)=>r(Ut(d),Ut(l),m,!0)};return u.forEach(Object.keys({...e,...t}),function(l){const m=b[l]||r,O=m(e[l],t[l],l);u.isUndefined(O)&&m!==c||(n[l]=O)}),n}const bn=e=>{const t=Ce({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:i,auth:c}=t;if(t.headers=i=le.from(i),t.url=pn(gn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),u.isFormData(n)){if(te.hasStandardBrowserEnv||te.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(u.isFunction(n.getHeaders)){const b=n.getHeaders(),d=["content-type","content-length"];Object.entries(b).forEach(([l,m])=>{d.includes(l.toLowerCase())&&i.set(l,m)})}}if(te.hasStandardBrowserEnv&&(s&&u.isFunction(s)&&(s=s(t)),s||s!==!1&&$o(t.url))){const b=r&&a&&ko.read(a);b&&i.set(r,b)}return t},Ao=typeof XMLHttpRequest<"u",Po=Ao&&function(e){return new Promise(function(n,s){const r=bn(e);let a=r.data;const i=le.from(r.headers).normalize();let{responseType:c,onUploadProgress:b,onDownloadProgress:d}=r,l,m,O,H,_;function x(){H&&H(),_&&_(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let P=new XMLHttpRequest;P.open(r.method.toUpperCase(),r.url,!0),P.timeout=r.timeout;function L(){if(!P)return;const q=le.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),E={data:!c||c==="text"||c==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:q,config:e,request:P};vn(function(p){n(p),x()},function(p){s(p),x()},E),P=null}"onloadend"in P?P.onloadend=L:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(L)},P.onabort=function(){P&&(s(new j("Request aborted",j.ECONNABORTED,e,P)),P=null)},P.onerror=function(U){const E=U&&U.message?U.message:"Network Error",A=new j(E,j.ERR_NETWORK,e,P);A.event=U||null,s(A),P=null},P.ontimeout=function(){let U=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||fn;r.timeoutErrorMessage&&(U=r.timeoutErrorMessage),s(new j(U,E.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,e,P)),P=null},a===void 0&&i.setContentType(null),"setRequestHeader"in P&&u.forEach(i.toJSON(),function(U,E){P.setRequestHeader(E,U)}),u.isUndefined(r.withCredentials)||(P.withCredentials=!!r.withCredentials),c&&c!=="json"&&(P.responseType=r.responseType),d&&([O,_]=Ke(d,!0),P.addEventListener("progress",O)),b&&P.upload&&([m,H]=Ke(b),P.upload.addEventListener("progress",m),P.upload.addEventListener("loadend",H)),(r.cancelToken||r.signal)&&(l=q=>{P&&(s(!q||q.type?new Ee(null,e,P):q),P.abort(),P=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const M=yo(r.url);if(M&&te.protocols.indexOf(M)===-1){s(new j("Unsupported protocol "+M+":",j.ERR_BAD_REQUEST,e));return}P.send(a||null)})},To=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const a=function(d){if(!r){r=!0,c();const l=d instanceof Error?d:this.reason;s.abort(l instanceof j?l:new Ee(l instanceof Error?l.message:l))}};let i=t&&setTimeout(()=>{i=null,a(new j(`timeout ${t} of ms exceeded`,j.ETIMEDOUT))},t);const c=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:b}=s;return b.unsubscribe=()=>u.asap(c),b}},Do=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},Eo=async function*(e,t){for await(const n of xo(e))yield*Do(n,t)},xo=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},It=(e,t,n,s)=>{const r=Eo(e,t);let a=0,i,c=b=>{i||(i=!0,s&&s(b))};return new ReadableStream({async pull(b){try{const{done:d,value:l}=await r.next();if(d){c(),b.close();return}let m=l.byteLength;if(n){let O=a+=m;n(O)}b.enqueue(new Uint8Array(l))}catch(d){throw c(d),d}},cancel(b){return c(b),r.return()}},{highWaterMark:2})},Bt=64*1024,{isFunction:ze}=u,Ro=(({Request:e,Response:t})=>({Request:e,Response:t}))(u.global),{ReadableStream:Mt,TextEncoder:Nt}=u.global,Lt=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Oo=e=>{e=u.merge.call({skipUndefined:!0},Ro,e);const{fetch:t,Request:n,Response:s}=e,r=t?ze(t):typeof fetch=="function",a=ze(n),i=ze(s);if(!r)return!1;const c=r&&ze(Mt),b=r&&(typeof Nt=="function"?(_=>x=>_.encode(x))(new Nt):async _=>new Uint8Array(await new n(_).arrayBuffer())),d=a&&c&&Lt(()=>{let _=!1;const x=new n(te.origin,{body:new Mt,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!x}),l=i&&c&&Lt(()=>u.isReadableStream(new s("").body)),m={stream:l&&(_=>_.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!m[_]&&(m[_]=(x,P)=>{let L=x&&x[_];if(L)return L.call(x);throw new j(`Response type '${_}' is not supported`,j.ERR_NOT_SUPPORT,P)})});const O=async _=>{if(_==null)return 0;if(u.isBlob(_))return _.size;if(u.isSpecCompliantForm(_))return(await new n(te.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(u.isArrayBufferView(_)||u.isArrayBuffer(_))return _.byteLength;if(u.isURLSearchParams(_)&&(_=_+""),u.isString(_))return(await b(_)).byteLength},H=async(_,x)=>{const P=u.toFiniteNumber(_.getContentLength());return P??O(x)};return async _=>{let{url:x,method:P,data:L,signal:M,cancelToken:q,timeout:U,onDownloadProgress:E,onUploadProgress:A,responseType:p,headers:w,withCredentials:y="same-origin",fetchOptions:$}=bn(_),I=t||fetch;p=p?(p+"").toLowerCase():"text";let D=To([M,q&&q.toAbortSignal()],U),B=null;const Q=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let ce;try{if(A&&d&&P!=="get"&&P!=="head"&&(ce=await H(w,L))!==0){let J=new n(x,{method:"POST",body:L,duplex:"half"}),F;if(u.isFormData(L)&&(F=J.headers.get("content-type"))&&w.setContentType(F),J.body){const[me,je]=Ot(ce,Ke(Ft(A)));L=It(J.body,Bt,me,je)}}u.isString(y)||(y=y?"include":"omit");const re=a&&"credentials"in n.prototype,Se={...$,signal:D,method:P.toUpperCase(),headers:w.normalize().toJSON(),body:L,duplex:"half",credentials:re?y:void 0};B=a&&new n(x,Se);let R=await(a?I(B,$):I(x,Se));const g=l&&(p==="stream"||p==="response");if(l&&(E||g&&Q)){const J={};["status","statusText","headers"].forEach(Ct=>{J[Ct]=R[Ct]});const F=u.toFiniteNumber(R.headers.get("content-length")),[me,je]=E&&Ot(F,Ke(Ft(E),!0))||[];R=new s(It(R.body,Bt,me,()=>{je&&je(),Q&&Q()}),J)}p=p||"text";let k=await m[u.findKey(m,p)||"text"](R,_);return!g&&Q&&Q(),await new Promise((J,F)=>{vn(J,F,{data:k,headers:le.from(R.headers),status:R.status,statusText:R.statusText,config:_,request:B})})}catch(re){throw Q&&Q(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new j("Network Error",j.ERR_NETWORK,_,B),{cause:re.cause||re}):j.from(re,re&&re.code,_,B)}}},Fo=new Map,yn=e=>{let t=e?e.env:{};const{fetch:n,Request:s,Response:r}=t,a=[s,r,n];let i=a.length,c=i,b,d,l=Fo;for(;c--;)b=a[c],d=l.get(b),d===void 0&&l.set(b,d=c?new Map:Oo(t)),l=d;return d};yn();const pt={http:Xs,xhr:Po,fetch:{get:yn}};u.forEach(pt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const jt=e=>`- ${e}`,Uo=e=>u.isFunction(e)||e===null||e===!1,wn={getAdapter:(e,t)=>{e=u.isArray(e)?e:[e];const{length:n}=e;let s,r;const a={};for(let i=0;i<n;i++){s=e[i];let c;if(r=s,!Uo(s)&&(r=pt[(c=String(s)).toLowerCase()],r===void 0))throw new j(`Unknown adapter '${c}'`);if(r&&(u.isFunction(r)||(r=r.get(t))))break;a[c||"#"+i]=r}if(!r){const i=Object.entries(a).map(([b,d])=>`adapter ${b} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?i.length>1?`since :
`+i.map(jt).join(`
`):" "+jt(i[0]):"as no adapter specified";throw new j("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:pt};function rt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function zt(e){return rt(e),e.headers=le.from(e.headers),e.data=ot.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wn.getAdapter(e.adapter||Le.adapter,e)(e).then(function(s){return rt(e),s.data=ot.call(e,e.transformResponse,s),s.headers=le.from(s.headers),s},function(s){return hn(s)||(rt(e),s&&s.response&&(s.response.data=ot.call(e,e.transformResponse,s.response),s.response.headers=le.from(s.response.headers))),Promise.reject(s)})}const _n="1.12.2",Ye={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ye[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Vt={};Ye.transitional=function(t,n,s){function r(a,i){return"[Axios v"+_n+"] Transitional option '"+a+"'"+i+(s?". "+s:"")}return(a,i,c)=>{if(t===!1)throw new j(r(i," has been removed"+(n?" in "+n:"")),j.ERR_DEPRECATED);return n&&!Vt[i]&&(Vt[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,c):!0}};Ye.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Io(e,t,n){if(typeof e!="object")throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const a=s[r],i=t[a];if(i){const c=e[a],b=c===void 0||i(c,a,e);if(b!==!0)throw new j("option "+a+" must be "+b,j.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new j("Unknown option "+a,j.ERR_BAD_OPTION)}}const qe={assertOptions:Io,validators:Ye},he=qe.validators;let ke=class{constructor(t){this.defaults=t||{},this.interceptors={request:new xt,response:new xt}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ce(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:a}=n;s!==void 0&&qe.assertOptions(s,{silentJSONParsing:he.transitional(he.boolean),forcedJSONParsing:he.transitional(he.boolean),clarifyTimeoutError:he.transitional(he.boolean)},!1),r!=null&&(u.isFunction(r)?n.paramsSerializer={serialize:r}:qe.assertOptions(r,{encode:he.function,serialize:he.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qe.assertOptions(n,{baseUrl:he.spelling("baseURL"),withXsrfToken:he.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&u.merge(a.common,a[n.method]);a&&u.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),n.headers=le.concat(i,a);const c=[];let b=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(b=b&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let l,m=0,O;if(!b){const _=[zt.bind(this),void 0];for(_.unshift(...c),_.push(...d),O=_.length,l=Promise.resolve(n);m<O;)l=l.then(_[m++],_[m++]);return l}O=c.length;let H=n;for(;m<O;){const _=c[m++],x=c[m++];try{H=_(H)}catch(P){x.call(this,P);break}}try{l=zt.call(this,H)}catch(_){return Promise.reject(_)}for(m=0,O=d.length;m<O;)l=l.then(d[m++],d[m++]);return l}getUri(t){t=Ce(this.defaults,t);const n=gn(t.baseURL,t.url,t.allowAbsoluteUrls);return pn(n,t.params,t.paramsSerializer)}};u.forEach(["delete","get","head","options"],function(t){ke.prototype[t]=function(n,s){return this.request(Ce(s||{},{method:t,url:n,data:(s||{}).data}))}});u.forEach(["post","put","patch"],function(t){function n(s){return function(a,i,c){return this.request(Ce(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ke.prototype[t]=n(),ke.prototype[t+"Form"]=n(!0)});let Bo=class $n{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(r=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](r);s._listeners=null}),this.promise.then=r=>{let a;const i=new Promise(c=>{s.subscribe(c),a=c}).then(r);return i.cancel=function(){s.unsubscribe(a)},i},t(function(a,i,c){s.reason||(s.reason=new Ee(a,i,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new $n(function(r){t=r}),cancel:t}}};function Mo(e){return function(n){return e.apply(null,n)}}function No(e){return u.isObject(e)&&e.isAxiosError===!0}const ft={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ft).forEach(([e,t])=>{ft[t]=e});function kn(e){const t=new ke(e),n=Yt(ke.prototype.request,t);return u.extend(n,ke.prototype,t,{allOwnKeys:!0}),u.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return kn(Ce(e,r))},n}const X=kn(Le);X.Axios=ke;X.CanceledError=Ee;X.CancelToken=Bo;X.isCancel=hn;X.VERSION=_n;X.toFormData=Qe;X.AxiosError=j;X.Cancel=X.CanceledError;X.all=function(t){return Promise.all(t)};X.spread=Mo;X.isAxiosError=No;X.mergeConfig=Ce;X.AxiosHeaders=le;X.formToJSON=e=>mn(u.isHTMLForm(e)?new FormData(e):e);X.getAdapter=wn.getAdapter;X.HttpStatusCode=ft;X.default=X;const{Axios:Ad,AxiosError:Pd,CanceledError:Td,isCancel:Dd,CancelToken:Ed,VERSION:xd,all:Rd,Cancel:Od,isAxiosError:Fd,spread:Ud,toFormData:Id,AxiosHeaders:Bd,HttpStatusCode:Md,formToJSON:Nd,getAdapter:Ld,mergeConfig:jd}=X;var Lo={};const Cn=Lo.VUE_APP_INTELLIGENCE_API_URL||"http://localhost:8000",ee=X.create({baseURL:`${Cn}/api/rag`,headers:{"Content-Type":"application/json"},timeout:3e4});ee.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});ee.interceptors.response.use(e=>e.data,e=>{if(console.error("RAG API Error:",e),e.response?.status===401)localStorage.removeItem("auth_token"),window.location.href="/login";else{if(e.response?.status===413)throw new Error("File size too large. Please use files smaller than 50MB.");if(e.response?.status===422){const t=e.response.data?.detail;throw new Error(t||"Invalid request data")}}throw e.response?.data||e});const oe={async uploadDocuments(e,t={}){const n={headers:{"Content-Type":"multipart/form-data"},timeout:3e5,...t};return await ee.post("/documents",e,n)},async listDocuments(e={}){const t=new URLSearchParams;return Object.keys(e).forEach(n=>{e[n]!==null&&e[n]!==void 0&&t.append(n,e[n])}),await ee.get(`/documents?${t.toString()}`)},async updateDocument(e,t){const n=new FormData;t.content&&n.append("content",t.content),t.metadata&&n.append("metadata",JSON.stringify(t.metadata));const s={headers:{"Content-Type":"multipart/form-data"}};return await ee.put(`/documents/${e}`,n,s)},async deleteDocument(e,t=!0){const n=new URLSearchParams({soft_delete:t.toString()});return await ee.delete(`/documents/${e}?${n.toString()}`)},async searchDocuments(e){return await ee.post("/search",e)},async getStatistics(){return await ee.get("/stats")},async bulkImport(e,t={}){const n=new FormData;n.append("archive",e);const s={headers:{"Content-Type":"multipart/form-data"},timeout:6e5,...t};return await ee.post("/bulk-import",n,s)},async reindex(){return await ee.post("/reindex")},async getDocument(e){return await ee.get(`/documents/${e}`)},async exportDocuments(e={}){return await ee.post("/export",e,{responseType:"blob"})},async getDocumentPreview(e,t=500){const n=new URLSearchParams({max_length:t.toString()});return await ee.get(`/documents/${e}/preview?${n.toString()}`)},async getDocumentHistory(e){return await ee.get(`/documents/${e}/history`)},async restoreDocumentVersion(e,t){return await ee.post(`/documents/${e}/restore/${t}`)},async getSimilarDocuments(e,t=5){const n=new URLSearchParams({limit:t.toString()});return await ee.get(`/documents/${e}/similar?${n.toString()}`)},async getCategories(){return(await this.getStatistics()).categories||[]},async healthCheck(){return await ee.get("/health")},async getEmbeddingStatus(){return(await this.getStatistics()).embedding_status||{}},validateFile(e){const t=[".pdf",".docx",".txt",".md",".html"],s="."+e.name.split(".").pop().toLowerCase(),r={valid:!0,errors:[]};return t.includes(s)||(r.valid=!1,r.errors.push(`Unsupported file type: ${s}`)),e.size>52428800&&(r.valid=!1,r.errors.push("File size exceeds 50MB limit")),e.size===0&&(r.valid=!1,r.errors.push("File is empty")),r},createWebSocket(e){const t=`${Cn}/api/rag/ws`.replace("http","ws"),n=new WebSocket(t);return n.onopen=()=>{console.log("RAG WebSocket connected")},n.onmessage=s=>{try{const r=JSON.parse(s.data);e&&e(r)}catch(r){console.error("Error parsing WebSocket message:",r)}},n.onerror=s=>{console.error("RAG WebSocket error:",s)},n.onclose=()=>{console.log("RAG WebSocket disconnected")},n},formatFileSize(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(2))+" "+n[s]},getFileIcon(e){const t=e.split(".").pop()?.toLowerCase();return{pdf:"pi pi-file-pdf",docx:"pi pi-file-word",txt:"pi pi-file",md:"pi pi-file-edit",html:"pi pi-code"}[t]||"pi pi-file"}},jo={class:"rag-search-panel"},zo={class:"search-form"},Vo={class:"search-input-group"},Ho={class:"p-inputgroup"},qo={class:"filters-section"},Ko={key:0,class:"filters-content"},Wo={class:"filter-row"},Go={class:"filter-group"},Jo={class:"filter-group"},Xo={class:"filter-group"},Zo={class:"filter-actions"},Qo={key:0,class:"search-results"},Yo={class:"results-header"},er={class:"query-info"},tr={class:"results-grid"},nr={class:"result-header"},sr={class:"relevance-score"},or={class:"score-bar"},rr={class:"score-text"},ar={class:"result-title"},ir={class:"result-subtitle"},lr={class:"source"},cr={class:"date"},dr={class:"result-content"},ur={class:"content-preview"},pr={class:"result-metadata"},fr={key:0,class:"metadata-tags"},mr={key:0,class:"more-tags"},hr={class:"metadata-info"},vr={key:0,class:"author"},gr={key:1,class:"version"},br={class:"result-actions"},yr={key:1,class:"empty-state"},wr={key:2,class:"initial-state"},_r={class:"search-examples"},$r={class:"example-chips"},kr={key:3,class:"loading-state"},Cr={__name:"RAGSearchPanel",emits:["document-selected"],setup(e,{emit:t}){const n=t,s=Ge(),r=N(""),a=N([]),i=N(!1),c=N(!1),b=N(!1),d=N(""),l=N(0),m=N({category:null,user_level:"BUSINESS",k:5}),O=N([{label:"All Categories",value:null},{label:"Business Process",value:"business_process"},{label:"Documentation",value:"documentation"},{label:"Training",value:"training"},{label:"Policy",value:"policy"},{label:"General",value:"general"}]),H=[{label:"Business User",value:"BUSINESS"},{label:"Administrator",value:"ADMIN"},{label:"Developer",value:"DEVELOPER"}],_=[{label:"5 Results",value:5},{label:"10 Results",value:10},{label:"15 Results",value:15},{label:"20 Results",value:20}],x=["How to create a new business process?","User management procedures","System configuration guidelines","Error handling best practices","Integration documentation"];Ie(()=>{P()});const P=async()=>{try{const D=(await oe.getStatistics()).categories||[],B=[{label:"All Categories",value:null},...D.map(Q=>({label:Q.charAt(0).toUpperCase()+Q.slice(1).replace("_"," "),value:Q}))];O.value=B}catch(I){console.error("Error loading categories:",I)}},L=async()=>{if(!r.value.trim()){s.warning("Please enter a search query");return}i.value=!0,c.value=!0,d.value=r.value;try{const I={query:r.value,k:m.value.k,user_level:m.value.user_level,filters:{}};m.value.category&&(I.filters.category=m.value.category);const D=await oe.searchDocuments(I);a.value=D.results||[],l.value=D.query_time_ms||0,a.value.length===0&&s.info("No documents found matching your query")}catch(I){console.error("Search error:",I),s.error("Failed to search documents"),a.value=[]}finally{i.value=!1}},M=()=>{r.value="",a.value=[],c.value=!1,d.value="",l.value=0},q=()=>{m.value={category:null,user_level:"BUSINESS",k:5}},U=I=>{n("document-selected",I)},E=I=>{console.log("Edit document:",I.metadata?.id)},A=I=>{console.log("Share document:",I.metadata?.id)},p=(I,D)=>I?I.length>D?I.substring(0,D)+"...":I:"",w=I=>I?new Date(I).toLocaleDateString():"Unknown",y=I=>({upload:"pi pi-upload",bulk_import:"pi pi-download",api:"pi pi-cog",system:"pi pi-server"})[I]||"pi pi-file",$=I=>({business_process:"success",documentation:"info",training:"warning",policy:"danger",general:"secondary"})[I]||"secondary";return(I,D)=>(v(),S("div",jo,[o("div",zo,[o("div",Vo,[o("div",Ho,[h(f(Ue),{modelValue:r.value,"onUpdate:modelValue":D[0]||(D[0]=B=>r.value=B),placeholder:"Search documents with natural language...",onKeyup:Rn(L,["enter"]),disabled:i.value,class:"search-input"},null,8,["modelValue","disabled"]),h(f(V),{icon:"pi pi-search",onClick:L,loading:i.value,class:"p-button-primary"},null,8,["loading"])])]),o("div",qo,[h(f(V),{label:b.value?"Hide Filters":"Show Filters",icon:b.value?"pi pi-chevron-up":"pi pi-chevron-down",class:"p-button-text",onClick:D[1]||(D[1]=B=>b.value=!b.value)},null,8,["label","icon"]),b.value?(v(),S("div",Ko,[o("div",Wo,[o("div",Go,[D[5]||(D[5]=o("label",{class:"filter-label"},"Category",-1)),h(f(be),{modelValue:m.value.category,"onUpdate:modelValue":D[2]||(D[2]=B=>m.value.category=B),options:O.value,"option-label":"label","option-value":"value",placeholder:"All Categories",class:"filter-dropdown"},null,8,["modelValue","options"])]),o("div",Jo,[D[6]||(D[6]=o("label",{class:"filter-label"},"User Level",-1)),h(f(be),{modelValue:m.value.user_level,"onUpdate:modelValue":D[3]||(D[3]=B=>m.value.user_level=B),options:H,"option-label":"label","option-value":"value",placeholder:"Select Level",class:"filter-dropdown"},null,8,["modelValue"])]),o("div",Xo,[D[7]||(D[7]=o("label",{class:"filter-label"},"Results Count",-1)),h(f(be),{modelValue:m.value.k,"onUpdate:modelValue":D[4]||(D[4]=B=>m.value.k=B),options:_,"option-label":"label","option-value":"value",placeholder:"Number of Results",class:"filter-dropdown"},null,8,["modelValue"])])]),o("div",Zo,[h(f(V),{label:"Clear Filters",icon:"pi pi-times",class:"p-button-outlined p-button-secondary",onClick:q}),h(f(V),{label:"Apply Filters",icon:"pi pi-check",class:"p-button-outlined",onClick:L})])])):z("",!0)])]),a.value.length>0?(v(),S("div",Qo,[o("div",Yo,[o("h3",null,[D[8]||(D[8]=o("i",{class:"pi pi-search mr-2"},null,-1)),W(" Search Results ("+C(a.value.length)+") ",1)]),o("div",er,[o("span",null,"Query time: "+C(l.value)+"ms",1),d.value?(v(),G(f(Z),{key:0,label:`"${d.value}"`,class:"query-chip"},null,8,["label"])):z("",!0)])]),o("div",tr,[(v(!0),S(ne,null,se(a.value,(B,Q)=>(v(),G(f(ae),{key:`result-${Q}`,class:"result-card",onClick:ce=>U(B)},{header:T(()=>[o("div",nr,[o("div",sr,[o("div",or,[o("div",{class:"score-fill",style:it({width:`${(B.score||.5)*100}%`})},null,4)]),o("span",rr,C(((B.score||.5)*100).toFixed(1))+"%",1)]),h(f(pe),{value:B.metadata?.category||"general",severity:$(B.metadata?.category),class:"category-badge"},null,8,["value","severity"])])]),title:T(()=>[o("div",ar,[o("i",{class:Y([y(B.metadata?.source),"mr-2"])},null,2),W(" "+C(B.metadata?.title||"Untitled Document"),1)])]),subtitle:T(()=>[o("div",ir,[o("span",lr,C(B.metadata?.source||"Unknown"),1),D[9]||(D[9]=o("span",{class:"separator"},"•",-1)),o("span",cr,C(w(B.metadata?.created_at)),1)])]),content:T(()=>[o("div",dr,[o("p",ur,C(p(B.page_content,200)),1),o("div",pr,[B.metadata?.tags?.length?(v(),S("div",fr,[(v(!0),S(ne,null,se(B.metadata.tags.slice(0,3),ce=>(v(),G(f(Z),{key:ce,label:ce,class:"tag-chip"},null,8,["label"]))),128)),B.metadata.tags.length>3?(v(),S("span",mr," +"+C(B.metadata.tags.length-3)+" more ",1)):z("",!0)])):z("",!0),o("div",hr,[B.metadata?.author?(v(),S("span",vr,[D[10]||(D[10]=o("i",{class:"pi pi-user mr-1"},null,-1)),W(C(B.metadata.author),1)])):z("",!0),B.metadata?.version?(v(),S("span",gr," v"+C(B.metadata.version),1)):z("",!0)])])])]),footer:T(()=>[o("div",br,[h(f(V),{label:"View Details",icon:"pi pi-eye",class:"p-button-text p-button-sm",onClick:ge(ce=>U(B),["stop"])},null,8,["onClick"]),h(f(V),{label:"Edit",icon:"pi pi-pencil",class:"p-button-text p-button-sm",onClick:ge(ce=>E(B),["stop"])},null,8,["onClick"]),h(f(V),{label:"Share",icon:"pi pi-share-alt",class:"p-button-text p-button-sm",onClick:ge(ce=>A(B),["stop"])},null,8,["onClick"])])]),_:2},1032,["onClick"]))),128))])])):c.value&&!i.value?(v(),S("div",yr,[D[11]||(D[11]=o("div",{class:"empty-icon"},[o("i",{class:"pi pi-search"})],-1)),D[12]||(D[12]=o("h3",null,"No Results Found",-1)),D[13]||(D[13]=o("p",null,"Try adjusting your search query or filters",-1)),h(f(V),{label:"Clear Search",icon:"pi pi-times",class:"p-button-outlined",onClick:M})])):!c.value&&!i.value?(v(),S("div",wr,[D[15]||(D[15]=o("div",{class:"initial-icon"},[o("i",{class:"pi pi-search"})],-1)),D[16]||(D[16]=o("h3",null,"Semantic Search",-1)),D[17]||(D[17]=o("p",null,"Search your knowledge base using natural language queries",-1)),o("div",_r,[D[14]||(D[14]=o("h4",null,"Example queries:",-1)),o("div",$r,[(v(),S(ne,null,se(x,B=>h(f(Z),{key:B,label:B,class:"example-chip clickable",onClick:Q=>{r.value=B,L()}},null,8,["label","onClick"])),64))])])])):z("",!0),i.value?(v(),S("div",kr,[h(f(Qt)),D[18]||(D[18]=o("p",null,"Searching knowledge base...",-1))])):z("",!0)]))}},Sr=_e(Cr,[["__scopeId","data-v-c8d30929"]]);var Ar=Symbol();function Sn(){var e=Gt(Ar);if(!e)throw new Error("No PrimeVue Confirmation provided!");return e}var Pr=typeof global=="object"&&global&&global.Object===Object&&global,Tr=typeof self=="object"&&self&&self.Object===Object&&self,An=Pr||Tr||Function("return this")(),We=An.Symbol,Pn=Object.prototype,Dr=Pn.hasOwnProperty,Er=Pn.toString,Re=We?We.toStringTag:void 0;function xr(e){var t=Dr.call(e,Re),n=e[Re];try{e[Re]=void 0;var s=!0}catch{}var r=Er.call(e);return s&&(t?e[Re]=n:delete e[Re]),r}var Rr=Object.prototype,Or=Rr.toString;function Fr(e){return Or.call(e)}var Ur="[object Null]",Ir="[object Undefined]",Ht=We?We.toStringTag:void 0;function Br(e){return e==null?e===void 0?Ir:Ur:Ht&&Ht in Object(e)?xr(e):Fr(e)}function Mr(e){return e!=null&&typeof e=="object"}var Nr="[object Symbol]";function Lr(e){return typeof e=="symbol"||Mr(e)&&Br(e)==Nr}var jr=/\s/;function zr(e){for(var t=e.length;t--&&jr.test(e.charAt(t)););return t}var Vr=/^\s+/;function Hr(e){return e&&e.slice(0,zr(e)+1).replace(Vr,"")}function mt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qt=NaN,qr=/^[-+]0x[0-9a-f]+$/i,Kr=/^0b[01]+$/i,Wr=/^0o[0-7]+$/i,Gr=parseInt;function Kt(e){if(typeof e=="number")return e;if(Lr(e))return qt;if(mt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=mt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Hr(e);var n=Kr.test(e);return n||Wr.test(e)?Gr(e.slice(2),n?2:8):qr.test(e)?qt:+e}var at=function(){return An.Date.now()},Jr="Expected a function",Xr=Math.max,Zr=Math.min;function Qr(e,t,n){var s,r,a,i,c,b,d=0,l=!1,m=!1,O=!0;if(typeof e!="function")throw new TypeError(Jr);t=Kt(t)||0,mt(n)&&(l=!!n.leading,m="maxWait"in n,a=m?Xr(Kt(n.maxWait)||0,t):a,O="trailing"in n?!!n.trailing:O);function H(A){var p=s,w=r;return s=r=void 0,d=A,i=e.apply(w,p),i}function _(A){return d=A,c=setTimeout(L,t),l?H(A):i}function x(A){var p=A-b,w=A-d,y=t-p;return m?Zr(y,a-w):y}function P(A){var p=A-b,w=A-d;return b===void 0||p>=t||p<0||m&&w>=a}function L(){var A=at();if(P(A))return M(A);c=setTimeout(L,x(A))}function M(A){return c=void 0,O&&s?H(A):(s=r=void 0,i)}function q(){c!==void 0&&clearTimeout(c),d=0,s=b=r=c=void 0}function U(){return c===void 0?i:M(at())}function E(){var A=at(),p=P(A);if(s=arguments,r=this,b=A,p){if(c===void 0)return _(b);if(m)return clearTimeout(c),c=setTimeout(L,t),H(b)}return c===void 0&&(c=setTimeout(L,t)),i}return E.cancel=q,E.flush=U,E}const Yr={class:"rag-document-list"},ea={class:"controls-header"},ta={class:"search-controls"},na={class:"p-inputgroup"},sa={class:"filter-controls"},oa={class:"action-controls"},ra={class:"document-title"},aa={class:"title-content"},ia={class:"title-text"},la={class:"title-meta"},ca={class:"source"},da={class:"size"},ua={key:0,class:"tags-container"},pa={key:0,class:"more-tags"},fa={key:1,class:"no-tags"},ma={class:"author-info"},ha={class:"date-info"},va={class:"date-info"},ga={class:"action-buttons"},ba={class:"empty-table-state"},ya={key:0},wa={key:1},_a={key:0,class:"preview-content"},$a={class:"preview-metadata"},ka={class:"metadata-grid"},Ca={class:"metadata-item"},Sa={class:"metadata-item"},Aa={class:"metadata-item"},Pa={class:"metadata-item"},Ta={key:0,class:"tags-section"},Da={class:"tags-list"},Ea={class:"preview-text"},xa={class:"content-text"},Ra={class:"preview-actions"},Oa={__name:"RAGDocumentList",emits:["document-selected","document-updated","document-deleted","upload-requested"],setup(e,{emit:t}){const n=t,s=Ge(),r=Sn(),a=N([]),i=N(!1),c=N(""),b=N(null),d=N(0),l=N(!1),m=N(null),O=N({category:null,sort_by:"created_at",sort_order:"desc",page:1,page_size:20}),H=N([{label:"All Categories",value:null}]),_=[{label:"Created Date",value:"created_at"},{label:"Updated Date",value:"updated_at"},{label:"Title",value:"title"},{label:"Author",value:"author"},{label:"Size",value:"size"}],x=[{label:"Newest First",value:"desc"},{label:"Oldest First",value:"asc"}],P=Qr(()=>{O.value.page=1,M()},500);Ie(async()=>{await L(),await M()});const L=async()=>{try{const k=(await oe.getStatistics()).categories||[];H.value=[{label:"All Categories",value:null},...k.map(J=>({label:D(J),value:J}))]}catch(g){console.error("Error loading categories:",g)}},M=async()=>{i.value=!0;try{const g={page:O.value.page,page_size:O.value.page_size,sort_by:O.value.sort_by,sort_order:O.value.sort_order};O.value.category&&(g.category=O.value.category),c.value.trim()&&(g.search=c.value.trim());const k=await oe.listDocuments(g);a.value=k.documents||[],d.value=k.total_count||0}catch(g){console.error("Error loading documents:",g),s.error("Failed to load documents"),a.value=[],d.value=0}finally{i.value=!1}},q=async()=>{O.value.page=1,await M()},U=g=>{O.value.page=g.page+1,M()},E=g=>{n("document-selected",g.data)},A=g=>{m.value=g,l.value=!0},p=g=>{n("document-selected",g)},w=()=>{l.value=!1,n("document-selected",m.value)},y=g=>{s.info("Document download feature coming soon")},$=g=>{r.require({message:`Are you sure you want to delete "${g.title}"?`,header:"Delete Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>I(g),reject:()=>{}})},I=async g=>{try{await oe.deleteDocument(g.id),s.success("Document deleted successfully"),n("document-deleted",g),await M()}catch(k){console.error("Error deleting document:",k),s.error("Failed to delete document")}},D=g=>g?g.charAt(0).toUpperCase()+g.slice(1).replace(/_/g," "):"General",B=g=>g?new Date(g).toLocaleDateString():"Unknown",Q=g=>{if(!g||g===0)return"0 B";const k=1024,J=["B","KB","MB","GB"],F=Math.floor(Math.log(g)/Math.log(k));return parseFloat((g/Math.pow(k,F)).toFixed(2))+" "+J[F]},ce=g=>{const k=g.source||"unknown";return{upload:"pi pi-upload",bulk_import:"pi pi-download",api:"pi pi-cog",system:"pi pi-server"}[k]||"pi pi-file"},re=g=>({active:"Active",archived:"Archived",processing:"Processing",error:"Error"})[g]||"Unknown",Se=g=>({active:"success",archived:"secondary",processing:"warning",error:"danger"})[g]||"secondary",R=g=>({business_process:"category-business",documentation:"category-docs",training:"category-training",policy:"category-policy",general:"category-general"})[g]||"category-general";return(g,k)=>{const J=Jt("tooltip");return v(),S("div",Yr,[o("div",ea,[o("div",ta,[o("div",na,[h(f(Ue),{modelValue:c.value,"onUpdate:modelValue":k[0]||(k[0]=F=>c.value=F),placeholder:"Search documents by name or content...",onInput:f(P),class:"search-input"},null,8,["modelValue","onInput"]),h(f(V),{icon:"pi pi-search",class:"p-button-outlined",onClick:M})])]),o("div",sa,[h(f(be),{modelValue:O.value.category,"onUpdate:modelValue":k[1]||(k[1]=F=>O.value.category=F),options:H.value,"option-label":"label","option-value":"value",placeholder:"Filter by Category",class:"category-filter",onChange:M},null,8,["modelValue","options"]),h(f(be),{modelValue:O.value.sort_by,"onUpdate:modelValue":k[2]||(k[2]=F=>O.value.sort_by=F),options:_,"option-label":"label","option-value":"value",placeholder:"Sort by",class:"sort-filter",onChange:M},null,8,["modelValue"]),h(f(be),{modelValue:O.value.sort_order,"onUpdate:modelValue":k[3]||(k[3]=F=>O.value.sort_order=F),options:x,"option-label":"label","option-value":"value",class:"order-filter",onChange:M},null,8,["modelValue"])]),o("div",oa,[h(f(V),{label:"Refresh",icon:"pi pi-refresh",class:"p-button-outlined",onClick:q,loading:i.value},null,8,["loading"])])]),h(f(zn),{value:a.value,loading:i.value,paginator:!0,rows:O.value.page_size,"total-records":d.value,lazy:!0,onPage:U,"data-key":"id","selection-mode":"single",selection:b.value,"onUpdate:selection":k[5]||(k[5]=F=>b.value=F),onRowSelect:E,class:"document-table","responsive-layout":"scroll"},{empty:T(()=>[o("div",ba,[k[10]||(k[10]=o("div",{class:"empty-icon"},[o("i",{class:"pi pi-file"})],-1)),k[11]||(k[11]=o("h3",null,"No Documents Found",-1)),c.value?(v(),S("p",ya,"No documents match your search criteria")):(v(),S("p",wa,"Your knowledge base is empty")),h(f(V),{label:"Upload Documents",icon:"pi pi-upload",class:"p-button-primary",onClick:k[4]||(k[4]=F=>g.$emit("upload-requested"))})])]),default:T(()=>[h(f(ve),{field:"status",header:"Status",sortable:!1,style:{width:"100px"}},{body:T(({data:F})=>[h(f(pe),{value:re(F.status),severity:Se(F.status),class:"status-badge"},null,8,["value","severity"])]),_:1}),h(f(ve),{field:"title",header:"Document",sortable:!0,style:{"min-width":"300px"}},{body:T(({data:F})=>[o("div",ra,[o("i",{class:Y([ce(F),"doc-icon mr-2"])},null,2),o("div",aa,[o("div",ia,C(F.title||"Untitled Document"),1),o("div",la,[o("span",ca,C(F.source||"Unknown"),1),k[8]||(k[8]=o("span",{class:"separator"},"•",-1)),o("span",da,C(Q(F.size)),1)])])])]),_:1}),h(f(ve),{field:"category",header:"Category",sortable:!0,style:{width:"150px"}},{body:T(({data:F})=>[h(f(Z),{label:D(F.category),class:Y([R(F.category),"category-chip"])},null,8,["label","class"])]),_:1}),h(f(ve),{field:"tags",header:"Tags",sortable:!1,style:{"min-width":"200px"}},{body:T(({data:F})=>[F.tags&&F.tags.length>0?(v(),S("div",ua,[(v(!0),S(ne,null,se(F.tags.slice(0,2),me=>(v(),G(f(Z),{key:me,label:me,class:"tag-chip"},null,8,["label"]))),128)),F.tags.length>2?(v(),S("span",pa," +"+C(F.tags.length-2),1)):z("",!0)])):(v(),S("span",fa,"No tags"))]),_:1}),h(f(ve),{field:"author",header:"Author",sortable:!0,style:{width:"150px"}},{body:T(({data:F})=>[o("div",ma,[k[9]||(k[9]=o("i",{class:"pi pi-user mr-1"},null,-1)),W(" "+C(F.author||"Unknown"),1)])]),_:1}),h(f(ve),{field:"created_at",header:"Created",sortable:!0,style:{width:"120px"}},{body:T(({data:F})=>[o("div",ha,C(B(F.created_at)),1)]),_:1}),h(f(ve),{field:"updated_at",header:"Updated",sortable:!0,style:{width:"120px"}},{body:T(({data:F})=>[o("div",va,C(B(F.updated_at)),1)]),_:1}),h(f(ve),{field:"version",header:"Version",sortable:!0,style:{width:"100px"}},{body:T(({data:F})=>[h(f(pe),{value:`v${F.version||1}`,severity:"info",class:"version-badge"},null,8,["value"])]),_:1}),h(f(ve),{header:"Actions",sortable:!1,style:{width:"180px"}},{body:T(({data:F})=>[o("div",ga,[Pe(h(f(V),{icon:"pi pi-eye",class:"p-button-rounded p-button-text p-button-sm",onClick:me=>A(F)},null,8,["onClick"]),[[J,"View"]]),Pe(h(f(V),{icon:"pi pi-pencil",class:"p-button-rounded p-button-text p-button-sm",onClick:me=>p(F)},null,8,["onClick"]),[[J,"Edit"]]),Pe(h(f(V),{icon:"pi pi-download",class:"p-button-rounded p-button-text p-button-sm",onClick:me=>y(F)},null,8,["onClick"]),[[J,"Download"]]),Pe(h(f(V),{icon:"pi pi-trash",class:"p-button-rounded p-button-text p-button-sm p-button-danger",onClick:me=>$(F)},null,8,["onClick"]),[[J,"Delete"]])])]),_:1})]),_:1},8,["value","loading","rows","total-records","selection"]),h(f(Xt)),h(f(gt),{visible:l.value,"onUpdate:visible":k[7]||(k[7]=F=>l.value=F),header:m.value?.title||"Document Preview",style:{width:"80vw",height:"80vh"},modal:!0,draggable:!1,class:"preview-dialog"},{footer:T(()=>[o("div",Ra,[h(f(V),{label:"Edit Document",icon:"pi pi-pencil",class:"p-button-primary",onClick:w}),h(f(V),{label:"Close",icon:"pi pi-times",class:"p-button-outlined",onClick:k[6]||(k[6]=F=>l.value=!1)})])]),default:T(()=>[m.value?(v(),S("div",_a,[o("div",$a,[o("div",ka,[o("div",Ca,[k[12]||(k[12]=o("label",null,"Category:",-1)),h(f(Z),{label:D(m.value.category)},null,8,["label"])]),o("div",Sa,[k[13]||(k[13]=o("label",null,"Author:",-1)),o("span",null,C(m.value.author),1)]),o("div",Aa,[k[14]||(k[14]=o("label",null,"Created:",-1)),o("span",null,C(B(m.value.created_at)),1)]),o("div",Pa,[k[15]||(k[15]=o("label",null,"Version:",-1)),h(f(pe),{value:`v${m.value.version}`,severity:"info"},null,8,["value"])])]),m.value.tags?.length?(v(),S("div",Ta,[k[16]||(k[16]=o("label",null,"Tags:",-1)),o("div",Da,[(v(!0),S(ne,null,se(m.value.tags,F=>(v(),G(f(Z),{key:F,label:F,class:"tag-chip"},null,8,["label"]))),128))])])):z("",!0)]),k[18]||(k[18]=o("div",{class:"preview-divider"},null,-1)),o("div",Ea,[k[17]||(k[17]=o("h4",null,"Content Preview:",-1)),o("div",xa,C(m.value.content||"No content available"),1)])])):z("",!0)]),_:1},8,["visible","header"])])}}},Fa=_e(Oa,[["__scopeId","data-v-d4b56484"]]);var Ua=`
    .p-progressbar {
        display: block;
        position: relative;
        overflow: hidden;
        height: dt('progressbar.height');
        background: dt('progressbar.background');
        border-radius: dt('progressbar.border.radius');
    }

    .p-progressbar-value {
        margin: 0;
        background: dt('progressbar.value.background');
    }

    .p-progressbar-label {
        color: dt('progressbar.label.color');
        font-size: dt('progressbar.label.font.size');
        font-weight: dt('progressbar.label.font.weight');
    }

    .p-progressbar-determinate .p-progressbar-value {
        height: 100%;
        width: 0%;
        position: absolute;
        display: none;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        transition: width 1s ease-in-out;
    }

    .p-progressbar-determinate .p-progressbar-label {
        display: inline-flex;
    }

    .p-progressbar-indeterminate .p-progressbar-value::before {
        content: '';
        position: absolute;
        background: inherit;
        inset-block-start: 0;
        inset-inline-start: 0;
        inset-block-end: 0;
        will-change: inset-inline-start, inset-inline-end;
        animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    }

    .p-progressbar-indeterminate .p-progressbar-value::after {
        content: '';
        position: absolute;
        background: inherit;
        inset-block-start: 0;
        inset-inline-start: 0;
        inset-block-end: 0;
        will-change: inset-inline-start, inset-inline-end;
        animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
        animation-delay: 1.15s;
    }

    @keyframes p-progressbar-indeterminate-anim {
        0% {
            inset-inline-start: -35%;
            inset-inline-end: 100%;
        }
        60% {
            inset-inline-start: 100%;
            inset-inline-end: -90%;
        }
        100% {
            inset-inline-start: 100%;
            inset-inline-end: -90%;
        }
    }
    @-webkit-keyframes p-progressbar-indeterminate-anim {
        0% {
            inset-inline-start: -35%;
            inset-inline-end: 100%;
        }
        60% {
            inset-inline-start: 100%;
            inset-inline-end: -90%;
        }
        100% {
            inset-inline-start: 100%;
            inset-inline-end: -90%;
        }
    }

    @keyframes p-progressbar-indeterminate-anim-short {
        0% {
            inset-inline-start: -200%;
            inset-inline-end: 100%;
        }
        60% {
            inset-inline-start: 107%;
            inset-inline-end: -8%;
        }
        100% {
            inset-inline-start: 107%;
            inset-inline-end: -8%;
        }
    }
    @-webkit-keyframes p-progressbar-indeterminate-anim-short {
        0% {
            inset-inline-start: -200%;
            inset-inline-end: 100%;
        }
        60% {
            inset-inline-start: 107%;
            inset-inline-end: -8%;
        }
        100% {
            inset-inline-start: 107%;
            inset-inline-end: -8%;
        }
    }
`,Ia={root:function(t){var n=t.instance;return["p-progressbar p-component",{"p-progressbar-determinate":n.determinate,"p-progressbar-indeterminate":n.indeterminate}]},value:"p-progressbar-value",label:"p-progressbar-label"},Ba=ye.extend({name:"progressbar",style:Ua,classes:Ia}),Ma={name:"BaseProgressBar",extends:we,props:{value:{type:Number,default:null},mode:{type:String,default:"determinate"},showValue:{type:Boolean,default:!0}},style:Ba,provide:function(){return{$pcProgressBar:this,$parentInstance:this}}},et={name:"ProgressBar",extends:Ma,inheritAttrs:!1,computed:{progressStyle:function(){return{width:this.value+"%",display:"flex"}},indeterminate:function(){return this.mode==="indeterminate"},determinate:function(){return this.mode==="determinate"},dataP:function(){return vt({determinate:this.determinate,indeterminate:this.indeterminate})}}},Na=["aria-valuenow","data-p"],La=["data-p"],ja=["data-p"],za=["data-p"];function Va(e,t,n,s,r,a){return v(),S("div",K({role:"progressbar",class:e.cx("root"),"aria-valuemin":"0","aria-valuenow":e.value,"aria-valuemax":"100","data-p":a.dataP},e.ptmi("root")),[a.determinate?(v(),S("div",K({key:0,class:e.cx("value"),style:a.progressStyle,"data-p":a.dataP},e.ptm("value")),[e.value!=null&&e.value!==0&&e.showValue?(v(),S("div",K({key:0,class:e.cx("label"),"data-p":a.dataP},e.ptm("label")),[ue(e.$slots,"default",{},function(){return[W(C(e.value+"%"),1)]})],16,ja)):z("",!0)],16,La)):a.indeterminate?(v(),S("div",K({key:1,class:e.cx("value"),"data-p":a.dataP},e.ptm("value")),null,16,za)):z("",!0)],16,Na)}et.render=Va;const Ha={class:"rag-analytics"},qa={class:"overview-cards"},Ka={class:"trend-indicator"},Wa={class:"progress-info"},Ga={class:"progress-text"},Ja={class:"trend-indicator"},Xa={class:"embedding-status"},Za={class:"charts-row"},Qa={class:"chart-container"},Ya={class:"category-legend"},ei={class:"legend-label"},ti={class:"legend-value"},ni={class:"chart-container"},si={class:"activity-summary"},oi={class:"summary-item"},ri={class:"value"},ai={class:"summary-item"},ii={class:"value"},li={class:"detailed-stats"},ci={class:"stats-grid"},di={class:"stat-item"},ui={class:"stat-value"},pi={class:"stat-item"},fi={class:"stat-value"},mi={class:"stat-item"},hi={class:"stat-value"},vi={class:"stat-item"},gi={class:"stat-value"},bi={class:"health-indicators"},yi={class:"health-item"},wi={class:"health-item"},_i={class:"health-item"},$i={class:"health-item"},ki={class:"activity-list"},Ci={class:"activity-icon"},Si={class:"activity-content"},Ai={class:"activity-message"},Pi={class:"activity-time"},Ti={class:"activity-status"},Di={__name:"RAGAnalytics",props:{statistics:{type:Object,default:null}},setup(e){const t=e,n=N(null),s=N(null),r=N({total_searches:1247,avg_response_time:89,cache_hit_rate:85,successful_queries:1198,failed_queries:49}),a=Ae(()=>t.statistics?.embedding_status||{completed:0,processing:0,failed:0}),i=Ae(()=>{const A=a.value.completed+a.value.processing+a.value.failed;if(A===0)return"No Data";const p=a.value.completed/A*100;return p>=95?"Excellent":p>=85?"Good":p>=70?"Fair":"Needs Attention"}),c=Ae(()=>{const A=i.value;return A==="Excellent"?"success":A==="Good"?"info":A==="Fair"?"warning":"danger"}),b=Ae(()=>{const A=t.statistics?.total_size_mb||0,p=10*1024;return Math.round(A/p*100)}),d=Ae(()=>(t.statistics?.categories||[]).map(p=>({name:P(p),count:Math.floor(Math.random()*100)+10}))),l=N("March 15th"),m=N(156),O=N([{id:1,type:"upload",message:'New document uploaded: "Project Requirements v2.pdf"',timestamp:new Date(Date.now()-5*6e4),status:"completed"},{id:2,type:"search",message:'Search query executed: "user authentication process"',timestamp:new Date(Date.now()-12*6e4),status:"completed"},{id:3,type:"reindex",message:"Knowledge base reindexing started",timestamp:new Date(Date.now()-25*6e4),status:"processing"},{id:4,type:"bulk_import",message:"Bulk import completed: 23 documents processed",timestamp:new Date(Date.now()-45*6e4),status:"completed"},{id:5,type:"delete",message:'Document deleted: "Obsolete Process v1.0"',timestamp:new Date(Date.now()-62*6e4),status:"completed"}]);Ie(async()=>{await On(),H()});const H=()=>{_(),x()},_=()=>{if(!n.value||d.value.length===0)return;const A=n.value.getContext("2d");new St(A,{type:"doughnut",data:{labels:d.value.map(p=>p.name),datasets:[{data:d.value.map(p=>p.count),backgroundColor:d.value.map((p,w)=>L(w)),borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},cutout:"60%"}})},x=()=>{if(!s.value)return;const A=s.value.getContext("2d"),p=[],w=[];for(let y=29;y>=0;y--){const $=new Date;$.setDate($.getDate()-y),p.push($.toLocaleDateString("en-US",{month:"short",day:"numeric"})),w.push(Math.floor(Math.random()*20)+5)}new St(A,{type:"line",data:{labels:p,datasets:[{label:"Documents Uploaded",data:w,borderColor:"#667eea",backgroundColor:"rgba(102, 126, 234, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#667eea",pointBorderColor:"#ffffff",pointBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.1)"}},x:{grid:{display:!1}}}}})},P=A=>A.split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "),L=A=>{const p=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7"];return p[A%p.length]},M=A=>({upload:"pi pi-upload",search:"pi pi-search",reindex:"pi pi-refresh",bulk_import:"pi pi-download",delete:"pi pi-trash",edit:"pi pi-pencil"})[A]||"pi pi-info-circle",q=A=>({upload:"#28a745",search:"#007bff",reindex:"#ffc107",bulk_import:"#17a2b8",delete:"#dc3545",edit:"#6c757d"})[A]||"#6c757d",U=A=>({completed:"success",processing:"warning",failed:"danger",pending:"info"})[A]||"secondary",E=A=>{const w=Math.floor((new Date-A)/1e3);return w<60?`${w}s ago`:w<3600?`${Math.floor(w/60)}m ago`:w<86400?`${Math.floor(w/3600)}h ago`:`${Math.floor(w/86400)}d ago`};return(A,p)=>(v(),S("div",Ha,[o("div",qa,[h(f(ae),{class:"analytics-card"},{header:T(()=>[...p[0]||(p[0]=[o("div",{class:"card-icon primary"},[o("i",{class:"pi pi-database"})],-1)])]),title:T(()=>[W(C(e.statistics?.total_documents||0),1)]),subtitle:T(()=>[...p[1]||(p[1]=[W("Total Documents",-1)])]),content:T(()=>[o("div",Ka,[p[2]||(p[2]=o("i",{class:"pi pi-arrow-up trend-up"},null,-1)),o("span",null,"+"+C(Math.floor(Math.random()*50)+10)+"% this month",1)])]),_:1}),h(f(ae),{class:"analytics-card"},{header:T(()=>[...p[3]||(p[3]=[o("div",{class:"card-icon success"},[o("i",{class:"pi pi-chart-line"})],-1)])]),title:T(()=>[W(C((e.statistics?.total_size_mb||0).toFixed(1))+" MB",1)]),subtitle:T(()=>[...p[4]||(p[4]=[W("Storage Used",-1)])]),content:T(()=>[o("div",Wa,[h(f(et),{value:b.value,class:"storage-progress"},null,8,["value"]),o("span",Ga,C(b.value)+"% of 10 GB",1)])]),_:1}),h(f(ae),{class:"analytics-card"},{header:T(()=>[...p[5]||(p[5]=[o("div",{class:"card-icon info"},[o("i",{class:"pi pi-search"})],-1)])]),title:T(()=>[W(C(r.value.total_searches||0),1)]),subtitle:T(()=>[...p[6]||(p[6]=[W("Total Searches",-1)])]),content:T(()=>[o("div",Ja,[p[7]||(p[7]=o("i",{class:"pi pi-arrow-up trend-up"},null,-1)),o("span",null,C(r.value.avg_response_time||0)+"ms avg response",1)])]),_:1}),h(f(ae),{class:"analytics-card"},{header:T(()=>[...p[8]||(p[8]=[o("div",{class:"card-icon warning"},[o("i",{class:"pi pi-eye"})],-1)])]),title:T(()=>[W(C(a.value.completed||0),1)]),subtitle:T(()=>[...p[9]||(p[9]=[W("Documents Indexed",-1)])]),content:T(()=>[o("div",Xa,[h(f(pe),{value:i.value,severity:c.value,class:"health-badge"},null,8,["value","severity"])])]),_:1})]),o("div",Za,[h(f(ae),{class:"chart-card"},{title:T(()=>[...p[10]||(p[10]=[W("Document Categories",-1)])]),content:T(()=>[o("div",Qa,[o("canvas",{ref_key:"categoriesChart",ref:n,width:"400",height:"300"},null,512)]),o("div",Ya,[(v(!0),S(ne,null,se(d.value,(w,y)=>(v(),S("div",{key:w.name,class:"legend-item"},[o("div",{class:"legend-color",style:it({backgroundColor:L(y)})},null,4),o("span",ei,C(w.name),1),o("span",ti,C(w.count),1)]))),128))])]),_:1}),h(f(ae),{class:"chart-card"},{title:T(()=>[...p[11]||(p[11]=[W("Upload Activity (Last 30 Days)",-1)])]),content:T(()=>[o("div",ni,[o("canvas",{ref_key:"activityChart",ref:s,width:"400",height:"300"},null,512)]),o("div",si,[o("div",oi,[p[12]||(p[12]=o("span",{class:"label"},"Peak Day:",-1)),o("span",ri,C(l.value),1)]),o("div",ai,[p[13]||(p[13]=o("span",{class:"label"},"Total Uploads:",-1)),o("span",ii,C(m.value),1)])])]),_:1})]),o("div",li,[h(f(ae),{class:"stats-card"},{title:T(()=>[...p[14]||(p[14]=[W("Search Performance",-1)])]),content:T(()=>[o("div",ci,[o("div",di,[o("div",ui,C(r.value.avg_response_time||0)+"ms",1),p[15]||(p[15]=o("div",{class:"stat-label"},"Average Response Time",-1))]),o("div",pi,[o("div",fi,C(r.value.cache_hit_rate||0)+"%",1),p[16]||(p[16]=o("div",{class:"stat-label"},"Cache Hit Rate",-1))]),o("div",mi,[o("div",hi,C(r.value.successful_queries||0),1),p[17]||(p[17]=o("div",{class:"stat-label"},"Successful Queries",-1))]),o("div",vi,[o("div",gi,C(r.value.failed_queries||0),1),p[18]||(p[18]=o("div",{class:"stat-label"},"Failed Queries",-1))])])]),_:1}),h(f(ae),{class:"stats-card"},{title:T(()=>[...p[19]||(p[19]=[W("System Health",-1)])]),content:T(()=>[o("div",bi,[o("div",yi,[p[20]||(p[20]=o("div",{class:"health-label"},"Vector Database",-1)),h(f(pe),{value:"Healthy",severity:"success",class:"health-badge"})]),o("div",wi,[p[21]||(p[21]=o("div",{class:"health-label"},"Embedding Service",-1)),h(f(pe),{value:"Operational",severity:"success",class:"health-badge"})]),o("div",_i,[p[22]||(p[22]=o("div",{class:"health-label"},"Search Engine",-1)),h(f(pe),{value:"Online",severity:"success",class:"health-badge"})]),o("div",$i,[p[23]||(p[23]=o("div",{class:"health-label"},"Document Processing",-1)),h(f(pe),{value:"Ready",severity:"success",class:"health-badge"})])])]),_:1})]),h(f(ae),{class:"activity-card"},{title:T(()=>[...p[24]||(p[24]=[W("Recent Activity",-1)])]),content:T(()=>[o("div",ki,[(v(!0),S(ne,null,se(O.value,w=>(v(),S("div",{key:w.id,class:"activity-item"},[o("div",Ci,[o("i",{class:Y(M(w.type)),style:it({color:q(w.type)})},null,6)]),o("div",Si,[o("div",Ai,C(w.message),1),o("div",Pi,C(E(w.timestamp)),1)]),o("div",Ti,[h(f(pe),{value:w.status,severity:U(w.status),class:"activity-badge"},null,8,["value","severity"])])]))),128))])]),_:1})]))}},Ei=_e(Di,[["__scopeId","data-v-f959caa2"]]);var _t={name:"ChevronUpIcon",extends:Wt};function xi(e){return Ui(e)||Fi(e)||Oi(e)||Ri()}function Ri(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oi(e,t){if(e){if(typeof e=="string")return ht(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(e,t):void 0}}function Fi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ui(e){if(Array.isArray(e))return ht(e)}function ht(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function Ii(e,t,n,s,r,a){return v(),S("svg",K({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),xi(t[0]||(t[0]=[o("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"},null,-1)])),16)}_t.render=Ii;var Bi={root:"p-accordioncontent",content:"p-accordioncontent-content"},Mi=ye.extend({name:"accordioncontent",classes:Bi}),Ni={name:"BaseAccordionContent",extends:we,props:{as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:Mi,provide:function(){return{$pcAccordionContent:this,$parentInstance:this}}},Tn={name:"AccordionContent",extends:Ni,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],computed:{id:function(){return"".concat(this.$pcAccordion.$id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},ariaLabelledby:function(){return"".concat(this.$pcAccordion.$id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},attrs:function(){return K(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{id:this.id,role:"region","aria-labelledby":this.ariaLabelledby,"data-pc-name":"accordioncontent","data-p-active":this.$pcAccordionPanel.active}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}}}};function Li(e,t,n,s,r,a){return e.asChild?ue(e.$slots,"default",{key:1,class:Y(e.cx("root")),active:a.$pcAccordionPanel.active,a11yAttrs:a.a11yAttrs}):(v(),G(Un,K({key:0,name:"p-toggleable-content"},e.ptm("transition",a.ptParams)),{default:T(function(){return[!a.$pcAccordion.lazy||a.$pcAccordionPanel.active?Pe((v(),G(de(e.as),K({key:0,class:e.cx("root")},a.attrs),{default:T(function(){return[o("div",K({class:e.cx("content")},e.ptm("content",a.ptParams)),[ue(e.$slots,"default")],16)]}),_:3},16,["class"])),[[Fn,a.$pcAccordion.lazy?!0:a.$pcAccordionPanel.active]]):z("",!0)]}),_:3},16))}Tn.render=Li;var ji={root:"p-accordionheader",toggleicon:"p-accordionheader-toggle-icon"},zi=ye.extend({name:"accordionheader",classes:ji}),Vi={name:"BaseAccordionHeader",extends:we,props:{as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:zi,provide:function(){return{$pcAccordionHeader:this,$parentInstance:this}}},Dn={name:"AccordionHeader",extends:Vi,inheritAttrs:!1,inject:["$pcAccordion","$pcAccordionPanel"],methods:{onFocus:function(){this.$pcAccordion.selectOnFocus&&this.changeActiveValue()},onClick:function(){!this.$pcAccordion.selectOnFocus&&this.changeActiveValue()},onKeydown:function(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(t);break}},onArrowDownKey:function(t){var n=this.findNextPanel(this.findPanel(t.currentTarget));n?this.changeFocusedPanel(t,n):this.onHomeKey(t),t.preventDefault()},onArrowUpKey:function(t){var n=this.findPrevPanel(this.findPanel(t.currentTarget));n?this.changeFocusedPanel(t,n):this.onEndKey(t),t.preventDefault()},onHomeKey:function(t){var n=this.findFirstPanel();this.changeFocusedPanel(t,n),t.preventDefault()},onEndKey:function(t){var n=this.findLastPanel();this.changeFocusedPanel(t,n),t.preventDefault()},onEnterKey:function(t){this.changeActiveValue(),t.preventDefault()},findPanel:function(t){return t?.closest('[data-pc-name="accordionpanel"]')},findHeader:function(t){return Mn(t,'[data-pc-name="accordionheader"]')},findNextPanel:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=n?t:t.nextElementSibling;return s?At(s,"data-p-disabled")?this.findNextPanel(s):this.findHeader(s):null},findPrevPanel:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=n?t:t.previousElementSibling;return s?At(s,"data-p-disabled")?this.findPrevPanel(s):this.findHeader(s):null},findFirstPanel:function(){return this.findNextPanel(this.$pcAccordion.$el.firstElementChild,!0)},findLastPanel:function(){return this.findPrevPanel(this.$pcAccordion.$el.lastElementChild,!0)},changeActiveValue:function(){this.$pcAccordion.updateValue(this.$pcAccordionPanel.value)},changeFocusedPanel:function(t,n){Bn(this.findHeader(n))}},computed:{id:function(){return"".concat(this.$pcAccordion.$id,"_accordionheader_").concat(this.$pcAccordionPanel.value)},ariaControls:function(){return"".concat(this.$pcAccordion.$id,"_accordioncontent_").concat(this.$pcAccordionPanel.value)},attrs:function(){return K(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.$pcAccordionPanel.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.$pcAccordion.tabindex,"aria-expanded":this.$pcAccordionPanel.active,"aria-controls":this.ariaControls,"data-pc-name":"accordionheader","data-p-disabled":this.$pcAccordionPanel.disabled,"data-p-active":this.$pcAccordionPanel.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.$pcAccordionPanel.active}}},dataP:function(){return vt({active:this.$pcAccordionPanel.active})}},components:{ChevronUpIcon:_t,ChevronDownIcon:Vn},directives:{ripple:In}};function Hi(e,t,n,s,r,a){var i=Jt("ripple");return e.asChild?ue(e.$slots,"default",{key:1,class:Y(e.cx("root")),active:a.$pcAccordionPanel.active,a11yAttrs:a.a11yAttrs,onClick:a.onClick}):Pe((v(),G(de(e.as),K({key:0,"data-p":a.dataP,class:e.cx("root"),onClick:a.onClick},a.attrs),{default:T(function(){return[ue(e.$slots,"default",{active:a.$pcAccordionPanel.active}),ue(e.$slots,"toggleicon",{active:a.$pcAccordionPanel.active,class:Y(e.cx("toggleicon"))},function(){return[a.$pcAccordionPanel.active?(v(),G(de(a.$pcAccordion.$slots.collapseicon?a.$pcAccordion.$slots.collapseicon:a.$pcAccordion.collapseIcon?"span":"ChevronUpIcon"),K({key:0,class:[a.$pcAccordion.collapseIcon,e.cx("toggleicon")],"aria-hidden":"true"},e.ptm("toggleicon",a.ptParams)),null,16,["class"])):(v(),G(de(a.$pcAccordion.$slots.expandicon?a.$pcAccordion.$slots.expandicon:a.$pcAccordion.expandIcon?"span":"ChevronDownIcon"),K({key:1,class:[a.$pcAccordion.expandIcon,e.cx("toggleicon")],"aria-hidden":"true"},e.ptm("toggleicon",a.ptParams)),null,16,["class"]))]})]}),_:3},16,["data-p","class","onClick"])),[[i]])}Dn.render=Hi;var qi={root:function(t){var n=t.instance,s=t.props;return["p-accordionpanel",{"p-accordionpanel-active":n.active,"p-disabled":s.disabled}]}},Ki=ye.extend({name:"accordionpanel",classes:qi}),Wi={name:"BaseAccordionPanel",extends:we,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1}},style:Ki,provide:function(){return{$pcAccordionPanel:this,$parentInstance:this}}},En={name:"AccordionPanel",extends:Wi,inheritAttrs:!1,inject:["$pcAccordion"],computed:{active:function(){return this.$pcAccordion.isItemActive(this.value)},attrs:function(){return K(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){return{"data-pc-name":"accordionpanel","data-p-disabled":this.disabled,"data-p-active":this.active}},ptParams:function(){return{context:{active:this.active}}}}};function Gi(e,t,n,s,r,a){return e.asChild?ue(e.$slots,"default",{key:1,class:Y(e.cx("root")),active:a.active,a11yAttrs:a.a11yAttrs}):(v(),G(de(e.as),K({key:0,class:e.cx("root")},a.attrs),{default:T(function(){return[ue(e.$slots,"default")]}),_:3},16,["class"]))}En.render=Gi;var Ji=`
    .p-accordionpanel {
        display: flex;
        flex-direction: column;
        border-style: solid;
        border-width: dt('accordion.panel.border.width');
        border-color: dt('accordion.panel.border.color');
    }

    .p-accordionheader {
        all: unset;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: dt('accordion.header.padding');
        color: dt('accordion.header.color');
        background: dt('accordion.header.background');
        border-style: solid;
        border-width: dt('accordion.header.border.width');
        border-color: dt('accordion.header.border.color');
        font-weight: dt('accordion.header.font.weight');
        border-radius: dt('accordion.header.border.radius');
        transition:
            background dt('accordion.transition.duration'),
            color dt('accordion.transition.duration'),
            outline-color dt('accordion.transition.duration'),
            box-shadow dt('accordion.transition.duration');
        outline-color: transparent;
    }

    .p-accordionpanel:first-child > .p-accordionheader {
        border-width: dt('accordion.header.first.border.width');
        border-start-start-radius: dt('accordion.header.first.top.border.radius');
        border-start-end-radius: dt('accordion.header.first.top.border.radius');
    }

    .p-accordionpanel:last-child > .p-accordionheader {
        border-end-start-radius: dt('accordion.header.last.bottom.border.radius');
        border-end-end-radius: dt('accordion.header.last.bottom.border.radius');
    }

    .p-accordionpanel:last-child.p-accordionpanel-active > .p-accordionheader {
        border-end-start-radius: dt('accordion.header.last.active.bottom.border.radius');
        border-end-end-radius: dt('accordion.header.last.active.bottom.border.radius');
    }

    .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.color');
    }

    .p-accordionpanel:not(.p-disabled) .p-accordionheader:focus-visible {
        box-shadow: dt('accordion.header.focus.ring.shadow');
        outline: dt('accordion.header.focus.ring.width') dt('accordion.header.focus.ring.style') dt('accordion.header.focus.ring.color');
        outline-offset: dt('accordion.header.focus.ring.offset');
    }

    .p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) > .p-accordionheader:hover {
        background: dt('accordion.header.hover.background');
        color: dt('accordion.header.hover.color');
    }

    .p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) .p-accordionheader:hover .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.hover.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader {
        background: dt('accordion.header.active.background');
        color: dt('accordion.header.active.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.active.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover {
        background: dt('accordion.header.active.hover.background');
        color: dt('accordion.header.active.hover.color');
    }

    .p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover .p-accordionheader-toggle-icon {
        color: dt('accordion.header.toggle.icon.active.hover.color');
    }

    .p-accordioncontent-content {
        border-style: solid;
        border-width: dt('accordion.content.border.width');
        border-color: dt('accordion.content.border.color');
        background-color: dt('accordion.content.background');
        color: dt('accordion.content.color');
        padding: dt('accordion.content.padding');
    }
`,Xi={root:"p-accordion p-component"},Zi=ye.extend({name:"accordion",style:Ji,classes:Xi}),Qi={name:"BaseAccordion",extends:we,props:{value:{type:[String,Number,Array],default:void 0},multiple:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},activeIndex:{type:[Number,Array],default:null}},style:Zi,provide:function(){return{$pcAccordion:this,$parentInstance:this}}},$t={name:"Accordion",extends:Qi,inheritAttrs:!1,emits:["update:value","update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{d_value:this.value}},watch:{value:function(t){this.d_value=t},activeIndex:{immediate:!0,handler:function(t){this.hasAccordionTab&&(this.d_value=this.multiple?t?.map(String):t?.toString())}}},methods:{isItemActive:function(t){var n;return this.multiple?(n=this.d_value)===null||n===void 0?void 0:n.includes(t):this.d_value===t},updateValue:function(t){var n,s=this.isItemActive(t);this.multiple?s?this.d_value=this.d_value.filter(function(r){return r!==t}):this.d_value?this.d_value.push(t):this.d_value=[t]:this.d_value=s?null:t,this.$emit("update:value",this.d_value),this.$emit("update:activeIndex",this.multiple?(n=this.d_value)===null||n===void 0?void 0:n.map(Number):Number(this.d_value)),this.$emit(s?"tab-close":"tab-open",{originalEvent:void 0,index:Number(t)})},isAccordionTab:function(t){return t.type.name==="AccordionTab"},getTabProp:function(t,n){return t.props?t.props[n]:void 0},getKey:function(t,n){return this.getTabProp(t,"header")||n},getHeaderPT:function(t,n){var s=this;return{root:K({onClick:function(a){return s.onTabClick(a,n)}},this.getTabProp(t,"headerProps"),this.getTabPT(t,"header",n)),toggleicon:K(this.getTabProp(t,"headeractionprops"),this.getTabPT(t,"headeraction",n))}},getContentPT:function(t,n){return{root:K(this.getTabProp(t,"contentProps"),this.getTabPT(t,"toggleablecontent",n)),transition:this.getTabPT(t,"transition",n),content:this.getTabPT(t,"content",n)}},getTabPT:function(t,n,s){var r=this.tabs.length,a={props:t.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:s,count:r,first:s===0,last:s===r-1,active:this.isItemActive("".concat(s))}};return K(this.ptm("accordiontab.".concat(n),a),this.ptmo(this.getTabProp(t,"pt"),n,a))},onTabClick:function(t,n){this.$emit("tab-click",{originalEvent:t,index:n})}},computed:{tabs:function(){var t=this;return this.$slots.default().reduce(function(n,s){return t.isAccordionTab(s)?n.push(s):s.children&&s.children instanceof Array&&s.children.forEach(function(r){t.isAccordionTab(r)&&n.push(r)}),n},[])},hasAccordionTab:function(){return this.tabs.length}},components:{AccordionPanel:En,AccordionHeader:Dn,AccordionContent:Tn,ChevronUpIcon:_t,ChevronRightIcon:Hn}};function Yi(e,t,n,s,r,a){var i=tt("AccordionHeader"),c=tt("AccordionContent"),b=tt("AccordionPanel");return v(),S("div",K({class:e.cx("root")},e.ptmi("root")),[a.hasAccordionTab?(v(!0),S(ne,{key:0},se(a.tabs,function(d,l){return v(),G(b,{key:a.getKey(d,l),value:"".concat(l),pt:{root:a.getTabPT(d,"root",l)},disabled:a.getTabProp(d,"disabled")},{default:T(function(){return[h(i,{class:Y(a.getTabProp(d,"headerClass")),pt:a.getHeaderPT(d,l)},{toggleicon:T(function(m){return[m.active?(v(),G(de(e.$slots.collapseicon?e.$slots.collapseicon:e.collapseIcon?"span":"ChevronDownIcon"),K({key:0,class:[e.collapseIcon,m.class],"aria-hidden":"true"},{ref_for:!0},a.getTabPT(d,"headericon",l)),null,16,["class"])):(v(),G(de(e.$slots.expandicon?e.$slots.expandicon:e.expandIcon?"span":"ChevronUpIcon"),K({key:1,class:[e.expandIcon,m.class],"aria-hidden":"true"},{ref_for:!0},a.getTabPT(d,"headericon",l)),null,16,["class"]))]}),default:T(function(){return[d.children&&d.children.headericon?(v(),G(de(d.children.headericon),{key:0,isTabActive:a.isItemActive("".concat(l)),active:a.isItemActive("".concat(l)),index:l},null,8,["isTabActive","active","index"])):z("",!0),d.props&&d.props.header?(v(),S("span",K({key:1,ref_for:!0},a.getTabPT(d,"headertitle",l)),C(d.props.header),17)):z("",!0),d.children&&d.children.header?(v(),G(de(d.children.header),{key:2})):z("",!0)]}),_:2},1032,["class","pt"]),h(c,{pt:a.getContentPT(d,l)},{default:T(function(){return[(v(),G(de(d)))]}),_:2},1032,["pt"])]}),_:2},1032,["value","pt","disabled"])}),128)):ue(e.$slots,"default",{key:1})],16)}$t.render=Yi;var el=ye.extend({name:"accordiontab"}),tl={name:"BaseAccordionTab",extends:we,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:el,provide:function(){return{$pcAccordionTab:this,$parentInstance:this}}},kt={name:"AccordionTab",extends:tl,inheritAttrs:!1,mounted:function(){console.warn("Deprecated since v4. Use the new structure of Accordion instead.")}};function nl(e,t,n,s,r,a){return ue(e.$slots,"default")}kt.render=nl;const sl={class:"upload-content"},ol={key:0,class:"upload-empty"},rl={class:"supported-formats"},al={class:"format-chips"},il={key:1,class:"upload-files"},ll={class:"files-header"},cl={class:"files-list"},dl={class:"file-info"},ul={class:"file-details"},pl={class:"file-name"},fl={class:"file-meta"},ml={class:"file-actions"},hl={key:0,class:"upload-options"},vl={class:"settings-grid"},gl={class:"setting-group"},bl={class:"setting-group"},yl={class:"setting-group"},wl={class:"checkbox-group"},_l={class:"checkbox-item"},$l={class:"checkbox-item"},kl={key:1,class:"upload-progress"},Cl={class:"progress-header"},Sl={class:"progress-stats"},Al={key:0,class:"current-file"},Pl={class:"upload-results"},Tl={key:0,class:"success-files"},Dl={key:1,class:"failed-files"},El={class:"dialog-actions"},xl={__name:"RAGUploadDialog",props:{visible:{type:Boolean,default:!1}},emits:["update:visible","upload-complete"],setup(e,{emit:t}){const n=e,s=t,r=Ge(),a=N([]),i=N(!1),c=N(!1),b=N(null),d=Oe({category:null,tags:"",auto_category:!0,extract_metadata:!0}),l=Oe({total:0,completed:0,percentage:0,currentFile:"",successful:[],failed:[]}),m=[{label:"Auto-detect",value:null},{label:"Business Process",value:"business_process"},{label:"Documentation",value:"documentation"},{label:"Training Material",value:"training"},{label:"Policy",value:"policy"},{label:"General",value:"general"}];Fe(()=>n.visible,p=>{p||O()});const O=()=>{a.value=[],i.value=!1,c.value=!1,d.category=null,d.tags="",d.auto_category=!0,d.extract_metadata=!0,Object.assign(l,{total:0,completed:0,percentage:0,currentFile:"",successful:[],failed:[]})},H=()=>{b.value?.click()},_=p=>{const w=Array.from(p.target.files);P(w),p.target.value=""},x=p=>{p.preventDefault(),i.value=!1;const w=Array.from(p.dataTransfer.files);P(w)},P=p=>{const y=p.filter($=>[".pdf",".docx",".txt",".md",".html"].some(B=>$.name.toLowerCase().endsWith(B))?$.size>52428800?(r.warning(`${$.name} - File size exceeds 50MB limit`),!1):!0:(r.warning(`${$.name} - Unsupported file format`),!1)).filter($=>!a.value.some(I=>I.name===$.name&&I.size===$.size));a.value.push(...y),y.length>0&&r.success(`Added ${y.length} file(s) for upload`)},L=p=>{a.value.splice(p,1)},M=async()=>{if(a.value.length!==0){c.value=!0,l.total=a.value.length,l.completed=0,l.percentage=0,l.successful=[],l.failed=[];try{const p=new FormData;if(a.value.forEach(y=>{p.append("files",y)}),d.category&&p.append("category",d.category),d.tags.trim()){const y=d.tags.split(",").map($=>$.trim()).filter($=>$.length>0);p.append("tags",JSON.stringify(y))}p.append("auto_category",d.auto_category.toString()),p.append("extract_metadata",d.extract_metadata.toString());const w=await oe.uploadDocuments(p,{onUploadProgress:y=>{l.percentage=Math.round(y.loaded*100/y.total)}});if(w.success)l.completed=l.total,l.percentage=100,r.success(w.message||"Documents uploaded successfully"),s("upload-complete",w),setTimeout(()=>{q()},2e3);else throw new Error(w.message||"Upload failed")}catch(p){console.error("Upload error:",p),l.failed.push({file:"Upload process",error:p.message||"Unknown error occurred"}),r.error(p.message||"Failed to upload documents")}finally{c.value=!1}}},q=()=>{s("update:visible",!1)},U=p=>{if(p===0)return"0 B";const w=1024,y=["B","KB","MB","GB"],$=Math.floor(Math.log(p)/Math.log(w));return parseFloat((p/Math.pow(w,$)).toFixed(2))+" "+y[$]},E=p=>p.split(".").pop()?.toUpperCase()||"Unknown",A=p=>{const w=p.split(".").pop()?.toLowerCase();return{pdf:"pi pi-file-pdf",docx:"pi pi-file-word",txt:"pi pi-file",md:"pi pi-file-edit",html:"pi pi-code"}[w]||"pi pi-file"};return(p,w)=>(v(),G(f(gt),{visible:e.visible,"onUpdate:visible":w[6]||(w[6]=y=>p.$emit("update:visible",y)),header:"Upload Documents",style:{width:"70vw",maxWidth:"800px"},modal:!0,class:"upload-dialog"},{footer:T(()=>[o("div",El,[h(f(V),{label:"Cancel",icon:"pi pi-times",class:"p-button-outlined",onClick:q,disabled:c.value},null,8,["disabled"]),c.value?(v(),G(f(V),{key:1,label:"Uploading...",icon:"pi pi-spinner pi-spin",class:"p-button-primary",disabled:""})):(v(),G(f(V),{key:0,label:"Upload Documents",icon:"pi pi-upload",class:"p-button-primary",onClick:M,disabled:a.value.length===0},null,8,["disabled"]))])]),default:T(()=>[o("div",sl,[o("div",{class:Y(["upload-zone",{"drag-over":i.value,"has-files":a.value.length>0}]),onDrop:x,onDragover:w[0]||(w[0]=ge(y=>i.value=!0,["prevent"])),onDragleave:w[1]||(w[1]=ge(y=>i.value=!1,["prevent"])),onClick:H},[a.value.length===0?(v(),S("div",ol,[w[8]||(w[8]=o("div",{class:"upload-icon"},[o("i",{class:"pi pi-cloud-upload"})],-1)),w[9]||(w[9]=o("h3",null,"Drag & Drop Documents",-1)),w[10]||(w[10]=o("p",null,"or click to browse files",-1)),o("div",rl,[w[7]||(w[7]=o("strong",null,"Supported formats:",-1)),o("div",al,[h(f(Z),{label:"PDF",class:"format-chip"}),h(f(Z),{label:"DOCX",class:"format-chip"}),h(f(Z),{label:"TXT",class:"format-chip"}),h(f(Z),{label:"MD",class:"format-chip"}),h(f(Z),{label:"HTML",class:"format-chip"})])])])):(v(),S("div",il,[o("div",ll,[o("h4",null,"Selected Files ("+C(a.value.length)+")",1),h(f(V),{label:"Add More",icon:"pi pi-plus",class:"p-button-text",onClick:H})]),o("div",cl,[(v(!0),S(ne,null,se(a.value,(y,$)=>(v(),S("div",{key:`file-${$}`,class:"file-item"},[o("div",dl,[o("i",{class:Y([A(y.name),"file-icon"])},null,2),o("div",ul,[o("div",pl,C(y.name),1),o("div",fl,C(U(y.size))+" • "+C(E(y.name)),1)])]),o("div",ml,[h(f(V),{icon:"pi pi-times",class:"p-button-rounded p-button-text p-button-sm",onClick:I=>L($)},null,8,["onClick"])])]))),128))])]))],34),a.value.length>0?(v(),S("div",hl,[h(f($t),{activeIndex:0},{default:T(()=>[h(f(kt),{header:"Upload Settings"},{default:T(()=>[o("div",vl,[o("div",gl,[w[11]||(w[11]=o("label",{class:"setting-label"},"Category",-1)),h(f(be),{modelValue:d.category,"onUpdate:modelValue":w[2]||(w[2]=y=>d.category=y),options:m,"option-label":"label","option-value":"value",placeholder:"Select category",class:"setting-input"},null,8,["modelValue"])]),o("div",bl,[w[12]||(w[12]=o("label",{class:"setting-label"},"Tags (comma-separated)",-1)),h(f(Ue),{modelValue:d.tags,"onUpdate:modelValue":w[3]||(w[3]=y=>d.tags=y),placeholder:"e.g. policy, training, important",class:"setting-input"},null,8,["modelValue"])]),o("div",yl,[w[15]||(w[15]=o("label",{class:"setting-label"},"Options",-1)),o("div",wl,[o("div",_l,[h(f(Pt),{modelValue:d.auto_category,"onUpdate:modelValue":w[4]||(w[4]=y=>d.auto_category=y),binary:!0,"input-id":"auto-category"},null,8,["modelValue"]),w[13]||(w[13]=o("label",{for:"auto-category"},"Auto-detect category",-1))]),o("div",$l,[h(f(Pt),{modelValue:d.extract_metadata,"onUpdate:modelValue":w[5]||(w[5]=y=>d.extract_metadata=y),binary:!0,"input-id":"extract-metadata"},null,8,["modelValue"]),w[14]||(w[14]=o("label",{for:"extract-metadata"},"Extract metadata",-1))])])])])]),_:1})]),_:1})])):z("",!0),c.value?(v(),S("div",kl,[o("div",Cl,[w[16]||(w[16]=o("h4",null,"Uploading Documents...",-1)),o("span",Sl,C(l.completed)+"/"+C(l.total),1)]),h(f(et),{value:l.percentage,class:"upload-progress-bar"},null,8,["value"]),l.currentFile?(v(),S("div",Al," Processing: "+C(l.currentFile),1)):z("",!0),o("div",Pl,[l.successful.length>0?(v(),S("div",Tl,[w[17]||(w[17]=o("h5",null,[o("i",{class:"pi pi-check-circle mr-1"}),W("Successfully Uploaded")],-1)),o("ul",null,[(v(!0),S(ne,null,se(l.successful,y=>(v(),S("li",{key:y},C(y),1))),128))])])):z("",!0),l.failed.length>0?(v(),S("div",Dl,[w[18]||(w[18]=o("h5",null,[o("i",{class:"pi pi-times-circle mr-1"}),W("Failed Uploads")],-1)),o("ul",null,[(v(!0),S(ne,null,se(l.failed,y=>(v(),S("li",{key:y.file},C(y.file)+": "+C(y.error),1))),128))])])):z("",!0)])])):z("",!0)]),o("input",{ref_key:"fileInput",ref:b,type:"file",multiple:"",accept:".pdf,.docx,.txt,.md,.html",onChange:_,style:{display:"none"}},null,544)]),_:1},8,["visible"]))}},Rl=_e(xl,[["__scopeId","data-v-19747858"]]);var Ol=Symbol();function xn(){var e=Gt(Ol);if(!e)throw new Error("No PrimeVue Toast provided!");return e}const Fl={class:"import-content"},Ul={key:0,class:"upload-empty"},Il={key:1,class:"selected-file"},Bl={class:"file-info"},Ml={class:"file-details"},Nl={class:"file-name"},Ll={class:"file-size"},jl={key:0,class:"import-progress"},zl={class:"progress-header"},Vl={class:"progress-stats"},Hl={key:0,class:"current-file"},ql={class:"import-details"},Kl={class:"detail-item"},Wl={class:"value success"},Gl={class:"detail-item"},Jl={class:"value error"},Xl={class:"detail-item"},Zl={class:"value"},Ql={key:1,class:"import-errors"},Yl={class:"error-list"},ec={key:0,class:"more-errors"},tc={key:1,class:"import-results"},nc={class:"results-summary"},sc={class:"summary-grid"},oc={class:"summary-item success"},rc={class:"summary-value"},ac={class:"summary-item error"},ic={class:"summary-value"},lc={class:"summary-item info"},cc={class:"summary-value"},dc={key:0,class:"final-errors"},uc={class:"error-details"},pc={key:2,class:"import-instructions"},fc={class:"supported-formats"},mc={class:"format-chips"},hc={class:"dialog-actions"},vc={__name:"RAGBulkImportDialog",props:{visible:{type:Boolean,default:!1}},emits:["update:visible","import-complete"],setup(e,{emit:t}){const n=e,s=t,r=xn(),a=N(null),i=N(!1),c=N(!1),b=N(!1),d=N(null),l=Oe({total:0,processed:0,processed_files:0,failed_files:0,processing_time_seconds:0,current_file:"",errors:[]}),m=Oe({processed_files:0,failed_files:0,processing_time_seconds:0,errors:[]});let O=null;const H=Ae(()=>l.total===0?0:Math.round(l.processed/l.total*100));Fe(()=>n.visible,y=>{y?x():(_(),O&&(O.close(),O=null))});const _=()=>{a.value=null,i.value=!1,c.value=!1,b.value=!1,Object.assign(l,{total:0,processed:0,processed_files:0,failed_files:0,processing_time_seconds:0,current_file:"",errors:[]}),Object.assign(m,{processed_files:0,failed_files:0,processing_time_seconds:0,errors:[]})},x=()=>{try{O=oe.createWebSocket(y=>{y.type==="bulk_import_progress"&&(l.processed=y.processed||0,l.total=y.total||0,l.current_file=y.current_file||"")})}catch(y){console.error("Failed to connect WebSocket:",y)}},P=()=>{d.value?.click()},L=y=>{const $=y.target.files[0];$&&q($)&&(a.value=$),y.target.value=""},M=y=>{y.preventDefault(),i.value=!1;const $=y.dataTransfer.files[0];$&&q($)&&(a.value=$)},q=y=>{if(!y.name.toLowerCase().endsWith(".zip"))return r.add({severity:"warn",summary:"Invalid File",detail:"Please select a ZIP archive file",life:3e3}),!1;const $=500*1024*1024;return y.size>$?(r.add({severity:"warn",summary:"File Too Large",detail:"ZIP archive must be smaller than 500MB",life:3e3}),!1):y.size===0?(r.add({severity:"warn",summary:"Empty File",detail:"Selected ZIP file is empty",life:3e3}),!1):!0},U=()=>{a.value=null},E=async()=>{if(a.value){c.value=!0,b.value=!1;try{const y=await oe.bulkImport(a.value,{onUploadProgress:$=>{console.log("Upload progress:",Math.round($.loaded*100/$.total))}});Object.assign(m,{processed_files:y.processed_files||0,failed_files:y.failed_files||0,processing_time_seconds:y.processing_time_seconds||0,errors:y.errors||[]}),Object.assign(l,{processed_files:y.processed_files||0,failed_files:y.failed_files||0,processing_time_seconds:y.processing_time_seconds||0,errors:y.errors||[]}),b.value=!0,r.add({severity:y.failed_files>0?"warn":"success",summary:"Import Complete",detail:`Processed ${y.processed_files} files, ${y.failed_files} failed`,life:5e3}),s("import-complete",y)}catch(y){console.error("Import error:",y),b.value=!0,m.errors=[y.message||"Import failed with unknown error"],r.add({severity:"error",summary:"Import Failed",detail:y.message||"Failed to import documents",life:5e3})}finally{c.value=!1}}},A=()=>{s("update:visible",!1)},p=y=>{if(y===0)return"0 B";const $=1024,I=["B","KB","MB","GB"],D=Math.floor(Math.log(y)/Math.log($));return parseFloat((y/Math.pow($,D)).toFixed(2))+" "+I[D]},w=y=>{if(!y||y<1)return"< 1s";if(y<60)return`${y.toFixed(1)}s`;const $=Math.floor(y/60),I=Math.floor(y%60);return`${$}m ${I}s`};return(y,$)=>(v(),G(f(gt),{visible:e.visible,"onUpdate:visible":$[2]||($[2]=I=>y.$emit("update:visible",I)),header:"Bulk Import from ZIP Archive",style:{width:"60vw",maxWidth:"700px"},modal:!0,class:"bulk-import-dialog"},{footer:T(()=>[o("div",hc,[h(f(V),{label:"Cancel",icon:"pi pi-times",class:"p-button-outlined",onClick:A,disabled:c.value},null,8,["disabled"]),b.value?(v(),G(f(V),{key:0,label:"Done",icon:"pi pi-check",class:"p-button-primary",onClick:A})):c.value?(v(),G(f(V),{key:2,label:"Importing...",icon:"pi pi-spinner pi-spin",class:"p-button-primary",disabled:""})):(v(),G(f(V),{key:1,label:"Start Import",icon:"pi pi-download",class:"p-button-primary",onClick:E,disabled:!a.value},null,8,["disabled"]))])]),default:T(()=>[o("div",Fl,[o("div",{class:Y(["zip-upload-zone",{"drag-over":i.value,"has-file":a.value}]),onDrop:M,onDragover:$[0]||($[0]=ge(I=>i.value=!0,["prevent"])),onDragleave:$[1]||($[1]=ge(I=>i.value=!1,["prevent"])),onClick:P},[a.value?(v(),S("div",Il,[o("div",Bl,[$[6]||($[6]=o("i",{class:"pi pi-file-zip file-icon"},null,-1)),o("div",Ml,[o("div",Nl,C(a.value.name),1),o("div",Ll,C(p(a.value.size)),1)])]),h(f(V),{icon:"pi pi-times",class:"p-button-rounded p-button-text p-button-danger",onClick:U})])):(v(),S("div",Ul,[$[3]||($[3]=o("div",{class:"upload-icon"},[o("i",{class:"pi pi-file-zip"})],-1)),$[4]||($[4]=o("h3",null,"Select ZIP Archive",-1)),$[5]||($[5]=o("p",null,"Drag & drop or click to browse",-1)),h(f(V),{label:"Browse Files",icon:"pi pi-folder-open",class:"p-button-outlined",onClick:ge(P,["stop"])})]))],34),c.value?(v(),S("div",jl,[o("div",zl,[$[7]||($[7]=o("h4",null,"Importing Documents...",-1)),o("span",Vl,C(l.processed)+"/"+C(l.total),1)]),h(f(et),{value:H.value,class:"import-progress-bar"},null,8,["value"]),l.current_file?(v(),S("div",Hl," Processing: "+C(l.current_file),1)):z("",!0),o("div",ql,[o("div",Kl,[$[8]||($[8]=o("span",{class:"label"},"Processed:",-1)),o("span",Wl,C(l.processed_files),1)]),o("div",Gl,[$[9]||($[9]=o("span",{class:"label"},"Failed:",-1)),o("span",Jl,C(l.failed_files),1)]),o("div",Xl,[$[10]||($[10]=o("span",{class:"label"},"Processing Time:",-1)),o("span",Zl,C(w(l.processing_time_seconds)),1)])]),l.errors?.length>0?(v(),S("div",Ql,[$[11]||($[11]=o("h5",null,[o("i",{class:"pi pi-exclamation-triangle mr-1"}),W("Import Errors")],-1)),o("div",Yl,[(v(!0),S(ne,null,se(l.errors.slice(0,5),(I,D)=>(v(),S("div",{key:D,class:"error-item"},C(I),1))),128)),l.errors.length>5?(v(),S("div",ec," +"+C(l.errors.length-5)+" more errors ",1)):z("",!0)])])):z("",!0)])):z("",!0),b.value&&!c.value?(v(),S("div",tc,[$[15]||($[15]=o("div",{class:"results-header"},[o("div",{class:"success-icon"},[o("i",{class:"pi pi-check-circle"})]),o("h3",null,"Import Complete!")],-1)),o("div",nc,[o("div",sc,[o("div",oc,[o("div",rc,C(m.processed_files),1),$[12]||($[12]=o("div",{class:"summary-label"},"Processed",-1))]),o("div",ac,[o("div",ic,C(m.failed_files),1),$[13]||($[13]=o("div",{class:"summary-label"},"Failed",-1))]),o("div",lc,[o("div",cc,C(w(m.processing_time_seconds)),1),$[14]||($[14]=o("div",{class:"summary-label"},"Duration",-1))])])]),m.errors?.length>0?(v(),S("div",dc,[h(f($t),null,{default:T(()=>[h(f(kt),{header:`View Errors (${m.errors.length})`},{default:T(()=>[o("div",uc,[(v(!0),S(ne,null,se(m.errors,(I,D)=>(v(),S("div",{key:D,class:"error-detail"},C(I),1))),128))])]),_:1},8,["header"])]),_:1})])):z("",!0)])):z("",!0),!a.value&&!c.value&&!b.value?(v(),S("div",pc,[$[17]||($[17]=o("h4",null,"How to prepare your ZIP archive:",-1)),$[18]||($[18]=o("ul",{class:"instructions-list"},[o("li",null,"Include only supported file types: PDF, DOCX, TXT, MD, HTML"),o("li",null,"Organize files in folders by category (optional)"),o("li",null,"Maximum archive size: 500MB"),o("li",null,"Individual file size limit: 50MB each"),o("li",null,"Avoid duplicate file names")],-1)),o("div",fc,[$[16]||($[16]=o("strong",null,"Supported formats:",-1)),o("div",mc,[h(f(Z),{label:"PDF",class:"format-chip"}),h(f(Z),{label:"DOCX",class:"format-chip"}),h(f(Z),{label:"TXT",class:"format-chip"}),h(f(Z),{label:"MD",class:"format-chip"}),h(f(Z),{label:"HTML",class:"format-chip"})])])])):z("",!0)]),o("input",{ref_key:"fileInput",ref:d,type:"file",accept:".zip",onChange:L,style:{display:"none"}},null,544)]),_:1},8,["visible"]))}},gc=_e(vc,[["__scopeId","data-v-4bab538e"]]),bc={key:0,class:"document-detail-content"},yc={class:"document-header"},wc={class:"header-icon"},_c={class:"header-info"},$c={class:"document-title"},kc={class:"document-meta"},Cc={class:"version"},Sc={class:"size"},Ac={class:"action-buttons"},Pc={class:"metadata-section"},Tc={class:"metadata-grid"},Dc={class:"metadata-item"},Ec={class:"metadata-item"},xc={class:"metadata-item"},Rc={class:"metadata-item"},Oc={class:"metadata-item"},Fc={class:"metadata-item"},Uc={key:0,class:"tags-section"},Ic={class:"tags-container"},Bc={class:"content-section"},Mc={class:"section-header"},Nc={class:"content-display"},Lc={key:1,class:"content-full"},jc={class:"content-text"},zc={key:1,class:"similar-section"},Vc={class:"similar-list"},Hc=["onClick"],qc={class:"similar-info"},Kc={class:"similar-title"},Wc={class:"similar-meta"},Gc={class:"similarity-score"},Jc={key:2,class:"version-section"},Xc={class:"version-list"},Zc={class:"version-info"},Qc={class:"version-number"},Yc={class:"version-meta"},ed={key:0,class:"version-changes"},td={class:"version-actions"},nd={key:1,class:"edit-overlay"},sd={class:"edit-header"},od={class:"edit-actions"},rd={class:"edit-form"},ad={class:"form-group"},id={class:"form-group"},ld={class:"form-group"},cd={class:"form-group"},dd={__name:"RAGDocumentDetail",props:{visible:{type:Boolean,default:!1},document:{type:Object,default:null}},emits:["update:visible","document-updated","document-deleted"],setup(e,{emit:t}){const n=e,s=t,r=xn(),a=Sn(),i=N(!1),c=N(!1),b=N(!1),d=N([]),l=N([]),m=Oe({title:"",category:"",content:"",tagsText:""}),O=[{label:"Business Process",value:"business_process"},{label:"Documentation",value:"documentation"},{label:"Training Material",value:"training"},{label:"Policy",value:"policy"},{label:"General",value:"general"}];Fe(()=>n.document,async R=>{R&&(await _(),await x())}),Fe(()=>n.visible,R=>{R||H()}),Ie(()=>{n.document&&(_(),x())});const H=()=>{i.value=!1,c.value=!1,b.value=!1,d.value=[],l.value=[]},_=async()=>{if(n.document?.id)try{const R=await oe.getSimilarDocuments(n.document.id,5);d.value=R.similar_documents||[]}catch(R){console.error("Error loading similar documents:",R)}},x=async()=>{if(n.document?.id)try{const R=await oe.getDocumentHistory(n.document.id);l.value=R.versions||[]}catch(R){console.error("Error loading version history:",R),l.value=[{version:n.document.version||1,author:n.document.author||"Unknown",created_at:n.document.updated_at||new Date().toISOString(),change_summary:"Current version"}]}},P=()=>{i.value=!i.value},L=()=>{const R=n.document?.content||"No content available";return R.length>300?R.substring(0,300)+"...":R},M=()=>{m.title=n.document?.title||"",m.category=n.document?.category||"",m.content=n.document?.content||"",m.tagsText=n.document?.tags?.join(", ")||"",c.value=!0},q=()=>{c.value=!1,Object.assign(m,{title:"",category:"",content:"",tagsText:""})},U=async()=>{b.value=!0;try{const R={content:m.content,metadata:{title:m.title,category:m.category,tags:m.tagsText.split(",").map(g=>g.trim()).filter(g=>g.length>0)}};await oe.updateDocument(n.document.id,R),r.add({severity:"success",summary:"Document Updated",detail:"Document has been updated successfully",life:3e3}),c.value=!1,s("document-updated")}catch(R){console.error("Error updating document:",R),r.add({severity:"error",summary:"Update Failed",detail:R.message||"Failed to update document",life:5e3})}finally{b.value=!1}},E=()=>{r.add({severity:"info",summary:"Download",detail:"Document download feature coming soon",life:3e3})},A=()=>{a.require({message:`Are you sure you want to delete "${n.document?.title}"?`,header:"Delete Confirmation",icon:"pi pi-exclamation-triangle",accept:p,reject:()=>{}})},p=async()=>{try{await oe.deleteDocument(n.document.id),r.add({severity:"success",summary:"Document Deleted",detail:"Document has been deleted successfully",life:3e3}),s("document-deleted")}catch(R){console.error("Error deleting document:",R),r.add({severity:"error",summary:"Delete Failed",detail:R.message||"Failed to delete document",life:5e3})}},w=R=>{s("update:visible",!1),console.log("Navigate to similar document:",R.id)},y=async R=>{a.require({message:`Are you sure you want to restore version ${R}?`,header:"Restore Version",icon:"pi pi-question-circle",accept:async()=>{try{await oe.restoreDocumentVersion(n.document.id,R),r.add({severity:"success",summary:"Version Restored",detail:`Document restored to version ${R}`,life:3e3}),s("document-updated")}catch(g){console.error("Error restoring version:",g),r.add({severity:"error",summary:"Restore Failed",detail:g.message||"Failed to restore version",life:5e3})}},reject:()=>{}})},$=R=>R?R.charAt(0).toUpperCase()+R.slice(1).replace(/_/g," "):"General",I=R=>({upload:"Manual Upload",bulk_import:"Bulk Import",api:"API Import",system:"System Generated"})[R]||"Unknown",D=R=>R?new Date(R).toLocaleString():"Unknown",B=R=>{if(!R||R===0)return"0 B";const g=1024,k=["B","KB","MB","GB"],J=Math.floor(Math.log(R)/Math.log(g));return parseFloat((R/Math.pow(g,J)).toFixed(2))+" "+k[J]},Q=R=>{const g=R?.source||"unknown";return{upload:"pi pi-upload",bulk_import:"pi pi-download",api:"pi pi-cog",system:"pi pi-server"}[g]||"pi pi-file"},ce=R=>({active:"Active",archived:"Archived",processing:"Processing",error:"Error"})[R]||"Unknown",re=R=>({active:"success",archived:"secondary",processing:"warning",error:"danger"})[R]||"secondary",Se=R=>({business_process:"category-business",documentation:"category-docs",training:"category-training",policy:"category-policy",general:"category-general"})[R]||"category-general";return(R,g)=>(v(),G(f(Ln),{visible:e.visible,"onUpdate:visible":g[4]||(g[4]=k=>R.$emit("update:visible",k)),header:"Document Details",position:"right",style:{width:"50vw",minWidth:"600px"},class:"document-detail-sidebar"},{default:T(()=>[e.document?(v(),S("div",bc,[o("div",yc,[o("div",wc,[o("i",{class:Y([Q(e.document),"doc-icon"])},null,2)]),o("div",_c,[o("h2",$c,C(e.document.title||"Untitled Document"),1),o("div",kc,[h(f(pe),{value:ce(e.document.status),severity:re(e.document.status),class:"status-badge"},null,8,["value","severity"]),g[5]||(g[5]=o("span",{class:"separator"},"•",-1)),o("span",Cc,"Version "+C(e.document.version||1),1),g[6]||(g[6]=o("span",{class:"separator"},"•",-1)),o("span",Sc,C(B(e.document.size)),1)])])]),o("div",Ac,[h(f(V),{label:"Edit",icon:"pi pi-pencil",class:"p-button-primary p-button-sm",onClick:M}),h(f(V),{label:"Download",icon:"pi pi-download",class:"p-button-outlined p-button-sm",onClick:E}),h(f(V),{label:"Delete",icon:"pi pi-trash",class:"p-button-outlined p-button-danger p-button-sm",onClick:A})]),o("div",Pc,[g[13]||(g[13]=o("h3",{class:"section-title"},"Metadata",-1)),o("div",Tc,[o("div",Dc,[g[7]||(g[7]=o("label",null,"Category:",-1)),h(f(Z),{label:$(e.document.category),class:Y(Se(e.document.category))},null,8,["label","class"])]),o("div",Ec,[g[8]||(g[8]=o("label",null,"Author:",-1)),o("span",null,C(e.document.author||"Unknown"),1)]),o("div",xc,[g[9]||(g[9]=o("label",null,"Source:",-1)),o("span",null,C(I(e.document.source)),1)]),o("div",Rc,[g[10]||(g[10]=o("label",null,"Created:",-1)),o("span",null,C(D(e.document.created_at)),1)]),o("div",Oc,[g[11]||(g[11]=o("label",null,"Updated:",-1)),o("span",null,C(D(e.document.updated_at)),1)]),o("div",Fc,[g[12]||(g[12]=o("label",null,"Language:",-1)),o("span",null,C(e.document.language||"Auto-detected"),1)])])]),e.document.tags?.length>0?(v(),S("div",Uc,[g[14]||(g[14]=o("h3",{class:"section-title"},"Tags",-1)),o("div",Ic,[(v(!0),S(ne,null,se(e.document.tags,k=>(v(),G(f(Z),{key:k,label:k,class:"tag-chip"},null,8,["label"]))),128))])])):z("",!0),o("div",Bc,[o("div",Mc,[g[15]||(g[15]=o("h3",{class:"section-title"},"Content",-1)),h(f(V),{label:i.value?"Show Preview":"Show Full",icon:i.value?"pi pi-compress":"pi pi-expand",class:"p-button-text p-button-sm",onClick:P},null,8,["label","icon"])]),o("div",Nc,[i.value?(v(),S("div",Lc,[o("div",jc,C(e.document.content||"No content available"),1)])):(v(),S("div",{key:0,class:Y(["content-preview",{expandable:!i.value}])},C(L()),3))])]),d.value.length>0?(v(),S("div",zc,[g[16]||(g[16]=o("h3",{class:"section-title"},"Similar Documents",-1)),o("div",Vc,[(v(!0),S(ne,null,se(d.value,k=>(v(),S("div",{key:k.id,class:"similar-item",onClick:J=>w(k)},[o("div",qc,[o("div",Kc,C(k.title),1),o("div",Wc,C($(k.category))+" • "+C(D(k.created_at)),1)]),o("div",Gc,C((k.similarity*100).toFixed(1))+"% ",1)],8,Hc))),128))])])):z("",!0),l.value.length>0?(v(),S("div",Jc,[g[17]||(g[17]=o("h3",{class:"section-title"},"Version History",-1)),o("div",Xc,[(v(!0),S(ne,null,se(l.value,k=>(v(),S("div",{key:k.version,class:Y(["version-item",{current:k.version===e.document.version}])},[o("div",Zc,[o("div",Qc,"v"+C(k.version),1),o("div",Yc,C(k.author)+" • "+C(D(k.created_at)),1),k.change_summary?(v(),S("div",ed,C(k.change_summary),1)):z("",!0)]),o("div",td,[k.version!==e.document.version?(v(),G(f(V),{key:0,label:"Restore",icon:"pi pi-undo",class:"p-button-text p-button-sm",onClick:J=>y(k.version)},null,8,["onClick"])):z("",!0)])],2))),128))])])):z("",!0)])):z("",!0),c.value?(v(),S("div",nd,[o("div",sd,[g[18]||(g[18]=o("h3",null,"Edit Document",-1)),o("div",od,[h(f(V),{label:"Cancel",icon:"pi pi-times",class:"p-button-outlined p-button-sm",onClick:q}),h(f(V),{label:"Save",icon:"pi pi-check",class:"p-button-primary p-button-sm",onClick:U,loading:b.value},null,8,["loading"])])]),o("div",rd,[o("div",ad,[g[19]||(g[19]=o("label",null,"Title:",-1)),h(f(Ue),{modelValue:m.title,"onUpdate:modelValue":g[0]||(g[0]=k=>m.title=k),placeholder:"Document title",class:"edit-input"},null,8,["modelValue"])]),o("div",id,[g[20]||(g[20]=o("label",null,"Category:",-1)),h(f(be),{modelValue:m.category,"onUpdate:modelValue":g[1]||(g[1]=k=>m.category=k),options:O,"option-label":"label","option-value":"value",placeholder:"Select category",class:"edit-input"},null,8,["modelValue"])]),o("div",ld,[g[21]||(g[21]=o("label",null,"Tags (comma-separated):",-1)),h(f(Ue),{modelValue:m.tagsText,"onUpdate:modelValue":g[2]||(g[2]=k=>m.tagsText=k),placeholder:"tag1, tag2, tag3",class:"edit-input"},null,8,["modelValue"])]),o("div",cd,[g[22]||(g[22]=o("label",null,"Content:",-1)),h(f(Nn),{modelValue:m.content,"onUpdate:modelValue":g[3]||(g[3]=k=>m.content=k),rows:"15",placeholder:"Document content",class:"edit-textarea"},null,8,["modelValue"])])])])):z("",!0),h(f(Xt))]),_:1},8,["visible"]))}},ud=_e(dd,[["__scopeId","data-v-5baa604e"]]),pd={class:"rag-manager"},fd={class:"rag-header"},md={class:"header-actions"},hd={key:0,class:"stats-grid"},vd={__name:"RAGManager",setup(e){const t=Ge(),n=N(null),s=N(null),r=N(!1),a=N(!1),i=N(!1),c=N(!1),b=N(!1);let d=null;Fe(s,U=>{U&&(i.value=!0)}),Ie(async()=>{await l(),m()}),jn(()=>{d&&d.close()});const l=async()=>{try{const U=await oe.getStatistics();n.value=U}catch(U){console.error("Error loading RAG statistics:",U),t.error("Failed to load knowledge base statistics")}},m=()=>{const U="ws://localhost:8000/api/rag/ws";d=new WebSocket(U),d.onopen=()=>{b.value=!0,console.log("RAG WebSocket connected")},d.onmessage=E=>{const A=JSON.parse(E.data);O(A)},d.onclose=()=>{b.value=!1,console.log("RAG WebSocket disconnected"),setTimeout(m,5e3)},d.onerror=E=>{console.error("RAG WebSocket error:",E),b.value=!1}},O=U=>{switch(U.type){case"document_uploaded":t.success(`File "${U.filename}" has been processed`),M();break;case"document_updated":t.info("Document has been modified"),M();break;case"document_deleted":t.warning("Document has been removed"),M();break;case"bulk_import_progress":t.info(`Processing ${U.current_file} (${U.processed}/${U.total})`);break;case"reindex_started":t.info("Knowledge base is being reindexed");break}},H=async()=>{c.value=!0;try{await oe.reindex(),t.success("Knowledge base reindexing has been initiated")}catch(U){console.error("Error starting reindex:",U),t.error("Failed to start knowledge base reindexing")}finally{c.value=!1}},_=U=>{r.value=!1,t.success(U.message||"Documents uploaded successfully"),M()},x=U=>{a.value=!1,t.success(`Processed ${U.processed_files} files in ${U.processing_time_seconds.toFixed(1)}s`),M()},P=()=>{i.value=!1,s.value=null,M()},L=()=>{i.value=!1,s.value=null,M()},M=async()=>{await l()},q=U=>{const E=new Date(U),p=new Date-E,w=Math.floor(p/6e4);return w<60?`${w}m ago`:w<1440?`${Math.floor(w/60)}h ago`:`${Math.floor(w/1440)}d ago`};return(U,E)=>(v(),S("div",pd,[o("div",fd,[E[7]||(E[7]=o("div",{class:"header-content"},[o("h2",{class:"rag-title"},[o("i",{class:"pi pi-database mr-2"}),W(" Knowledge Base Manager ")]),o("p",{class:"rag-description"}," Manage your document knowledge base with advanced semantic search capabilities ")],-1)),o("div",md,[h(f(V),{label:"Upload Documents",icon:"pi pi-upload",class:"p-button-primary mr-2",onClick:E[0]||(E[0]=A=>r.value=!0)}),h(f(V),{label:"Bulk Import",icon:"pi pi-download",class:"p-button-outlined mr-2",onClick:E[1]||(E[1]=A=>a.value=!0)}),h(f(V),{label:"Reindex",icon:"pi pi-refresh",class:"p-button-outlined",onClick:H,loading:c.value},null,8,["loading"])])]),n.value?(v(),S("div",hd,[h(f(ae),{class:"stat-card"},{header:T(()=>[...E[8]||(E[8]=[o("div",{class:"stat-icon-primary"},[o("i",{class:"pi pi-file"})],-1)])]),title:T(()=>[W(C(n.value.total_documents),1)]),subtitle:T(()=>[...E[9]||(E[9]=[W("Total Documents",-1)])]),_:1}),h(f(ae),{class:"stat-card"},{header:T(()=>[...E[10]||(E[10]=[o("div",{class:"stat-icon-success"},[o("i",{class:"pi pi-database"})],-1)])]),title:T(()=>[W(C(n.value.total_size_mb.toFixed(1))+" MB",1)]),subtitle:T(()=>[...E[11]||(E[11]=[W("Storage Used",-1)])]),_:1}),h(f(ae),{class:"stat-card"},{header:T(()=>[...E[12]||(E[12]=[o("div",{class:"stat-icon-info"},[o("i",{class:"pi pi-tags"})],-1)])]),title:T(()=>[W(C(n.value.categories.length),1)]),subtitle:T(()=>[...E[13]||(E[13]=[W("Categories",-1)])]),_:1}),h(f(ae),{class:"stat-card"},{header:T(()=>[...E[14]||(E[14]=[o("div",{class:"stat-icon-warning"},[o("i",{class:"pi pi-clock"})],-1)])]),title:T(()=>[W(C(q(n.value.last_update)),1)]),subtitle:T(()=>[...E[15]||(E[15]=[W("Last Update",-1)])]),_:1})])):z("",!0),h(f(qn),null,{default:T(()=>[h(f(nt),{header:"Search Documents"},{default:T(()=>[h(Sr,{onDocumentSelected:E[2]||(E[2]=A=>s.value=A)})]),_:1}),h(f(nt),{header:"Manage Documents"},{default:T(()=>[h(Fa,{onDocumentSelected:E[3]||(E[3]=A=>s.value=A),onDocumentUpdated:M,onDocumentDeleted:M})]),_:1}),h(f(nt),{header:"Analytics"},{default:T(()=>[h(Ei,{statistics:n.value},null,8,["statistics"])]),_:1})]),_:1}),h(Rl,{visible:r.value,"onUpdate:visible":E[4]||(E[4]=A=>r.value=A),onUploadComplete:_},null,8,["visible"]),h(gc,{visible:a.value,"onUpdate:visible":E[5]||(E[5]=A=>a.value=A),onImportComplete:x},null,8,["visible"]),h(ud,{visible:i.value,"onUpdate:visible":E[6]||(E[6]=A=>i.value=A),document:s.value,onDocumentUpdated:P,onDocumentDeleted:L},null,8,["visible","document"]),o("div",{class:Y(["websocket-status",{connected:b.value}])},[o("i",{class:Y(b.value?"pi pi-circle-on":"pi pi-circle-off")},null,2),W(" "+C(b.value?"Real-time Connected":"Disconnected"),1)],2)]))}},gd=_e(vd,[["__scopeId","data-v-38a18962"]]),bd={class:"rag-manager-page"},yd={__name:"RAGManagerPage",setup(e){return(t,n)=>(v(),S("div",bd,[h(gd)]))}},zd=_e(yd,[["__scopeId","data-v-be4ab6ab"]]);export{zd as default};
//# sourceMappingURL=RAGManagerPage-D9GI1-SP.js.map
