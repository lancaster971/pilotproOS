import{ae as ke,e as A,f as g,g as s,q as w,B as de,af as Ue,ag as Be,ah as q,ai as Re,aj as Ne,ak as qe,al as Fe,am as Ze,an as oe,ao as He,Z as H,m as i,H as E,h as T,k as I,a2 as te,t as z,y as m,ap as xe,s as Ce,aq as Ke,ar as Je,as as Ge,i as le,n as N,at as We,r as C,K as se,w as F,l as r,a3 as P,au as L,av as ne,ad as K,o as $e,_ as Se,a as Pe,N as Qe,E as Xe,aw as Ye,F as _,I as M}from"./index-COrhf4WZ.js";import{M as _e}from"./MainLayout-DZbn--hx.js";import{s as D,O as et,a as ue,b as fe,c as tt,d as st,e as ge,f as nt,g as R}from"./index-CnGdNUHD.js";import{c as ce}from"./settings-DvFL2W95.js";import{s as ee}from"./index-f05L_8RH.js";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ce("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ce("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=ce("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var ze={name:"EyeIcon",extends:ke};function lt(e){return ut(e)||dt(e)||it(e)||rt()}function rt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(e,t){if(e){if(typeof e=="string")return re(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function dt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ut(e){if(Array.isArray(e))return re(e)}function re(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function ct(e,t,n,a,o,d){return g(),A("svg",w({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),lt(t[0]||(t[0]=[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z",fill:"currentColor"},null,-1)])),16)}ze.render=ct;var Ae={name:"EyeSlashIcon",extends:ke};function mt(e){return vt(e)||gt(e)||ft(e)||pt()}function pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ft(e,t){if(e){if(typeof e=="string")return ie(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function gt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vt(e){if(Array.isArray(e))return ie(e)}function ie(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function bt(e,t,n,a,o,d){return g(),A("svg",w({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),mt(t[0]||(t[0]=[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z",fill:"currentColor"},null,-1)])),16)}Ae.render=bt;var yt=`
    .p-password {
        display: inline-flex;
        position: relative;
    }

    .p-password .p-password-overlay {
        min-width: 100%;
    }

    .p-password-meter {
        height: dt('password.meter.height');
        background: dt('password.meter.background');
        border-radius: dt('password.meter.border.radius');
    }

    .p-password-meter-label {
        height: 100%;
        width: 0;
        transition: width 1s ease-in-out;
        border-radius: dt('password.meter.border.radius');
    }

    .p-password-meter-weak {
        background: dt('password.strength.weak.background');
    }

    .p-password-meter-medium {
        background: dt('password.strength.medium.background');
    }

    .p-password-meter-strong {
        background: dt('password.strength.strong.background');
    }

    .p-password-fluid {
        display: flex;
    }

    .p-password-fluid .p-password-input {
        width: 100%;
    }

    .p-password-input::-ms-reveal,
    .p-password-input::-ms-clear {
        display: none;
    }

    .p-password-overlay {
        padding: dt('password.overlay.padding');
        background: dt('password.overlay.background');
        color: dt('password.overlay.color');
        border: 1px solid dt('password.overlay.border.color');
        box-shadow: dt('password.overlay.shadow');
        border-radius: dt('password.overlay.border.radius');
    }

    .p-password-content {
        display: flex;
        flex-direction: column;
        gap: dt('password.content.gap');
    }

    .p-password-toggle-mask-icon {
        inset-inline-end: dt('form.field.padding.x');
        color: dt('password.icon.color');
        position: absolute;
        top: 50%;
        margin-top: calc(-1 * calc(dt('icon.size') / 2));
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-password-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        cursor: pointer;
        inset-inline-end: dt('form.field.padding.x');
        color: dt('form.field.icon.color');
    }

    .p-password:has(.p-password-toggle-mask-icon) .p-password-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-password:has(.p-password-toggle-mask-icon) .p-password-clear-icon {
        inset-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }
`,wt={root:function(t){var n=t.props;return{position:n.appendTo==="self"?"relative":void 0}}},ht={root:function(t){var n=t.instance;return["p-password p-component p-inputwrapper",{"p-inputwrapper-filled":n.$filled,"p-inputwrapper-focus":n.focused,"p-password-fluid":n.$fluid}]},pcInputText:"p-password-input",maskIcon:"p-password-toggle-mask-icon p-password-mask-icon",unmaskIcon:"p-password-toggle-mask-icon p-password-unmask-icon",overlay:"p-password-overlay p-component",content:"p-password-content",meter:"p-password-meter",meterLabel:function(t){var n=t.instance;return"p-password-meter-label ".concat(n.meter?"p-password-meter-"+n.meter.strength:"")},meterText:"p-password-meter-text"},kt=de.extend({name:"password",style:yt,classes:ht,inlineStyles:wt}),xt={name:"BasePassword",extends:Be,props:{promptLabel:{type:String,default:null},mediumRegex:{type:[String,RegExp],default:"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"},strongRegex:{type:[String,RegExp],default:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})"},weakLabel:{type:String,default:null},mediumLabel:{type:String,default:null},strongLabel:{type:String,default:null},feedback:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:"body"},toggleMask:{type:Boolean,default:!1},hideIcon:{type:String,default:void 0},maskIcon:{type:String,default:void 0},showIcon:{type:String,default:void 0},unmaskIcon:{type:String,default:void 0},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelId:{type:String,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},overlayId:{type:String,default:null},overlayClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayProps:{type:null,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null},autofocus:{type:Boolean,default:null}},style:kt,provide:function(){return{$pcPassword:this,$parentInstance:this}}};function J(e){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(e)}function ve(e,t,n){return(t=Ct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e){var t=$t(e,"string");return J(t)=="symbol"?t:t+""}function $t(e,t){if(J(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(J(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G={name:"Password",extends:xt,inheritAttrs:!1,emits:["change","focus","blur","invalid"],inject:{$pcFluid:{default:null}},data:function(){return{overlayVisible:!1,meter:null,infoText:null,focused:!1,unmasked:!1}},mediumCheckRegExp:null,strongCheckRegExp:null,resizeListener:null,scrollHandler:null,overlay:null,mounted:function(){this.infoText=this.promptText,this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex)},beforeUnmount:function(){this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(oe.clear(this.overlay),this.overlay=null)},methods:{onOverlayEnter:function(t){oe.set("overlay",t,this.$primevue.config.zIndex.overlay),He(t,{position:"absolute",top:"0"}),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener(),this.$attrSelector&&t.setAttribute(this.$attrSelector,"")},onOverlayLeave:function(){this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null},onOverlayAfterLeave:function(t){oe.clear(t)},alignOverlay:function(){this.appendTo==="self"?qe(this.overlay,this.$refs.input.$el):(this.overlay.style.minWidth=Fe(this.$refs.input.$el)+"px",Ze(this.overlay,this.$refs.input.$el))},testStrength:function(t){var n=0;return this.strongCheckRegExp.test(t)?n=3:this.mediumCheckRegExp.test(t)?n=2:t.length&&(n=1),n},onInput:function(t){this.writeValue(t.target.value,t),this.$emit("change",t)},onFocus:function(t){this.focused=!0,this.feedback&&(this.setPasswordMeter(this.d_value),this.overlayVisible=!0),this.$emit("focus",t)},onBlur:function(t){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.$emit("blur",t)},onKeyUp:function(t){if(this.feedback){var n=t.target.value,a=this.checkPasswordStrength(n),o=a.meter,d=a.label;if(this.meter=o,this.infoText=d,t.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}},setPasswordMeter:function(){if(!this.d_value){this.meter=null,this.infoText=this.promptText;return}var t=this.checkPasswordStrength(this.d_value),n=t.meter,a=t.label;this.meter=n,this.infoText=a,this.overlayVisible||(this.overlayVisible=!0)},checkPasswordStrength:function(t){var n=null,a=null;switch(this.testStrength(t)){case 1:n=this.weakText,a={strength:"weak",width:"33.33%"};break;case 2:n=this.mediumText,a={strength:"medium",width:"66.66%"};break;case 3:n=this.strongText,a={strength:"strong",width:"100%"};break;default:n=this.promptText,a=null;break}return{label:n,meter:a}},onInvalid:function(t){this.$emit("invalid",t)},bindScrollListener:function(){var t=this;this.scrollHandler||(this.scrollHandler=new Ne(this.$refs.input.$el,function(){t.overlayVisible&&(t.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var t=this;this.resizeListener||(this.resizeListener=function(){t.overlayVisible&&!Re()&&(t.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},overlayRef:function(t){this.overlay=t},onMaskToggle:function(){this.unmasked=!this.unmasked},onOverlayClick:function(t){et.emit("overlay-click",{originalEvent:t,target:this.$el})}},computed:{inputType:function(){return this.unmasked?"text":"password"},weakText:function(){return this.weakLabel||this.$primevue.config.locale.weak},mediumText:function(){return this.mediumLabel||this.$primevue.config.locale.medium},strongText:function(){return this.strongLabel||this.$primevue.config.locale.strong},promptText:function(){return this.promptLabel||this.$primevue.config.locale.passwordPrompt},overlayUniqueId:function(){return this.$id+"_overlay"},containerDataP:function(){return q({fluid:this.$fluid})},meterDataP:function(){var t,n;return q(ve({},(t=this.meter)===null||t===void 0?void 0:t.strength,(n=this.meter)===null||n===void 0?void 0:n.strength))},overlayDataP:function(){return q(ve({},"portal-"+this.appendTo,"portal-"+this.appendTo))}},components:{InputText:D,Portal:Ue,EyeSlashIcon:Ae,EyeIcon:ze}};function W(e){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(e)}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?be(Object(n),!0).forEach(function(a){St(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function St(e,t,n){return(t=Pt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e){var t=zt(e,"string");return W(t)=="symbol"?t:t+""}function zt(e,t){if(W(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(W(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var At=["data-p"],Lt=["id","data-p"],It=["data-p"];function Tt(e,t,n,a,o,d){var b=H("InputText"),$=H("Portal");return g(),A("div",w({class:e.cx("root"),style:e.sx("root"),"data-p":d.containerDataP},e.ptmi("root")),[i(b,w({ref:"input",id:e.inputId,type:d.inputType,class:[e.cx("pcInputText"),e.inputClass],style:e.inputStyle,defaultValue:e.d_value,name:e.$formName,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-controls":e.overlayProps&&e.overlayProps.id||e.overlayId||e.panelProps&&e.panelProps.id||e.panelId||d.overlayUniqueId,"aria-haspopup":!0,placeholder:e.placeholder,required:e.required,fluid:e.fluid,disabled:e.disabled,variant:e.variant,invalid:e.invalid,size:e.size,autofocus:e.autofocus,onInput:d.onInput,onFocus:d.onFocus,onBlur:d.onBlur,onKeyup:d.onKeyUp,onInvalid:d.onInvalid},e.inputProps,{"data-p-has-e-icon":e.toggleMask,pt:e.ptm("pcInputText"),unstyled:e.unstyled}),null,16,["id","type","class","style","defaultValue","name","aria-labelledby","aria-label","aria-controls","placeholder","required","fluid","disabled","variant","invalid","size","autofocus","onInput","onFocus","onBlur","onKeyup","onInvalid","data-p-has-e-icon","pt","unstyled"]),e.toggleMask&&o.unmasked?E(e.$slots,e.$slots.maskicon?"maskicon":"hideicon",w({key:0,toggleCallback:d.onMaskToggle,class:[e.cx("maskIcon"),e.maskIcon]},e.ptm("maskIcon")),function(){return[(g(),I(te(e.maskIcon?"i":"EyeSlashIcon"),w({class:[e.cx("maskIcon"),e.maskIcon],onClick:d.onMaskToggle},e.ptm("maskIcon")),null,16,["class","onClick"]))]}):T("",!0),e.toggleMask&&!o.unmasked?E(e.$slots,e.$slots.unmaskicon?"unmaskicon":"showicon",w({key:1,toggleCallback:d.onMaskToggle,class:[e.cx("unmaskIcon")]},e.ptm("unmaskIcon")),function(){return[(g(),I(te(e.unmaskIcon?"i":"EyeIcon"),w({class:[e.cx("unmaskIcon"),e.unmaskIcon],onClick:d.onMaskToggle},e.ptm("unmaskIcon")),null,16,["class","onClick"]))]}):T("",!0),s("span",w({class:"p-hidden-accessible","aria-live":"polite"},e.ptm("hiddenAccesible"),{"data-p-hidden-accessible":!0}),z(o.infoText),17),i($,{appendTo:e.appendTo},{default:m(function(){return[i(xe,w({name:"p-connected-overlay",onEnter:d.onOverlayEnter,onLeave:d.onOverlayLeave,onAfterLeave:d.onOverlayAfterLeave},e.ptm("transition")),{default:m(function(){return[o.overlayVisible?(g(),A("div",w({key:0,ref:d.overlayRef,id:e.overlayId||e.panelId||d.overlayUniqueId,class:[e.cx("overlay"),e.panelClass,e.overlayClass],style:[e.overlayStyle,e.panelStyle],onClick:t[0]||(t[0]=function(){return d.onOverlayClick&&d.onOverlayClick.apply(d,arguments)}),"data-p":d.overlayDataP,role:"dialog","aria-live":"polite"},ae(ae(ae({},e.panelProps),e.overlayProps),e.ptm("overlay"))),[E(e.$slots,"header"),E(e.$slots,"content",{},function(){return[s("div",w({class:e.cx("content")},e.ptm("content")),[s("div",w({class:e.cx("meter")},e.ptm("meter")),[s("div",w({class:e.cx("meterLabel"),style:{width:o.meter?o.meter.width:""},"data-p":d.meterDataP},e.ptm("meterLabel")),null,16,It)],16),s("div",w({class:e.cx("meterText")},e.ptm("meterText")),z(o.infoText),17)],16)]}),E(e.$slots,"footer")],16,Lt)):T("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,At)}G.render=Tt;var jt=`
    .p-tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: dt('tag.primary.background');
        color: dt('tag.primary.color');
        font-size: dt('tag.font.size');
        font-weight: dt('tag.font.weight');
        padding: dt('tag.padding');
        border-radius: dt('tag.border.radius');
        gap: dt('tag.gap');
    }

    .p-tag-icon {
        font-size: dt('tag.icon.size');
        width: dt('tag.icon.size');
        height: dt('tag.icon.size');
    }

    .p-tag-rounded {
        border-radius: dt('tag.rounded.border.radius');
    }

    .p-tag-success {
        background: dt('tag.success.background');
        color: dt('tag.success.color');
    }

    .p-tag-info {
        background: dt('tag.info.background');
        color: dt('tag.info.color');
    }

    .p-tag-warn {
        background: dt('tag.warn.background');
        color: dt('tag.warn.color');
    }

    .p-tag-danger {
        background: dt('tag.danger.background');
        color: dt('tag.danger.color');
    }

    .p-tag-secondary {
        background: dt('tag.secondary.background');
        color: dt('tag.secondary.color');
    }

    .p-tag-contrast {
        background: dt('tag.contrast.background');
        color: dt('tag.contrast.color');
    }
`,Ot={root:function(t){var n=t.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warn":n.severity==="warn","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",label:"p-tag-label"},Vt=de.extend({name:"tag",style:jt,classes:Ot}),Et={name:"BaseTag",extends:Ce,props:{value:null,severity:null,rounded:Boolean,icon:String},style:Vt,provide:function(){return{$pcTag:this,$parentInstance:this}}};function Q(e){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(e)}function Mt(e,t,n){return(t=Dt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e){var t=Ut(e,"string");return Q(t)=="symbol"?t:t+""}function Ut(e,t){if(Q(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Q(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z={name:"Tag",extends:Et,inheritAttrs:!1,computed:{dataP:function(){return q(Mt({rounded:this.rounded},this.severity,this.severity))}}},Bt=["data-p"];function Rt(e,t,n,a,o,d){return g(),A("span",w({class:e.cx("root"),"data-p":d.dataP},e.ptmi("root")),[e.$slots.icon?(g(),I(te(e.$slots.icon),w({key:0,class:e.cx("icon")},e.ptm("icon")),null,16,["class"])):e.icon?(g(),A("span",w({key:1,class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16)):T("",!0),e.value!=null||e.$slots.default?E(e.$slots,"default",{key:2},function(){return[s("span",w({class:e.cx("label")},e.ptm("label")),z(e.value),17)]}):T("",!0)],16,Bt)}Z.render=Rt;var Nt=`
    .p-message {
        border-radius: dt('message.border.radius');
        outline-width: dt('message.border.width');
        outline-style: solid;
    }

    .p-message-content {
        display: flex;
        align-items: center;
        padding: dt('message.content.padding');
        gap: dt('message.content.gap');
        height: 100%;
    }

    .p-message-icon {
        flex-shrink: 0;
    }

    .p-message-close-button {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        margin-inline-start: auto;
        overflow: hidden;
        position: relative;
        width: dt('message.close.button.width');
        height: dt('message.close.button.height');
        border-radius: dt('message.close.button.border.radius');
        background: transparent;
        transition:
            background dt('message.transition.duration'),
            color dt('message.transition.duration'),
            outline-color dt('message.transition.duration'),
            box-shadow dt('message.transition.duration'),
            opacity 0.3s;
        outline-color: transparent;
        color: inherit;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-message-close-icon {
        font-size: dt('message.close.icon.size');
        width: dt('message.close.icon.size');
        height: dt('message.close.icon.size');
    }

    .p-message-close-button:focus-visible {
        outline-width: dt('message.close.button.focus.ring.width');
        outline-style: dt('message.close.button.focus.ring.style');
        outline-offset: dt('message.close.button.focus.ring.offset');
    }

    .p-message-info {
        background: dt('message.info.background');
        outline-color: dt('message.info.border.color');
        color: dt('message.info.color');
        box-shadow: dt('message.info.shadow');
    }

    .p-message-info .p-message-close-button:focus-visible {
        outline-color: dt('message.info.close.button.focus.ring.color');
        box-shadow: dt('message.info.close.button.focus.ring.shadow');
    }

    .p-message-info .p-message-close-button:hover {
        background: dt('message.info.close.button.hover.background');
    }

    .p-message-info.p-message-outlined {
        color: dt('message.info.outlined.color');
        outline-color: dt('message.info.outlined.border.color');
    }

    .p-message-info.p-message-simple {
        color: dt('message.info.simple.color');
    }

    .p-message-success {
        background: dt('message.success.background');
        outline-color: dt('message.success.border.color');
        color: dt('message.success.color');
        box-shadow: dt('message.success.shadow');
    }

    .p-message-success .p-message-close-button:focus-visible {
        outline-color: dt('message.success.close.button.focus.ring.color');
        box-shadow: dt('message.success.close.button.focus.ring.shadow');
    }

    .p-message-success .p-message-close-button:hover {
        background: dt('message.success.close.button.hover.background');
    }

    .p-message-success.p-message-outlined {
        color: dt('message.success.outlined.color');
        outline-color: dt('message.success.outlined.border.color');
    }

    .p-message-success.p-message-simple {
        color: dt('message.success.simple.color');
    }

    .p-message-warn {
        background: dt('message.warn.background');
        outline-color: dt('message.warn.border.color');
        color: dt('message.warn.color');
        box-shadow: dt('message.warn.shadow');
    }

    .p-message-warn .p-message-close-button:focus-visible {
        outline-color: dt('message.warn.close.button.focus.ring.color');
        box-shadow: dt('message.warn.close.button.focus.ring.shadow');
    }

    .p-message-warn .p-message-close-button:hover {
        background: dt('message.warn.close.button.hover.background');
    }

    .p-message-warn.p-message-outlined {
        color: dt('message.warn.outlined.color');
        outline-color: dt('message.warn.outlined.border.color');
    }

    .p-message-warn.p-message-simple {
        color: dt('message.warn.simple.color');
    }

    .p-message-error {
        background: dt('message.error.background');
        outline-color: dt('message.error.border.color');
        color: dt('message.error.color');
        box-shadow: dt('message.error.shadow');
    }

    .p-message-error .p-message-close-button:focus-visible {
        outline-color: dt('message.error.close.button.focus.ring.color');
        box-shadow: dt('message.error.close.button.focus.ring.shadow');
    }

    .p-message-error .p-message-close-button:hover {
        background: dt('message.error.close.button.hover.background');
    }

    .p-message-error.p-message-outlined {
        color: dt('message.error.outlined.color');
        outline-color: dt('message.error.outlined.border.color');
    }

    .p-message-error.p-message-simple {
        color: dt('message.error.simple.color');
    }

    .p-message-secondary {
        background: dt('message.secondary.background');
        outline-color: dt('message.secondary.border.color');
        color: dt('message.secondary.color');
        box-shadow: dt('message.secondary.shadow');
    }

    .p-message-secondary .p-message-close-button:focus-visible {
        outline-color: dt('message.secondary.close.button.focus.ring.color');
        box-shadow: dt('message.secondary.close.button.focus.ring.shadow');
    }

    .p-message-secondary .p-message-close-button:hover {
        background: dt('message.secondary.close.button.hover.background');
    }

    .p-message-secondary.p-message-outlined {
        color: dt('message.secondary.outlined.color');
        outline-color: dt('message.secondary.outlined.border.color');
    }

    .p-message-secondary.p-message-simple {
        color: dt('message.secondary.simple.color');
    }

    .p-message-contrast {
        background: dt('message.contrast.background');
        outline-color: dt('message.contrast.border.color');
        color: dt('message.contrast.color');
        box-shadow: dt('message.contrast.shadow');
    }

    .p-message-contrast .p-message-close-button:focus-visible {
        outline-color: dt('message.contrast.close.button.focus.ring.color');
        box-shadow: dt('message.contrast.close.button.focus.ring.shadow');
    }

    .p-message-contrast .p-message-close-button:hover {
        background: dt('message.contrast.close.button.hover.background');
    }

    .p-message-contrast.p-message-outlined {
        color: dt('message.contrast.outlined.color');
        outline-color: dt('message.contrast.outlined.border.color');
    }

    .p-message-contrast.p-message-simple {
        color: dt('message.contrast.simple.color');
    }

    .p-message-text {
        font-size: dt('message.text.font.size');
        font-weight: dt('message.text.font.weight');
    }

    .p-message-icon {
        font-size: dt('message.icon.size');
        width: dt('message.icon.size');
        height: dt('message.icon.size');
    }

    .p-message-enter-from {
        opacity: 0;
    }

    .p-message-enter-active {
        transition: opacity 0.3s;
    }

    .p-message.p-message-leave-from {
        max-height: 1000px;
    }

    .p-message.p-message-leave-to {
        max-height: 0;
        opacity: 0;
        margin: 0;
    }

    .p-message-leave-active {
        overflow: hidden;
        transition:
            max-height 0.45s cubic-bezier(0, 1, 0, 1),
            opacity 0.3s,
            margin 0.3s;
    }

    .p-message-leave-active .p-message-close-button {
        opacity: 0;
    }

    .p-message-sm .p-message-content {
        padding: dt('message.content.sm.padding');
    }

    .p-message-sm .p-message-text {
        font-size: dt('message.text.sm.font.size');
    }

    .p-message-sm .p-message-icon {
        font-size: dt('message.icon.sm.size');
        width: dt('message.icon.sm.size');
        height: dt('message.icon.sm.size');
    }

    .p-message-sm .p-message-close-icon {
        font-size: dt('message.close.icon.sm.size');
        width: dt('message.close.icon.sm.size');
        height: dt('message.close.icon.sm.size');
    }

    .p-message-lg .p-message-content {
        padding: dt('message.content.lg.padding');
    }

    .p-message-lg .p-message-text {
        font-size: dt('message.text.lg.font.size');
    }

    .p-message-lg .p-message-icon {
        font-size: dt('message.icon.lg.size');
        width: dt('message.icon.lg.size');
        height: dt('message.icon.lg.size');
    }

    .p-message-lg .p-message-close-icon {
        font-size: dt('message.close.icon.lg.size');
        width: dt('message.close.icon.lg.size');
        height: dt('message.close.icon.lg.size');
    }

    .p-message-outlined {
        background: transparent;
        outline-width: dt('message.outlined.border.width');
    }

    .p-message-simple {
        background: transparent;
        outline-color: transparent;
        box-shadow: none;
    }

    .p-message-simple .p-message-content {
        padding: dt('message.simple.content.padding');
    }

    .p-message-outlined .p-message-close-button:hover,
    .p-message-simple .p-message-close-button:hover {
        background: transparent;
    }
`,qt={root:function(t){var n=t.props;return["p-message p-component p-message-"+n.severity,{"p-message-outlined":n.variant==="outlined","p-message-simple":n.variant==="simple","p-message-sm":n.size==="small","p-message-lg":n.size==="large"}]},content:"p-message-content",icon:"p-message-icon",text:"p-message-text",closeButton:"p-message-close-button",closeIcon:"p-message-close-icon"},Ft=de.extend({name:"message",style:Nt,classes:qt}),Zt={name:"BaseMessage",extends:Ce,props:{severity:{type:String,default:"info"},closable:{type:Boolean,default:!1},life:{type:Number,default:null},icon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},closeButtonProps:{type:null,default:null},size:{type:String,default:null},variant:{type:String,default:null}},style:Ft,provide:function(){return{$pcMessage:this,$parentInstance:this}}};function X(e){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(e)}function ye(e,t,n){return(t=Ht(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e){var t=Kt(e,"string");return X(t)=="symbol"?t:t+""}function Kt(e,t){if(X(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(X(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pe={name:"Message",extends:Zt,inheritAttrs:!1,emits:["close","life-end"],timeout:null,data:function(){return{visible:!0}},mounted:function(){var t=this;this.life&&setTimeout(function(){t.visible=!1,t.$emit("life-end")},this.life)},methods:{close:function(t){this.visible=!1,this.$emit("close",t)}},computed:{closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},dataP:function(){return q(ye(ye({outlined:this.variant==="outlined",simple:this.variant==="simple"},this.severity,this.severity),this.size,this.size))}},directives:{ripple:Je},components:{TimesIcon:Ke}};function Y(e){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?we(Object(n),!0).forEach(function(a){Jt(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Jt(e,t,n){return(t=Gt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){var t=Wt(e,"string");return Y(t)=="symbol"?t:t+""}function Wt(e,t){if(Y(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Y(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qt=["data-p"],Xt=["data-p"],Yt=["data-p"],_t=["aria-label","data-p"],es=["data-p"];function ts(e,t,n,a,o,d){var b=H("TimesIcon"),$=Ge("ripple");return g(),I(xe,w({name:"p-message",appear:""},e.ptmi("transition")),{default:m(function(){return[le(s("div",w({class:e.cx("root"),role:"alert","aria-live":"assertive","aria-atomic":"true","data-p":d.dataP},e.ptm("root")),[e.$slots.container?E(e.$slots,"container",{key:0,closeCallback:d.close}):(g(),A("div",w({key:1,class:e.cx("content"),"data-p":d.dataP},e.ptm("content")),[E(e.$slots,"icon",{class:N(e.cx("icon"))},function(){return[(g(),I(te(e.icon?"span":null),w({class:[e.cx("icon"),e.icon],"data-p":d.dataP},e.ptm("icon")),null,16,["class","data-p"]))]}),e.$slots.default?(g(),A("div",w({key:0,class:e.cx("text"),"data-p":d.dataP},e.ptm("text")),[E(e.$slots,"default")],16,Yt)):T("",!0),e.closable?le((g(),A("button",w({key:1,class:e.cx("closeButton"),"aria-label":d.closeAriaLabel,type:"button",onClick:t[0]||(t[0]=function(f){return d.close(f)}),"data-p":d.dataP},he(he({},e.closeButtonProps),e.ptm("closeButton"))),[E(e.$slots,"closeicon",{},function(){return[e.closeIcon?(g(),A("i",w({key:0,class:[e.cx("closeIcon"),e.closeIcon],"data-p":d.dataP},e.ptm("closeIcon")),null,16,es)):(g(),I(b,w({key:1,class:[e.cx("closeIcon"),e.closeIcon],"data-p":d.dataP},e.ptm("closeIcon")),null,16,["class","data-p"]))]})],16,_t)),[[$]]):T("",!0)],16,Xt))],16,Qt),[[We,o.visible]])]}),_:3},16)}pe.render=ts;const ss={class:"flex items-center justify-between w-full"},ns={key:0,class:"mt-1 text-sm text-red-500"},os={class:"flex justify-end gap-3"},as={__name:"UserCreateModal",props:{roles:{type:Array,default:()=>[]}},emits:["close","created"],setup(e,{emit:t}){const n=e,a=t,o=C({email:"",password:"",confirmPassword:"",role:"viewer"});C(!1);const d=C(!1),b=C(""),$=se(()=>n.roles.map(h=>({label:O(h.name),value:h.name}))),f=K,j=async()=>{if(d.value=!0,b.value="",!o.value.password){b.value="Inserisci la password",d.value=!1;return}if(!o.value.confirmPassword){b.value="Conferma la password",d.value=!1;return}if(o.value.password!==o.value.confirmPassword){b.value="Le password non coincidono",d.value=!1;return}try{const h={email:o.value.email,password:o.value.password,role:o.value.role},u=await(await fetch(`${f}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();if(!u.success)throw new Error(u.message);a("created",u.user)}catch(h){b.value=h.message||"Errore nella creazione utente"}finally{d.value=!1}},O=h=>({admin:"Amministratore",viewer:"Visualizzatore"})[h]||h;return(h,p)=>(g(),I(r(ne),{visible:!0,"onUpdate:visible":p[6]||(p[6]=u=>h.$emit("close")),modal:"",closable:!1,dismissableMask:!0,class:"premium-modal",style:{width:"28rem"},ptOptions:{mergeProps:!1},pt:{mask:{style:"animation: modalFadeIn 0.15s ease-out !important;"},root:{style:"animation: modalSlideIn 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) !important;"}}},{header:m(()=>[s("div",ss,[p[7]||(p[7]=s("h3",{class:"text-lg font-semibold text-text"},"Nuovo Utente",-1)),i(r(L),{onClick:p[0]||(p[0]=u=>h.$emit("close")),severity:"secondary",text:"",rounded:"",size:"small"},{default:m(()=>[i(r(me),{class:"h-4 w-4"})]),_:1})])]),footer:m(()=>[s("div",os,[i(r(L),{onClick:p[5]||(p[5]=u=>h.$emit("close")),severity:"secondary",size:"small"},{default:m(()=>[...p[13]||(p[13]=[P(" Annulla ",-1)])]),_:1}),i(r(L),{onClick:j,disabled:d.value||!o.value.email||!o.value.password||!o.value.confirmPassword||o.value.password!==o.value.confirmPassword||!o.value.role,severity:"success",size:"small",loading:d.value},{default:m(()=>[P(z(d.value?"Creazione...":"Crea Utente"),1)]),_:1},8,["disabled","loading"])])]),default:m(()=>[s("form",{onSubmit:F(j,["prevent"]),class:"space-y-4"},[s("div",null,[p[8]||(p[8]=s("label",{for:"email",class:"block text-sm font-medium text-text mb-2"}," Email * ",-1)),i(r(D),{id:"email",modelValue:o.value.email,"onUpdate:modelValue":p[1]||(p[1]=u=>o.value.email=u),type:"email",required:"",class:"w-full",placeholder:"utente@esempio.it"},null,8,["modelValue"])]),s("div",null,[p[9]||(p[9]=s("label",{for:"password",class:"block text-sm font-medium text-text mb-2"}," Password * ",-1)),i(r(G),{id:"password",modelValue:o.value.password,"onUpdate:modelValue":p[2]||(p[2]=u=>o.value.password=u),feedback:!1,toggleMask:"",class:"w-full",placeholder:"Password sicura",required:""},null,8,["modelValue"])]),s("div",null,[p[10]||(p[10]=s("label",{for:"confirmPassword",class:"block text-sm font-medium text-text mb-2"}," Conferma Password * ",-1)),i(r(G),{id:"confirmPassword",modelValue:o.value.confirmPassword,"onUpdate:modelValue":p[3]||(p[3]=u=>o.value.confirmPassword=u),feedback:!1,toggleMask:"",class:"w-full",placeholder:"Conferma password",required:"",invalid:o.value.confirmPassword&&o.value.password!==o.value.confirmPassword},null,8,["modelValue","invalid"]),o.value.confirmPassword&&o.value.password!==o.value.confirmPassword?(g(),A("div",ns," Le password non coincidono ")):T("",!0),p[11]||(p[11]=s("div",{class:"mt-2 text-xs text-text-muted"},[s("div",{class:"font-medium mb-1"},"Requisiti password:"),s("ul",{class:"list-disc list-inside space-y-0.5"},[s("li",null,"Almeno 8 caratteri"),s("li",null,"Almeno una maiuscola (A-Z)"),s("li",null,"Almeno un carattere speciale (!@#$%^&*)")])],-1))]),s("div",null,[p[12]||(p[12]=s("label",{for:"role",class:"block text-sm font-medium text-text mb-2"}," Ruolo * ",-1)),i(r(ue),{id:"role",modelValue:o.value.role,"onUpdate:modelValue":p[4]||(p[4]=u=>o.value.role=u),options:$.value,optionLabel:"label",optionValue:"value",placeholder:"Seleziona ruolo",class:"w-full",required:""},null,8,["modelValue","options"])]),b.value?(g(),I(r(pe),{key:0,severity:"error",closable:!1},{default:m(()=>[P(z(b.value),1)]),_:1})):T("",!0)],32)]),_:1}))}},ls={class:"flex items-center justify-between w-full"},rs={class:"flex items-center gap-4"},is={class:"flex items-center"},ds={class:"flex items-center"},us={class:"border-t pt-4"},cs={class:"flex items-center mb-3"},ms={key:0,class:"space-y-4"},ps={key:0,class:"mt-1 text-sm text-red-500"},fs={class:"flex justify-end gap-3"},gs={__name:"UserEditModal",props:{user:{type:Object,required:!0},roles:{type:Array,default:()=>[]}},emits:["close","updated"],setup(e,{emit:t}){const n=e,a=t,o=C({email:"",role:"",is_active:!0,password:"",confirmPassword:""}),d=C(!1),b=C(!1),$=C(""),f=se(()=>n.roles.map(p=>({label:h(p.name),value:p.name})));$e(()=>{o.value={email:n.user.email,role:n.user.role,is_active:n.user.is_active,password:"",confirmPassword:""}});const j=K,O=async()=>{if(b.value=!0,$.value="",d.value){if(!o.value.password){$.value="Inserisci la nuova password",b.value=!1;return}if(!o.value.confirmPassword){$.value="Conferma la password",b.value=!1;return}if(o.value.password!==o.value.confirmPassword){$.value="Le password non coincidono",b.value=!1;return}}try{const p={email:o.value.email,role:o.value.role,is_active:o.value.is_active};d.value&&o.value.password&&(p.password=o.value.password);const y=await(await fetch(`${j}/api/users/${n.user.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).json();if(!y.success)throw new Error(y.message);a("updated",y.user)}catch(p){$.value=p.message||"Errore nell'aggiornamento utente"}finally{b.value=!1}},h=p=>({admin:"Amministratore",viewer:"Visualizzatore"})[p]||p;return(p,u)=>(g(),I(r(ne),{visible:!0,"onUpdate:visible":u[9]||(u[9]=y=>p.$emit("close")),modal:"",closable:!1,dismissableMask:!0,class:"premium-modal",style:{width:"28rem"},ptOptions:{mergeProps:!1},pt:{mask:{style:"animation: modalFadeIn 0.15s ease-out !important;"},root:{style:"animation: modalSlideIn 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) !important;"}}},{header:m(()=>[s("div",ls,[u[10]||(u[10]=s("h3",{class:"text-lg font-semibold text-text"},"Modifica Utente",-1)),i(r(L),{onClick:u[0]||(u[0]=y=>p.$emit("close")),severity:"secondary",text:"",rounded:"",size:"small"},{default:m(()=>[i(r(me),{class:"h-4 w-4"})]),_:1})])]),footer:m(()=>[s("div",fs,[i(r(L),{onClick:u[8]||(u[8]=y=>p.$emit("close")),severity:"secondary",size:"small"},{default:m(()=>[...u[20]||(u[20]=[P(" Annulla ",-1)])]),_:1}),i(r(L),{onClick:O,disabled:b.value||!o.value.email||!o.value.role||d.value&&(!o.value.password||!o.value.confirmPassword||o.value.password!==o.value.confirmPassword),severity:"info",size:"small",loading:b.value},{default:m(()=>[P(z(b.value?"Aggiornamento...":"Aggiorna Utente"),1)]),_:1},8,["disabled","loading"])])]),default:m(()=>[s("form",{onSubmit:F(O,["prevent"]),class:"space-y-4"},[s("div",null,[u[11]||(u[11]=s("label",{for:"email",class:"block text-sm font-medium text-text mb-2"}," Email * ",-1)),i(r(D),{id:"email",modelValue:o.value.email,"onUpdate:modelValue":u[1]||(u[1]=y=>o.value.email=y),type:"email",required:"",class:"w-full"},null,8,["modelValue"])]),s("div",null,[u[12]||(u[12]=s("label",{for:"role",class:"block text-sm font-medium text-text mb-2"}," Ruolo * ",-1)),i(r(ue),{id:"role",modelValue:o.value.role,"onUpdate:modelValue":u[2]||(u[2]=y=>o.value.role=y),options:f.value,optionLabel:"label",optionValue:"value",placeholder:"Seleziona ruolo",class:"w-full",required:""},null,8,["modelValue","options"])]),s("div",null,[u[15]||(u[15]=s("label",{class:"block text-sm font-medium text-text mb-2"}," Stato Account ",-1)),s("div",rs,[s("div",is,[i(r(fe),{id:"active",modelValue:o.value.is_active,"onUpdate:modelValue":u[3]||(u[3]=y=>o.value.is_active=y),value:!0},null,8,["modelValue"]),u[13]||(u[13]=s("label",{for:"active",class:"ml-2 text-sm text-text"},"Attivo",-1))]),s("div",ds,[i(r(fe),{id:"inactive",modelValue:o.value.is_active,"onUpdate:modelValue":u[4]||(u[4]=y=>o.value.is_active=y),value:!1},null,8,["modelValue"]),u[14]||(u[14]=s("label",{for:"inactive",class:"ml-2 text-sm text-text"},"Disattivo",-1))])])]),s("div",us,[s("div",cs,[i(r(tt),{id:"changePassword",modelValue:d.value,"onUpdate:modelValue":u[5]||(u[5]=y=>d.value=y),binary:!0},null,8,["modelValue"]),u[16]||(u[16]=s("label",{for:"changePassword",class:"ml-2 text-sm font-medium text-text"}," Cambia password ",-1))]),d.value?(g(),A("div",ms,[s("div",null,[u[17]||(u[17]=s("label",{for:"password",class:"block text-sm font-medium text-text mb-2"}," Nuova Password * ",-1)),i(r(G),{id:"password",modelValue:o.value.password,"onUpdate:modelValue":u[6]||(u[6]=y=>o.value.password=y),feedback:!1,toggleMask:"",class:"w-full",placeholder:"Password sicura",required:d.value},null,8,["modelValue","required"])]),s("div",null,[u[18]||(u[18]=s("label",{for:"confirmPassword",class:"block text-sm font-medium text-text mb-2"}," Conferma Password * ",-1)),i(r(G),{id:"confirmPassword",modelValue:o.value.confirmPassword,"onUpdate:modelValue":u[7]||(u[7]=y=>o.value.confirmPassword=y),feedback:!1,toggleMask:"",class:"w-full",placeholder:"Conferma password",required:d.value,invalid:d.value&&o.value.confirmPassword&&o.value.password!==o.value.confirmPassword},null,8,["modelValue","required","invalid"]),d.value&&o.value.confirmPassword&&o.value.password!==o.value.confirmPassword?(g(),A("div",ps," Le password non coincidono ")):T("",!0)]),u[19]||(u[19]=s("div",{class:"mt-2 text-xs text-text-muted"},[s("div",{class:"font-medium mb-1"},"Requisiti password:"),s("ul",{class:"list-disc list-inside space-y-0.5"},[s("li",null,"Almeno 8 caratteri"),s("li",null,"Almeno una maiuscola (A-Z)"),s("li",null,"Almeno un carattere speciale (!@#$%^&*)")])],-1))])):T("",!0)]),$.value?(g(),I(r(pe),{key:0,severity:"error",closable:!1},{default:m(()=>[P(z($.value),1)]),_:1})):T("",!0)],32)]),_:1}))}},vs={class:"space-y-6"},bs={key:0,class:"premium-glass p-6 rounded-lg"},ys={class:"text-lg font-semibold text-text mb-4 flex items-center"},ws={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},hs={class:"flex items-center"},ks={key:1,class:"premium-glass p-6 rounded-lg"},xs={class:"text-lg font-semibold text-text mb-4 flex items-center"},Cs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$s={class:"premium-glass p-4 rounded-lg"},Ss={class:"flex items-center justify-between"},Ps={class:"text-sm text-text-muted"},zs={class:"font-medium"},As={class:"flex justify-between items-center"},Ls={class:"flex gap-2"},Is={__name:"AuthConfigModal",props:{visible:Boolean,config:Object,isEditing:{type:Boolean,default:!1}},emits:["update:visible","saved"],setup(e,{emit:t}){const n=e,a=t,o=Pe(),d=se({get:()=>n.visible,set:S=>a("update:visible",S)}),b=C(!1),$=C(!1),f=Qe({method:"local",ldap:{server:"",port:"389",baseDN:"",userDN:"",password:"",useSSL:!1},mfa:{method:"totp",timeout:300,enabled:!1}}),j=C([{label:"TOTP (Google Authenticator)",value:"totp"},{label:"SMS",value:"sms"},{label:"Email",value:"email"}]);Xe(()=>n.config,S=>{S&&Object.assign(f,S)},{immediate:!0});const O=S=>({local:"Local",ldap:"LDAP",ldap_mfa:"LDAP + MFA"})[S]||"Sconosciuto",h=S=>({local:"info",ldap:"warning",ldap_mfa:"success"})[S]||"info",p=async()=>{$.value=!0;try{const x=await(await fetch(`${K}/api/auth/test-config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("pilotpro_token")}`},body:JSON.stringify({method:f.method,ldap:f.ldap,mfa:f.mfa})})).json();x.success?o.success("Test configurazione completato con successo!"):o.error(`Errore test: ${x.message}`)}catch(S){console.error("Errore test configurazione:",S),o.error(`Errore durante il test: ${S.message}`)}finally{$.value=!1}},u=async()=>{b.value=!0;try{const x=await(await fetch(`${K}/api/auth/config`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("pilotpro_token")}`},body:JSON.stringify({method:f.method,ldap:f.ldap,mfa:f.mfa})})).json();if(x.success)o.success("Configurazione salvata con successo!"),a("saved",{...f}),y();else throw new Error(x.message||"Errore nel salvataggio")}catch(S){console.error("Errore salvataggio configurazione:",S),o.error(`Errore nel salvataggio: ${S.message}`)}finally{b.value=!1}},y=()=>{a("update:visible",!1)};return(S,c)=>(g(),I(r(ne),{visible:d.value,"onUpdate:visible":c[8]||(c[8]=x=>d.value=x),modal:"",header:e.isEditing?"Modifica Configurazione Autenticazione":"Configurazione Autenticazione",class:"premium-modal w-full max-w-4xl",dismissableMask:!1,closable:!b.value},{footer:m(()=>[s("div",As,[i(r(L),{onClick:p,disabled:$.value,severity:"info",outlined:"",class:"premium-button"},{default:m(()=>[$.value?(g(),A(_,{key:0},[c[21]||(c[21]=s("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"},null,-1)),c[22]||(c[22]=P(" Testando... ",-1))],64)):(g(),A(_,{key:1},[P(" Test Connessione ")],64))]),_:1},8,["disabled"]),c[26]||(c[26]=s("div",null,null,-1)),s("div",Ls,[i(r(L),{onClick:y,disabled:b.value,severity:"secondary",outlined:"",class:"premium-button"},{default:m(()=>[...c[23]||(c[23]=[P(" Annulla ",-1)])]),_:1},8,["disabled"]),i(r(L),{onClick:u,disabled:b.value,class:"premium-button"},{default:m(()=>[b.value?(g(),A(_,{key:0},[c[24]||(c[24]=s("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"},null,-1)),c[25]||(c[25]=P(" Salvando... ",-1))],64)):(g(),A(_,{key:1},[P(" Salva Configurazione ")],64))]),_:1},8,["disabled"])])])]),default:m(()=>[s("div",vs,[f.method.includes("ldap")?(g(),A("div",bs,[s("h4",ys,[i(r(ot),{class:"h-5 w-5 mr-2 text-warning"}),c[9]||(c[9]=P(" Configurazione LDAP ",-1))]),s("div",ws,[s("div",null,[c[10]||(c[10]=s("label",{class:"block text-sm font-medium text-text mb-2"},"Server LDAP",-1)),i(r(D),{modelValue:f.ldap.server,"onUpdate:modelValue":c[0]||(c[0]=x=>f.ldap.server=x),placeholder:"ldap.example.com",class:"w-full premium-input"},null,8,["modelValue"])]),s("div",null,[c[11]||(c[11]=s("label",{class:"block text-sm font-medium text-text mb-2"},"Porta",-1)),i(r(D),{modelValue:f.ldap.port,"onUpdate:modelValue":c[1]||(c[1]=x=>f.ldap.port=x),placeholder:"389",type:"number",class:"w-full premium-input"},null,8,["modelValue"])]),s("div",null,[c[12]||(c[12]=s("label",{class:"block text-sm font-medium text-text mb-2"},"Base DN",-1)),i(r(D),{modelValue:f.ldap.baseDN,"onUpdate:modelValue":c[2]||(c[2]=x=>f.ldap.baseDN=x),placeholder:"DC=example,DC=com",class:"w-full premium-input"},null,8,["modelValue"])]),s("div",null,[c[13]||(c[13]=s("label",{class:"block text-sm font-medium text-text mb-2"},"User DN Template",-1)),i(r(D),{modelValue:f.ldap.userDN,"onUpdate:modelValue":c[3]||(c[3]=x=>f.ldap.userDN=x),placeholder:"cn=%s,ou=users,dc=example,dc=com",class:"w-full premium-input"},null,8,["modelValue"])]),s("div",null,[c[14]||(c[14]=s("label",{class:"block text-sm font-medium text-text mb-2"},"Password Admin",-1)),i(r(D),{modelValue:f.ldap.password,"onUpdate:modelValue":c[4]||(c[4]=x=>f.ldap.password=x),type:"password",placeholder:"Password per test connessione",class:"w-full premium-input"},null,8,["modelValue"])]),s("div",hs,[le(s("input",{id:"useSSL","onUpdate:modelValue":c[5]||(c[5]=x=>f.ldap.useSSL=x),type:"checkbox",class:"premium-checkbox mr-2"},null,512),[[Ye,f.ldap.useSSL]]),c[15]||(c[15]=s("label",{for:"useSSL",class:"text-sm font-medium text-text"},"Usa SSL/TLS",-1))])])])):T("",!0),f.method==="ldap_mfa"?(g(),A("div",ks,[s("h4",xs,[i(r(at),{class:"h-5 w-5 mr-2 text-success"}),c[16]||(c[16]=P(" Configurazione MFA ",-1))]),s("div",Cs,[s("div",null,[c[17]||(c[17]=s("label",{class:"block text-sm font-medium text-text mb-2"},"Metodo MFA",-1)),i(r(ue),{modelValue:f.mfa.method,"onUpdate:modelValue":c[6]||(c[6]=x=>f.mfa.method=x),options:j.value,optionLabel:"label",optionValue:"value",placeholder:"Seleziona metodo",class:"w-full premium-dropdown"},null,8,["modelValue","options"])]),s("div",null,[c[18]||(c[18]=s("label",{class:"block text-sm font-medium text-text mb-2"},"Timeout (secondi)",-1)),i(r(D),{modelValue:f.mfa.timeout,"onUpdate:modelValue":c[7]||(c[7]=x=>f.mfa.timeout=x),placeholder:"300",type:"number",class:"w-full premium-input"},null,8,["modelValue"])])])])):T("",!0),s("div",$s,[s("div",Ss,[s("div",null,[c[20]||(c[20]=s("h4",{class:"font-medium text-text"},"Stato Attuale",-1)),s("p",Ps,[c[19]||(c[19]=P(" Metodo: ",-1)),s("span",zs,z(O(f.method)),1)])]),i(r(Z),{value:O(f.method),severity:h(f.method),class:"premium-tag"},null,8,["value","severity"])])])])]),_:1},8,["visible","header","closable"]))}},Ts=Se(Is,[["__scopeId","data-v-049b8327"]]),js={class:"flex items-center justify-between w-full"},Os={class:"text-lg font-semibold text-text"},Vs={class:"mb-4"},Es={class:"text-text-muted"},Ms={class:"flex justify-end gap-3"},Ds={__name:"ConfirmModal",props:{title:{type:String,default:"Conferma"},message:{type:String,required:!0},confirmText:{type:String,default:"Conferma"},cancelText:{type:String,default:"Annulla"},confirmClass:{type:String,default:"bg-primary hover:bg-primary-hover"},isLoading:{type:Boolean,default:!1}},emits:["close","confirm"],setup(e){const t=e,n=se(()=>t.confirmClass.includes("red")?"danger":t.confirmClass.includes("green")?"success":t.confirmClass.includes("blue")?"info":"primary");return(a,o)=>(g(),I(r(ne),{visible:!0,"onUpdate:visible":o[3]||(o[3]=d=>a.$emit("close")),modal:"",closable:!1,dismissableMask:!0,class:"premium-modal",style:{width:"24rem"},ptOptions:{mergeProps:!1},pt:{mask:{style:"animation: modalFadeIn 0.12s ease-out !important;"},root:{style:"animation: modalSlideIn 0.18s cubic-bezier(0.34, 1.56, 0.64, 1) !important;"}}},{header:m(()=>[s("div",js,[s("h3",Os,z(e.title),1),i(r(L),{onClick:o[0]||(o[0]=d=>a.$emit("close")),severity:"secondary",text:"",rounded:"",size:"small"},{default:m(()=>[i(r(me),{class:"h-4 w-4"})]),_:1})])]),footer:m(()=>[s("div",Ms,[i(r(L),{onClick:o[1]||(o[1]=d=>a.$emit("close")),severity:"secondary",size:"small"},{default:m(()=>[P(z(e.cancelText),1)]),_:1}),i(r(L),{onClick:o[2]||(o[2]=d=>a.$emit("confirm")),disabled:e.isLoading,severity:n.value,size:"small",loading:e.isLoading},{default:m(()=>[P(z(e.isLoading?"Elaborazione...":e.confirmText),1)]),_:1},8,["disabled","severity","loading"])])]),default:m(()=>[s("div",Vs,[s("p",Es,z(e.message),1)])]),_:1}))}},Us={class:"space-y-4"},Bs={class:"flex items-center gap-2"},Rs={class:"flex items-center gap-3 mb-4"},Ns={key:0,class:"flex items-center justify-center py-12"},qs={class:"p-4"},Fs={class:"flex items-center"},Zs={class:"text-red-400 text-sm mt-1"},Hs={class:"flex items-center justify-between"},Ks={class:"text-text-muted text-sm mt-1"},Js={class:"flex items-center"},Gs={class:"flex-shrink-0 h-8 w-8"},Ws={class:"h-8 w-8 rounded-full bg-primary text-white flex items-center justify-center text-sm font-medium"},Qs={class:"ml-3"},Xs={class:"text-sm font-medium text-text"},Ys={class:"text-xs text-text-muted"},_s={class:"text-sm text-text-muted"},en={class:"flex gap-2"},tn={class:"flex items-center gap-2"},sn={class:"flex items-center"},nn={class:"flex-shrink-0 mr-4"},on={class:"h-10 w-10 rounded-full bg-primary flex items-center justify-center"},an={class:"flex items-center gap-2"},ln={class:"font-medium text-text"},rn={class:"text-sm text-text-muted mt-1"},dn={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},un={class:"p-6 text-center"},cn={class:"p-6 text-center"},mn={class:"p-6 text-center"},pn={__name:"SettingsPage",setup(e){const t=Pe(),n=C(!1),a=C([]),o=C([]),d=C(""),b=C(!1),$=C(!1),f=C(!1),j=C(null),O=C(!1),h=C(null),p=C(!1),u=C({method:"local",ldap:{server:"",port:"389",baseDN:"",userDN:"",password:"",useSSL:!1},mfa:{method:"totp",timeout:300,enabled:!1}}),y=C({label:"Local",severity:"info",description:"Autenticazione tramite database locale con username e password"}),S=K,c=async()=>{n.value=!0,d.value="";try{const[v,l]=await Promise.all([fetch(`${S}/api/users`,{}),fetch(`${S}/api/roles`,{})]),V=await v.json(),B=await l.json();if(!V.success)throw new Error(V.message);if(!B.success)throw new Error(B.message);a.value=V.users,o.value=B.roles}catch(v){d.value=v.message||"Errore nel caricamento dati",console.error("Error loading users:",v)}finally{n.value=!1}},x=async()=>{try{const l=await(await fetch(`${S}/api/auth/config`,{})).json();if(l.success&&l.config){Object.assign(u.value,l.config);const V={local:{label:"Local",severity:"info",description:"Autenticazione tramite database locale con username e password"},ldap:{label:"LDAP",severity:"warning",description:"Autenticazione tramite server LDAP esterno"},ldap_mfa:{label:"LDAP + MFA",severity:"success",description:"Autenticazione LDAP con autenticazione a due fattori"}};y.value=V[u.value.method]||V.local}}catch(v){console.error("Errore caricamento configurazione:",v)}},Le=v=>{j.value={...v},f.value=!0},Ie=v=>{h.value=v,O.value=!0},Te=async()=>{if(h.value){b.value=!0;try{const l=await(await fetch(`${S}/api/users/${h.value.id}`,{method:"DELETE"})).json();if(!l.success)throw new Error(l.message);a.value=a.value.filter(V=>V.id!==h.value.id),t.success("Utente eliminato con successo"),O.value=!1,h.value=null}catch(v){console.error("Error deleting user:",v),t.error(`Errore nell'eliminazione: ${v.message}`)}finally{b.value=!1}}},je=v=>{a.value.unshift(v),$.value=!1,t.success("Utente creato con successo")},U=(v=null)=>{v&&(u.value.method=v),p.value=!0},Oe=v=>{Object.assign(u.value,v);const l={local:{label:"Local",severity:"info",description:"Autenticazione tramite database locale con username e password"},ldap:{label:"LDAP",severity:"warning",description:"Autenticazione tramite server LDAP esterno"},ldap_mfa:{label:"LDAP + MFA",severity:"success",description:"Autenticazione LDAP con autenticazione a due fattori"}};y.value=l[v.method]||l.local,t.success("Configurazione autenticazione aggiornata")},Ve=v=>{const l=a.value.findIndex(V=>V.id===v.id);l>=0&&(a.value[l]=v),f.value=!1,j.value=null,t.success("Utente aggiornato con successo")},Ee=v=>v?new Date(v).toLocaleDateString("it-IT",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Mai",Me=v=>({admin:"danger",editor:"warning",viewer:"info"})[v]||"info";return $e(()=>{c(),x()}),(v,l)=>{const V=H("Server"),B=H("Shield");return g(),I(_e,null,{default:m(()=>[s("div",Us,[i(r(st),{class:"premium-tabs"},{default:m(()=>[i(r(ge),null,{header:m(()=>[s("div",Bs,[i(r(M),{icon:"mdi:account-group",class:"h-4 w-4"}),l[11]||(l[11]=s("span",null,"Gestione Utenti",-1))])]),default:m(()=>[s("div",Rs,[i(r(L),{onClick:c,disabled:n.value,severity:"secondary",size:"small",class:"premium-button"},{default:m(()=>[i(r(M),{icon:"mdi:refresh",class:N(["h-3 w-3 mr-2",{"animate-spin":n.value}])},null,8,["class"]),l[12]||(l[12]=P(" Aggiorna ",-1))]),_:1},8,["disabled"]),i(r(L),{onClick:l[0]||(l[0]=k=>$.value=!0),severity:"success",size:"small",class:"premium-button"},{default:m(()=>[i(r(M),{icon:"mdi:account-plus",class:"h-3 w-3 mr-2"}),l[13]||(l[13]=P(" Nuovo Utente ",-1))]),_:1})]),n.value&&a.value.length===0?(g(),A("div",Ns,[...l[14]||(l[14]=[s("div",{class:"text-center"},[s("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),s("p",{class:"mt-4 text-text-muted"},"Caricamento utenti...")],-1)])])):d.value?(g(),I(r(ee),{key:1,class:"premium-glass border-red-500/20"},{content:m(()=>[s("div",qs,[s("div",Fs,[i(r(M),{icon:"mdi:alert-circle",class:"h-5 w-5 text-red-400 mr-3"}),s("div",null,[l[15]||(l[15]=s("h3",{class:"text-red-300 font-medium"},"Errore nel caricamento",-1)),s("p",Zs,z(d.value),1)])])])]),_:1})):(g(),I(r(ee),{key:2,class:"premium-glass premium-hover-lift"},{title:m(()=>[s("div",Hs,[s("div",null,[l[16]||(l[16]=s("h2",{class:"text-lg font-semibold text-text"},"Gestione Utenti",-1)),s("p",Ks,z(a.value.length)+" utenti registrati",1)])])]),content:m(()=>[i(r(nt),{value:a.value,class:"premium-table",paginator:!0,rows:10,responsiveLayout:"scroll",stripedRows:""},{default:m(()=>[i(r(R),{field:"email",header:"Utente"},{body:m(({data:k})=>[s("div",Js,[s("div",Gs,[s("div",Ws,z(k.email.charAt(0).toUpperCase()),1)]),s("div",Qs,[s("div",Xs,z(k.email),1),s("div",Ys,"ID: "+z(k.id.slice(0,8)),1)])])]),_:1}),i(r(R),{field:"role",header:"Ruolo"},{body:m(({data:k})=>[i(r(Z),{value:k.role,severity:Me(k.role),class:"premium-tag"},null,8,["value","severity"])]),_:1}),i(r(R),{field:"created_at",header:"Creato"},{body:m(({data:k})=>[s("span",_s,z(Ee(k.created_at)),1)]),_:1}),i(r(R),{field:"is_active",header:"Stato"},{body:m(({data:k})=>[i(r(Z),{value:k.is_active?"Attivo":"Disattivo",severity:k.is_active?"success":"danger",class:"premium-tag"},null,8,["value","severity"])]),_:1}),i(r(R),{header:"Azioni"},{body:m(({data:k})=>[s("div",en,[i(r(L),{onClick:De=>Le(k),severity:"info",size:"small",class:"premium-button p-2"},{default:m(()=>[i(r(M),{icon:"mdi:pencil",class:"h-3 w-3"})]),_:1},8,["onClick"]),i(r(L),{onClick:De=>Ie(k),severity:"danger",size:"small",class:"premium-button p-2"},{default:m(()=>[i(r(M),{icon:"mdi:delete",class:"h-3 w-3"})]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["value"])]),_:1}))]),_:1}),i(r(ge),null,{header:m(()=>[s("div",tn,[i(r(M),{icon:"mdi:shield",class:"h-4 w-4"}),l[17]||(l[17]=s("span",null,"Autenticazione",-1))])]),default:m(()=>[i(r(ee),{class:"premium-glass mb-6"},{title:m(()=>[...l[18]||(l[18]=[s("h3",{class:"text-lg font-semibold text-text"},"Metodo Autenticazione Corrente",-1)])]),content:m(()=>[s("div",sn,[s("div",nn,[s("div",on,[i(r(M),{icon:"mdi:shield",class:"h-5 w-5 text-white"})])]),s("div",null,[s("div",an,[s("span",ln,z(y.value.label),1),i(r(Z),{value:y.value.label,severity:y.value.severity,class:"premium-tag"},null,8,["value","severity"])]),s("p",rn,z(y.value.description),1)])])]),_:1}),i(r(ee),{class:"premium-glass"},{title:m(()=>[...l[19]||(l[19]=[s("h3",{class:"text-lg font-semibold text-text"},"Configurazione Metodi di Autenticazione",-1)])]),content:m(()=>[s("div",dn,[s("div",{class:N(["premium-glass cursor-pointer border-2 transition-all duration-200 rounded-lg hover:border-primary hover:scale-105",u.value.method==="local"?"border-primary border-4":"border-gray-600"]),onClick:l[2]||(l[2]=k=>U("local"))},[s("div",un,[i(r(M),{icon:"mdi:key",class:"h-12 w-12 mx-auto mb-4 text-primary"}),l[21]||(l[21]=s("h3",{class:"text-lg font-medium text-text mb-2"},"Local",-1)),l[22]||(l[22]=s("p",{class:"text-sm text-text-muted mb-4"},"Autenticazione con database locale",-1)),i(r(L),{severity:"info",size:"small",class:"premium-button w-full",onClick:l[1]||(l[1]=F(k=>U("local"),["stop"]))},{default:m(()=>[...l[20]||(l[20]=[P(" Configura Local ",-1)])]),_:1})])],2),s("div",{class:N(["premium-glass cursor-pointer border-2 transition-all duration-200 rounded-lg hover:border-warning hover:scale-105",u.value.method==="ldap"?"border-warning border-4":"border-gray-600"]),onClick:l[4]||(l[4]=k=>U("ldap"))},[s("div",cn,[i(V,{class:"h-12 w-12 mx-auto mb-4 text-warning"}),l[24]||(l[24]=s("h3",{class:"text-lg font-medium text-text mb-2"},"LDAP",-1)),l[25]||(l[25]=s("p",{class:"text-sm text-text-muted mb-4"},"Autenticazione con Active Directory",-1)),i(r(L),{severity:"warning",size:"small",class:"premium-button w-full",onClick:l[3]||(l[3]=F(k=>U("ldap"),["stop"]))},{default:m(()=>[...l[23]||(l[23]=[P(" Configura LDAP ",-1)])]),_:1})])],2),s("div",{class:N(["premium-glass cursor-pointer border-2 transition-all duration-200 rounded-lg hover:border-success hover:scale-105",u.value.method==="ldap_mfa"?"border-success border-4":"border-gray-600"]),onClick:l[6]||(l[6]=k=>U("ldap_mfa"))},[s("div",mn,[i(B,{class:"h-12 w-12 mx-auto mb-4 text-success"}),l[27]||(l[27]=s("h3",{class:"text-lg font-medium text-text mb-2"},"LDAP + MFA",-1)),l[28]||(l[28]=s("p",{class:"text-sm text-text-muted mb-4"},"LDAP con autenticazione a due fattori",-1)),i(r(L),{severity:"success",size:"small",class:"premium-button w-full",onClick:l[5]||(l[5]=F(k=>U("ldap_mfa"),["stop"]))},{default:m(()=>[...l[26]||(l[26]=[P(" Configura LDAP+MFA ",-1)])]),_:1})])],2)])]),_:1})]),_:1})]),_:1}),$.value?(g(),I(as,{key:0,roles:o.value,onClose:l[7]||(l[7]=k=>$.value=!1),onCreated:je},null,8,["roles"])):T("",!0),f.value&&j.value?(g(),I(gs,{key:1,user:j.value,roles:o.value,onClose:l[8]||(l[8]=k=>{f.value=!1,j.value=null}),onUpdated:Ve},null,8,["user","roles"])):T("",!0),O.value&&h.value?(g(),I(Ds,{key:2,title:"Conferma Eliminazione",message:`Sei sicuro di voler eliminare l'utente ${h.value.email}? Questa azione non pu essere annullata.`,"confirm-text":"Elimina","confirm-class":"bg-red-600 hover:bg-red-700","is-loading":b.value,onClose:l[9]||(l[9]=k=>{O.value=!1,h.value=null}),onConfirm:Te},null,8,["message","is-loading"])):T("",!0),i(Ts,{visible:p.value,"onUpdate:visible":l[10]||(l[10]=k=>p.value=k),config:u.value,"is-editing":!0,onSaved:Oe},null,8,["visible","config"])])]),_:1})}}},wn=Se(pn,[["__scopeId","data-v-47731909"]]);export{wn as default};
//# sourceMappingURL=SettingsPage-D-17TpNG.js.map
